var dH=Object.defineProperty;var fH=(e,t,n)=>t in e?dH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ei=(e,t,n)=>(fH(e,typeof t!="symbol"?t+"":t,n),n);function hH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var UI={exports:{}},by={},VI={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),mH=Symbol.for("react.portal"),gH=Symbol.for("react.fragment"),yH=Symbol.for("react.strict_mode"),vH=Symbol.for("react.profiler"),xH=Symbol.for("react.provider"),bH=Symbol.for("react.context"),wH=Symbol.for("react.forward_ref"),SH=Symbol.for("react.suspense"),kH=Symbol.for("react.memo"),EH=Symbol.for("react.lazy"),xA=Symbol.iterator;function CH(e){return e===null||typeof e!="object"?null:(e=xA&&e[xA]||e["@@iterator"],typeof e=="function"?e:null)}var WI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HI=Object.assign,KI={};function Zc(e,t,n){this.props=e,this.context=t,this.refs=KI,this.updater=n||WI}Zc.prototype.isReactComponent={};Zc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qI(){}qI.prototype=Zc.prototype;function DS(e,t,n){this.props=e,this.context=t,this.refs=KI,this.updater=n||WI}var LS=DS.prototype=new qI;LS.constructor=DS;HI(LS,Zc.prototype);LS.isPureReactComponent=!0;var bA=Array.isArray,GI=Object.prototype.hasOwnProperty,$S={current:null},YI={key:!0,ref:!0,__self:!0,__source:!0};function JI(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)GI.call(t,r)&&!YI.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zf,type:e,key:o,ref:s,props:i,_owner:$S.current}}function TH(e,t){return{$$typeof:zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function FS(e){return typeof e=="object"&&e!==null&&e.$$typeof===zf}function AH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wA=/\/+/g;function v0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AH(""+e.key):t.toString(36)}function Rp(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case zf:case mH:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+v0(s,0):r,bA(i)?(n="",e!=null&&(n=e.replace(wA,"$&/")+"/"),Rp(i,t,n,"",function(c){return c})):i!=null&&(FS(i)&&(i=TH(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wA,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",bA(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+v0(o,a);s+=Rp(o,t,n,l,i)}else if(l=CH(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+v0(o,a++),s+=Rp(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ah(e,t,n){if(e==null)return e;var r=[],i=0;return Rp(e,r,"","",function(o){return t.call(n,o,i++)}),r}function PH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dn={current:null},Dp={transition:null},_H={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Dp,ReactCurrentOwner:$S};function XI(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Ah,forEach:function(e,t,n){Ah(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ah(e,function(){t++}),t},toArray:function(e){return Ah(e,function(t){return t})||[]},only:function(e){if(!FS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Zc;Ee.Fragment=gH;Ee.Profiler=vH;Ee.PureComponent=DS;Ee.StrictMode=yH;Ee.Suspense=SH;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_H;Ee.act=XI;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=HI({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=$S.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)GI.call(t,l)&&!YI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zf,type:e.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(e){return e={$$typeof:bH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xH,_context:e},e.Consumer=e};Ee.createElement=JI;Ee.createFactory=function(e){var t=JI.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:wH,render:e}};Ee.isValidElement=FS;Ee.lazy=function(e){return{$$typeof:EH,_payload:{_status:-1,_result:e},_init:PH}};Ee.memo=function(e,t){return{$$typeof:kH,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Dp.transition;Dp.transition={};try{e()}finally{Dp.transition=t}};Ee.unstable_act=XI;Ee.useCallback=function(e,t){return Dn.current.useCallback(e,t)};Ee.useContext=function(e){return Dn.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Dn.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Dn.current.useEffect(e,t)};Ee.useId=function(){return Dn.current.useId()};Ee.useImperativeHandle=function(e,t,n){return Dn.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return Dn.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Dn.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Dn.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return Dn.current.useReducer(e,t,n)};Ee.useRef=function(e){return Dn.current.useRef(e)};Ee.useState=function(e){return Dn.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return Dn.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return Dn.current.useTransition()};Ee.version="18.3.1";VI.exports=Ee;var x=VI.exports;const Te=yr(x),BS=hH({__proto__:null,default:Te},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OH=x,MH=Symbol.for("react.element"),NH=Symbol.for("react.fragment"),jH=Object.prototype.hasOwnProperty,IH=OH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RH={key:!0,ref:!0,__self:!0,__source:!0};function QI(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)jH.call(t,r)&&!RH.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:MH,type:e,key:o,ref:s,props:i,_owner:IH.current}}by.Fragment=NH;by.jsx=QI;by.jsxs=QI;UI.exports=by;var g=UI.exports,jb={},ZI={exports:{}},vr={},eR={exports:{}},tR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,j){var q=P.length;P.push(j);e:for(;0<q;){var z=q-1>>>1,U=P[z];if(0<i(U,j))P[z]=j,P[q]=U,q=z;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],q=P.pop();if(q!==j){P[0]=q;e:for(var z=0,U=P.length,ne=U>>>1;z<ne;){var Oe=2*(z+1)-1,le=P[Oe],Ae=Oe+1,We=P[Ae];if(0>i(le,q))Ae<U&&0>i(We,le)?(P[z]=We,P[Ae]=q,z=Ae):(P[z]=le,P[Oe]=q,z=Oe);else if(Ae<U&&0>i(We,q))P[z]=We,P[Ae]=q,z=Ae;else break e}}return j}function i(P,j){var q=P.sortIndex-j.sortIndex;return q!==0?q:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=P)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function S(P){if(m=!1,w(P),!p)if(n(l)!==null)p=!0,$(E);else{var j=n(c);j!==null&&K(S,j.startTime-P)}}function E(P,j){p=!1,m&&(m=!1,v(C),C=-1),h=!0;var q=f;try{for(w(j),d=n(l);d!==null&&(!(d.expirationTime>j)||P&&!M());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var U=z(d.expirationTime<=j);j=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var Oe=n(c);Oe!==null&&K(S,Oe.startTime-j),ne=!1}return ne}finally{d=null,f=q,h=!1}}var T=!1,k=null,C=-1,A=5,O=-1;function M(){return!(e.unstable_now()-O<A)}function N(){if(k!==null){var P=e.unstable_now();O=P;var j=!0;try{j=k(!0,P)}finally{j?L():(T=!1,k=null)}}else T=!1}var L;if(typeof b=="function")L=function(){b(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=N,L=function(){J.postMessage(null)}}else L=function(){y(N,0)};function $(P){k=P,T||(T=!0,L())}function K(P,j){C=y(function(){P(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,$(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var q=f;f=j;try{return P()}finally{f=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var q=f;f=P;try{return j()}finally{f=q}},e.unstable_scheduleCallback=function(P,j,q){var z=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?z+q:z):q=z,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,P={id:u++,callback:j,priorityLevel:P,startTime:q,expirationTime:U,sortIndex:-1},q>z?(P.sortIndex=q,t(c,P),n(l)===null&&P===n(c)&&(m?(v(C),C=-1):m=!0,K(S,q-z))):(P.sortIndex=U,t(l,P),p||h||(p=!0,$(E))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var j=f;return function(){var q=f;f=j;try{return P.apply(this,arguments)}finally{f=q}}}})(tR);eR.exports=tR;var DH=eR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LH=x,hr=DH;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nR=new Set,Hd={};function ll(e,t){Pc(e,t),Pc(e+"Capture",t)}function Pc(e,t){for(Hd[e]=t,e=0;e<t.length;e++)nR.add(t[e])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ib=Object.prototype.hasOwnProperty,$H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SA={},kA={};function FH(e){return Ib.call(kA,e)?!0:Ib.call(SA,e)?!1:$H.test(e)?kA[e]=!0:(SA[e]=!0,!1)}function BH(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zH(e,t,n,r){if(t===null||typeof t>"u"||BH(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ln(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new Ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new Ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new Ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new Ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new Ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new Ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new Ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new Ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new Ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var zS=/[\-:]([a-z])/g;function US(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zS,US);sn[t]=new Ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zS,US);sn[t]=new Ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zS,US);sn[t]=new Ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new Ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function VS(e,t,n,r){var i=sn.hasOwnProperty(t)?sn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zH(t,n,i,r)&&(n=null),r||i===null?FH(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Do=LH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ph=Symbol.for("react.element"),ql=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),rR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),HS=Symbol.for("react.forward_ref"),Db=Symbol.for("react.suspense"),Lb=Symbol.for("react.suspense_list"),KS=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),oR=Symbol.for("react.offscreen"),EA=Symbol.iterator;function Cu(e){return e===null||typeof e!="object"?null:(e=EA&&e[EA]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,x0;function nd(e){if(x0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x0=t&&t[1]||""}return`
`+x0+e}var b0=!1;function w0(e,t){if(!e||b0)return"";b0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{b0=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?nd(e):""}function UH(e){switch(e.tag){case 5:return nd(e.type);case 16:return nd("Lazy");case 13:return nd("Suspense");case 19:return nd("SuspenseList");case 0:case 2:case 15:return e=w0(e.type,!1),e;case 11:return e=w0(e.type.render,!1),e;case 1:return e=w0(e.type,!0),e;default:return""}}function $b(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gl:return"Fragment";case ql:return"Portal";case Rb:return"Profiler";case WS:return"StrictMode";case Db:return"Suspense";case Lb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iR:return(e.displayName||"Context")+".Consumer";case rR:return(e._context.displayName||"Context")+".Provider";case HS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KS:return t=e.displayName||null,t!==null?t:$b(e.type)||"Memo";case Zo:t=e._payload,e=e._init;try{return $b(e(t))}catch{}}return null}function VH(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $b(t);case 8:return t===WS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WH(e){var t=sR(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _h(e){e._valueTracker||(e._valueTracker=WH(e))}function aR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sR(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fb(e,t){var n=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function CA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lR(e,t){t=t.checked,t!=null&&VS(e,"checked",t,!1)}function Bb(e,t){lR(e,t);var n=Rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zb(e,t.type,n):t.hasOwnProperty("defaultValue")&&zb(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function TA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zb(e,t,n){(t!=="number"||dm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var rd=Array.isArray;function fc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ub(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function AA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(rd(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function cR(e,t){var n=Rs(t.value),r=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function PA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oh,dR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oh=Oh||document.createElement("div"),Oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HH=["Webkit","ms","Moz","O"];Object.keys(gd).forEach(function(e){HH.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gd[t]=gd[e]})});function fR(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gd.hasOwnProperty(e)&&gd[e]?(""+t).trim():t+"px"}function hR(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fR(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var KH=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wb(e,t){if(t){if(KH[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Hb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kb=null;function qS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qb=null,hc=null,pc=null;function _A(e){if(e=Wf(e)){if(typeof qb!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Cy(t),qb(e.stateNode,e.type,t))}}function pR(e){hc?pc?pc.push(e):pc=[e]:hc=e}function mR(){if(hc){var e=hc,t=pc;if(pc=hc=null,_A(e),t)for(e=0;e<t.length;e++)_A(t[e])}}function gR(e,t){return e(t)}function yR(){}var S0=!1;function vR(e,t,n){if(S0)return e(t,n);S0=!0;try{return gR(e,t,n)}finally{S0=!1,(hc!==null||pc!==null)&&(yR(),mR())}}function qd(e,t){var n=e.stateNode;if(n===null)return null;var r=Cy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Gb=!1;if(ko)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){Gb=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{Gb=!1}function qH(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var yd=!1,fm=null,hm=!1,Yb=null,GH={onError:function(e){yd=!0,fm=e}};function YH(e,t,n,r,i,o,s,a,l){yd=!1,fm=null,qH.apply(GH,arguments)}function JH(e,t,n,r,i,o,s,a,l){if(YH.apply(this,arguments),yd){if(yd){var c=fm;yd=!1,fm=null}else throw Error(W(198));hm||(hm=!0,Yb=c)}}function cl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function OA(e){if(cl(e)!==e)throw Error(W(188))}function XH(e){var t=e.alternate;if(!t){if(t=cl(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return OA(i),e;if(o===r)return OA(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function bR(e){return e=XH(e),e!==null?wR(e):null}function wR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wR(e);if(t!==null)return t;e=e.sibling}return null}var SR=hr.unstable_scheduleCallback,MA=hr.unstable_cancelCallback,QH=hr.unstable_shouldYield,ZH=hr.unstable_requestPaint,xt=hr.unstable_now,e6=hr.unstable_getCurrentPriorityLevel,GS=hr.unstable_ImmediatePriority,kR=hr.unstable_UserBlockingPriority,pm=hr.unstable_NormalPriority,t6=hr.unstable_LowPriority,ER=hr.unstable_IdlePriority,wy=null,Di=null;function n6(e){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(wy,e,void 0,(e.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:o6,r6=Math.log,i6=Math.LN2;function o6(e){return e>>>=0,e===0?32:31-(r6(e)/i6|0)|0}var Mh=64,Nh=4194304;function id(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=id(a):(o&=s,o!==0&&(r=id(o)))}else s=n&~i,s!==0?r=id(s):o!==0&&(r=id(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hi(t),i=1<<n,r|=e[n],t&=~i;return r}function s6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-hi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=s6(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Jb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CR(){var e=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),e}function k0(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hi(t),e[t]=n}function l6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hi(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function YS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function TR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var AR,JS,PR,_R,OR,Xb=!1,jh=[],xs=null,bs=null,ws=null,Gd=new Map,Yd=new Map,ls=[],c6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NA(e,t){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Gd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yd.delete(t.pointerId)}}function Au(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Wf(t),t!==null&&JS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function u6(e,t,n,r,i){switch(t){case"focusin":return xs=Au(xs,e,t,n,r,i),!0;case"dragenter":return bs=Au(bs,e,t,n,r,i),!0;case"mouseover":return ws=Au(ws,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Gd.set(o,Au(Gd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yd.set(o,Au(Yd.get(o)||null,e,t,n,r,i)),!0}return!1}function MR(e){var t=Sa(e.target);if(t!==null){var n=cl(t);if(n!==null){if(t=n.tag,t===13){if(t=xR(n),t!==null){e.blockedOn=t,OR(e.priority,function(){PR(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kb=r,n.target.dispatchEvent(r),Kb=null}else return t=Wf(n),t!==null&&JS(t),e.blockedOn=n,!1;t.shift()}return!0}function jA(e,t,n){Lp(e)&&n.delete(t)}function d6(){Xb=!1,xs!==null&&Lp(xs)&&(xs=null),bs!==null&&Lp(bs)&&(bs=null),ws!==null&&Lp(ws)&&(ws=null),Gd.forEach(jA),Yd.forEach(jA)}function Pu(e,t){e.blockedOn===t&&(e.blockedOn=null,Xb||(Xb=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,d6)))}function Jd(e){function t(i){return Pu(i,e)}if(0<jh.length){Pu(jh[0],e);for(var n=1;n<jh.length;n++){var r=jh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xs!==null&&Pu(xs,e),bs!==null&&Pu(bs,e),ws!==null&&Pu(ws,e),Gd.forEach(t),Yd.forEach(t),n=0;n<ls.length;n++)r=ls[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ls.length&&(n=ls[0],n.blockedOn===null);)MR(n),n.blockedOn===null&&ls.shift()}var mc=Do.ReactCurrentBatchConfig,gm=!0;function f6(e,t,n,r){var i=Ie,o=mc.transition;mc.transition=null;try{Ie=1,XS(e,t,n,r)}finally{Ie=i,mc.transition=o}}function h6(e,t,n,r){var i=Ie,o=mc.transition;mc.transition=null;try{Ie=4,XS(e,t,n,r)}finally{Ie=i,mc.transition=o}}function XS(e,t,n,r){if(gm){var i=Qb(e,t,n,r);if(i===null)j0(e,t,r,ym,n),NA(e,r);else if(u6(i,e,t,n,r))r.stopPropagation();else if(NA(e,r),t&4&&-1<c6.indexOf(e)){for(;i!==null;){var o=Wf(i);if(o!==null&&AR(o),o=Qb(e,t,n,r),o===null&&j0(e,t,r,ym,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else j0(e,t,r,null,n)}}var ym=null;function Qb(e,t,n,r){if(ym=null,e=qS(r),e=Sa(e),e!==null)if(t=cl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xR(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ym=e,null}function NR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e6()){case GS:return 1;case kR:return 4;case pm:case t6:return 16;case ER:return 536870912;default:return 16}default:return 16}}var ps=null,QS=null,$p=null;function jR(){if($p)return $p;var e,t=QS,n=t.length,r,i="value"in ps?ps.value:ps.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return $p=i.slice(e,1<r?1-r:void 0)}function Fp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ih(){return!0}function IA(){return!1}function xr(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ih:IA,this.isPropagationStopped=IA,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),t}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZS=xr(eu),Vf=ut({},eu,{view:0,detail:0}),p6=xr(Vf),E0,C0,_u,Sy=ut({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ek,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_u&&(_u&&e.type==="mousemove"?(E0=e.screenX-_u.screenX,C0=e.screenY-_u.screenY):C0=E0=0,_u=e),E0)},movementY:function(e){return"movementY"in e?e.movementY:C0}}),RA=xr(Sy),m6=ut({},Sy,{dataTransfer:0}),g6=xr(m6),y6=ut({},Vf,{relatedTarget:0}),T0=xr(y6),v6=ut({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),x6=xr(v6),b6=ut({},eu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w6=xr(b6),S6=ut({},eu,{data:0}),DA=xr(S6),k6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function T6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C6[e])?!!t[e]:!1}function ek(){return T6}var A6=ut({},Vf,{key:function(e){if(e.key){var t=k6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ek,charCode:function(e){return e.type==="keypress"?Fp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P6=xr(A6),_6=ut({},Sy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LA=xr(_6),O6=ut({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ek}),M6=xr(O6),N6=ut({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),j6=xr(N6),I6=ut({},Sy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R6=xr(I6),D6=[9,13,27,32],tk=ko&&"CompositionEvent"in window,vd=null;ko&&"documentMode"in document&&(vd=document.documentMode);var L6=ko&&"TextEvent"in window&&!vd,IR=ko&&(!tk||vd&&8<vd&&11>=vd),$A=String.fromCharCode(32),FA=!1;function RR(e,t){switch(e){case"keyup":return D6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yl=!1;function $6(e,t){switch(e){case"compositionend":return DR(t);case"keypress":return t.which!==32?null:(FA=!0,$A);case"textInput":return e=t.data,e===$A&&FA?null:e;default:return null}}function F6(e,t){if(Yl)return e==="compositionend"||!tk&&RR(e,t)?(e=jR(),$p=QS=ps=null,Yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IR&&t.locale!=="ko"?null:t.data;default:return null}}var B6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B6[e.type]:t==="textarea"}function LR(e,t,n,r){pR(r),t=vm(t,"onChange"),0<t.length&&(n=new ZS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xd=null,Xd=null;function z6(e){GR(e,0)}function ky(e){var t=Ql(e);if(aR(t))return e}function U6(e,t){if(e==="change")return t}var $R=!1;if(ko){var A0;if(ko){var P0="oninput"in document;if(!P0){var zA=document.createElement("div");zA.setAttribute("oninput","return;"),P0=typeof zA.oninput=="function"}A0=P0}else A0=!1;$R=A0&&(!document.documentMode||9<document.documentMode)}function UA(){xd&&(xd.detachEvent("onpropertychange",FR),Xd=xd=null)}function FR(e){if(e.propertyName==="value"&&ky(Xd)){var t=[];LR(t,Xd,e,qS(e)),vR(z6,t)}}function V6(e,t,n){e==="focusin"?(UA(),xd=t,Xd=n,xd.attachEvent("onpropertychange",FR)):e==="focusout"&&UA()}function W6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ky(Xd)}function H6(e,t){if(e==="click")return ky(t)}function K6(e,t){if(e==="input"||e==="change")return ky(t)}function q6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:q6;function Qd(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ib.call(t,i)||!mi(e[i],t[i]))return!1}return!0}function VA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WA(e,t){var n=VA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VA(n)}}function BR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zR(){for(var e=window,t=dm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dm(e.document)}return t}function nk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function G6(e){var t=zR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&BR(n.ownerDocument.documentElement,n)){if(r!==null&&nk(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=WA(n,o);var s=WA(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y6=ko&&"documentMode"in document&&11>=document.documentMode,Jl=null,Zb=null,bd=null,ew=!1;function HA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ew||Jl==null||Jl!==dm(r)||(r=Jl,"selectionStart"in r&&nk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Qd(bd,r)||(bd=r,r=vm(Zb,"onSelect"),0<r.length&&(t=new ZS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jl)))}function Rh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xl={animationend:Rh("Animation","AnimationEnd"),animationiteration:Rh("Animation","AnimationIteration"),animationstart:Rh("Animation","AnimationStart"),transitionend:Rh("Transition","TransitionEnd")},_0={},UR={};ko&&(UR=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Ey(e){if(_0[e])return _0[e];if(!Xl[e])return e;var t=Xl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UR)return _0[e]=t[n];return e}var VR=Ey("animationend"),WR=Ey("animationiteration"),HR=Ey("animationstart"),KR=Ey("transitionend"),qR=new Map,KA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){qR.set(e,t),ll(t,[e])}for(var O0=0;O0<KA.length;O0++){var M0=KA[O0],J6=M0.toLowerCase(),X6=M0[0].toUpperCase()+M0.slice(1);Ws(J6,"on"+X6)}Ws(VR,"onAnimationEnd");Ws(WR,"onAnimationIteration");Ws(HR,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(KR,"onTransitionEnd");Pc("onMouseEnter",["mouseout","mouseover"]);Pc("onMouseLeave",["mouseout","mouseover"]);Pc("onPointerEnter",["pointerout","pointerover"]);Pc("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q6=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function qA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JH(r,t,void 0,e),e.currentTarget=null}function GR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;qA(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;qA(i,a,c),o=l}}}if(hm)throw e=Yb,hm=!1,Yb=null,e}function Ge(e,t){var n=t[ow];n===void 0&&(n=t[ow]=new Set);var r=e+"__bubble";n.has(r)||(YR(t,e,2,!1),n.add(r))}function N0(e,t,n){var r=0;t&&(r|=4),YR(n,e,r,t)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Dh]){e[Dh]=!0,nR.forEach(function(n){n!=="selectionchange"&&(Q6.has(n)||N0(n,!1,e),N0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dh]||(t[Dh]=!0,N0("selectionchange",!1,t))}}function YR(e,t,n,r){switch(NR(t)){case 1:var i=f6;break;case 4:i=h6;break;default:i=XS}n=i.bind(null,t,n,e),i=void 0,!Gb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function j0(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Sa(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}vR(function(){var c=o,u=qS(n),d=[];e:{var f=qR.get(e);if(f!==void 0){var h=ZS,p=e;switch(e){case"keypress":if(Fp(n)===0)break e;case"keydown":case"keyup":h=P6;break;case"focusin":p="focus",h=T0;break;case"focusout":p="blur",h=T0;break;case"beforeblur":case"afterblur":h=T0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=RA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=g6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=M6;break;case VR:case WR:case HR:h=x6;break;case KR:h=j6;break;case"scroll":h=p6;break;case"wheel":h=R6;break;case"copy":case"cut":case"paste":h=w6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=LA}var m=(t&4)!==0,y=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=qd(b,v),S!=null&&m.push(ef(b,S,w)))),y)break;b=b.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Kb&&(p=n.relatedTarget||n.fromElement)&&(Sa(p)||p[Eo]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Sa(p):null,p!==null&&(y=cl(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=RA,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=LA,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=h==null?f:Ql(h),w=p==null?f:Ql(p),f=new m(S,b+"leave",h,n,u),f.target=y,f.relatedTarget=w,S=null,Sa(u)===c&&(m=new m(v,b+"enter",p,n,u),m.target=w,m.relatedTarget=y,S=m),y=S,h&&p)t:{for(m=h,v=p,b=0,w=m;w;w=Pl(w))b++;for(w=0,S=v;S;S=Pl(S))w++;for(;0<b-w;)m=Pl(m),b--;for(;0<w-b;)v=Pl(v),w--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=Pl(m),v=Pl(v)}m=null}else m=null;h!==null&&GA(d,f,h,m,!1),p!==null&&y!==null&&GA(d,y,p,m,!0)}}e:{if(f=c?Ql(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=U6;else if(BA(f))if($R)E=K6;else{E=W6;var T=V6}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=H6);if(E&&(E=E(e,c))){LR(d,E,n,u);break e}T&&T(e,f,c),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&zb(f,"number",f.value)}switch(T=c?Ql(c):window,e){case"focusin":(BA(T)||T.contentEditable==="true")&&(Jl=T,Zb=c,bd=null);break;case"focusout":bd=Zb=Jl=null;break;case"mousedown":ew=!0;break;case"contextmenu":case"mouseup":case"dragend":ew=!1,HA(d,n,u);break;case"selectionchange":if(Y6)break;case"keydown":case"keyup":HA(d,n,u)}var k;if(tk)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Yl?RR(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(IR&&n.locale!=="ko"&&(Yl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Yl&&(k=jR()):(ps=u,QS="value"in ps?ps.value:ps.textContent,Yl=!0)),T=vm(c,C),0<T.length&&(C=new DA(C,e,null,n,u),d.push({event:C,listeners:T}),k?C.data=k:(k=DR(n),k!==null&&(C.data=k)))),(k=L6?$6(e,n):F6(e,n))&&(c=vm(c,"onBeforeInput"),0<c.length&&(u=new DA("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}GR(d,t)})}function ef(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qd(e,n),o!=null&&r.unshift(ef(e,o,i)),o=qd(e,t),o!=null&&r.push(ef(e,o,i))),e=e.return}return r}function Pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GA(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=qd(n,o),l!=null&&s.unshift(ef(n,l,a))):i||(l=qd(n,o),l!=null&&s.push(ef(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Z6=/\r\n?/g,e8=/\u0000|\uFFFD/g;function YA(e){return(typeof e=="string"?e:""+e).replace(Z6,`
`).replace(e8,"")}function Lh(e,t,n){if(t=YA(t),YA(e)!==t&&n)throw Error(W(425))}function xm(){}var tw=null,nw=null;function rw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iw=typeof setTimeout=="function"?setTimeout:void 0,t8=typeof clearTimeout=="function"?clearTimeout:void 0,JA=typeof Promise=="function"?Promise:void 0,n8=typeof queueMicrotask=="function"?queueMicrotask:typeof JA<"u"?function(e){return JA.resolve(null).then(e).catch(r8)}:iw;function r8(e){setTimeout(function(){throw e})}function I0(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jd(t)}function Ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function XA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tu=Math.random().toString(36).slice(2),Ni="__reactFiber$"+tu,tf="__reactProps$"+tu,Eo="__reactContainer$"+tu,ow="__reactEvents$"+tu,i8="__reactListeners$"+tu,o8="__reactHandles$"+tu;function Sa(e){var t=e[Ni];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Eo]||n[Ni]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=XA(e);e!==null;){if(n=e[Ni])return n;e=XA(e)}return t}e=n,n=e.parentNode}return null}function Wf(e){return e=e[Ni]||e[Eo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Cy(e){return e[tf]||null}var sw=[],Zl=-1;function Hs(e){return{current:e}}function Xe(e){0>Zl||(e.current=sw[Zl],sw[Zl]=null,Zl--)}function Ue(e,t){Zl++,sw[Zl]=e.current,e.current=t}var Ds={},bn=Hs(Ds),Gn=Hs(!1),Ka=Ds;function _c(e,t){var n=e.type.contextTypes;if(!n)return Ds;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(e){return e=e.childContextTypes,e!=null}function bm(){Xe(Gn),Xe(bn)}function QA(e,t,n){if(bn.current!==Ds)throw Error(W(168));Ue(bn,t),Ue(Gn,n)}function JR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,VH(e)||"Unknown",i));return ut({},n,r)}function wm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,Ka=bn.current,Ue(bn,e),Ue(Gn,Gn.current),!0}function ZA(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=JR(e,t,Ka),r.__reactInternalMemoizedMergedChildContext=e,Xe(Gn),Xe(bn),Ue(bn,e)):Xe(Gn),Ue(Gn,n)}var oo=null,Ty=!1,R0=!1;function XR(e){oo===null?oo=[e]:oo.push(e)}function s8(e){Ty=!0,XR(e)}function Ks(){if(!R0&&oo!==null){R0=!0;var e=0,t=Ie;try{var n=oo;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}oo=null,Ty=!1}catch(i){throw oo!==null&&(oo=oo.slice(e+1)),SR(GS,Ks),i}finally{Ie=t,R0=!1}}return null}var ec=[],tc=0,Sm=null,km=0,Mr=[],Nr=0,qa=null,co=1,uo="";function da(e,t){ec[tc++]=km,ec[tc++]=Sm,Sm=e,km=t}function QR(e,t,n){Mr[Nr++]=co,Mr[Nr++]=uo,Mr[Nr++]=qa,qa=e;var r=co;e=uo;var i=32-hi(r)-1;r&=~(1<<i),n+=1;var o=32-hi(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,co=1<<32-hi(t)+i|n<<i|r,uo=o+e}else co=1<<o|n<<i|r,uo=e}function rk(e){e.return!==null&&(da(e,1),QR(e,1,0))}function ik(e){for(;e===Sm;)Sm=ec[--tc],ec[tc]=null,km=ec[--tc],ec[tc]=null;for(;e===qa;)qa=Mr[--Nr],Mr[Nr]=null,uo=Mr[--Nr],Mr[Nr]=null,co=Mr[--Nr],Mr[Nr]=null}var ur=null,cr=null,nt=!1,ai=null;function ZR(e,t){var n=Rr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ur=e,cr=Ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ur=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qa!==null?{id:co,overflow:uo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ur=e,cr=null,!0):!1;default:return!1}}function aw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lw(e){if(nt){var t=cr;if(t){var n=t;if(!eP(e,t)){if(aw(e))throw Error(W(418));t=Ss(n.nextSibling);var r=ur;t&&eP(e,t)?ZR(r,n):(e.flags=e.flags&-4097|2,nt=!1,ur=e)}}else{if(aw(e))throw Error(W(418));e.flags=e.flags&-4097|2,nt=!1,ur=e}}}function tP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ur=e}function $h(e){if(e!==ur)return!1;if(!nt)return tP(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rw(e.type,e.memoizedProps)),t&&(t=cr)){if(aw(e))throw eD(),Error(W(418));for(;t;)ZR(e,t),t=Ss(t.nextSibling)}if(tP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){cr=Ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=ur?Ss(e.stateNode.nextSibling):null;return!0}function eD(){for(var e=cr;e;)e=Ss(e.nextSibling)}function Oc(){cr=ur=null,nt=!1}function ok(e){ai===null?ai=[e]:ai.push(e)}var a8=Do.ReactCurrentBatchConfig;function Ou(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Fh(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nP(e){var t=e._init;return t(e._payload)}function tD(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Ts(v,b),v.index=0,v.sibling=null,v}function o(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,b,w,S){return b===null||b.tag!==6?(b=U0(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var E=w.type;return E===Gl?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zo&&nP(E)===b.type)?(S=i(b,w.props),S.ref=Ou(v,b,w),S.return=v,S):(S=Kp(w.type,w.key,w.props,null,v.mode,S),S.ref=Ou(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=V0(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,E){return b===null||b.tag!==7?(b=Da(w,v.mode,S,E),b.return=v,b):(b=i(b,w),b.return=v,b)}function d(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=U0(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ph:return w=Kp(b.type,b.key,b.props,null,v.mode,w),w.ref=Ou(v,null,b),w.return=v,w;case ql:return b=V0(b,v.mode,w),b.return=v,b;case Zo:var S=b._init;return d(v,S(b._payload),w)}if(rd(b)||Cu(b))return b=Da(b,v.mode,w,null),b.return=v,b;Fh(v,b)}return null}function f(v,b,w,S){var E=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ph:return w.key===E?l(v,b,w,S):null;case ql:return w.key===E?c(v,b,w,S):null;case Zo:return E=w._init,f(v,b,E(w._payload),S)}if(rd(w)||Cu(w))return E!==null?null:u(v,b,w,S,null);Fh(v,w)}return null}function h(v,b,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,a(b,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ph:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,E);case ql:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,E);case Zo:var T=S._init;return h(v,b,w,T(S._payload),E)}if(rd(S)||Cu(S))return v=v.get(w)||null,u(b,v,S,E,null);Fh(b,S)}return null}function p(v,b,w,S){for(var E=null,T=null,k=b,C=b=0,A=null;k!==null&&C<w.length;C++){k.index>C?(A=k,k=null):A=k.sibling;var O=f(v,k,w[C],S);if(O===null){k===null&&(k=A);break}e&&k&&O.alternate===null&&t(v,k),b=o(O,b,C),T===null?E=O:T.sibling=O,T=O,k=A}if(C===w.length)return n(v,k),nt&&da(v,C),E;if(k===null){for(;C<w.length;C++)k=d(v,w[C],S),k!==null&&(b=o(k,b,C),T===null?E=k:T.sibling=k,T=k);return nt&&da(v,C),E}for(k=r(v,k);C<w.length;C++)A=h(k,v,C,w[C],S),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),b=o(A,b,C),T===null?E=A:T.sibling=A,T=A);return e&&k.forEach(function(M){return t(v,M)}),nt&&da(v,C),E}function m(v,b,w,S){var E=Cu(w);if(typeof E!="function")throw Error(W(150));if(w=E.call(w),w==null)throw Error(W(151));for(var T=E=null,k=b,C=b=0,A=null,O=w.next();k!==null&&!O.done;C++,O=w.next()){k.index>C?(A=k,k=null):A=k.sibling;var M=f(v,k,O.value,S);if(M===null){k===null&&(k=A);break}e&&k&&M.alternate===null&&t(v,k),b=o(M,b,C),T===null?E=M:T.sibling=M,T=M,k=A}if(O.done)return n(v,k),nt&&da(v,C),E;if(k===null){for(;!O.done;C++,O=w.next())O=d(v,O.value,S),O!==null&&(b=o(O,b,C),T===null?E=O:T.sibling=O,T=O);return nt&&da(v,C),E}for(k=r(v,k);!O.done;C++,O=w.next())O=h(k,v,C,O.value,S),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),b=o(O,b,C),T===null?E=O:T.sibling=O,T=O);return e&&k.forEach(function(N){return t(v,N)}),nt&&da(v,C),E}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Gl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ph:e:{for(var E=w.key,T=b;T!==null;){if(T.key===E){if(E=w.type,E===Gl){if(T.tag===7){n(v,T.sibling),b=i(T,w.props.children),b.return=v,v=b;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Zo&&nP(E)===T.type){n(v,T.sibling),b=i(T,w.props),b.ref=Ou(v,T,w),b.return=v,v=b;break e}n(v,T);break}else t(v,T);T=T.sibling}w.type===Gl?(b=Da(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=Kp(w.type,w.key,w.props,null,v.mode,S),S.ref=Ou(v,b,w),S.return=v,v=S)}return s(v);case ql:e:{for(T=w.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=V0(w,v.mode,S),b.return=v,v=b}return s(v);case Zo:return T=w._init,y(v,b,T(w._payload),S)}if(rd(w))return p(v,b,w,S);if(Cu(w))return m(v,b,w,S);Fh(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=U0(w,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return y}var Mc=tD(!0),nD=tD(!1),Em=Hs(null),Cm=null,nc=null,sk=null;function ak(){sk=nc=Cm=null}function lk(e){var t=Em.current;Xe(Em),e._currentValue=t}function cw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gc(e,t){Cm=e,sk=nc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Kn=!0),e.firstContext=null)}function Wr(e){var t=e._currentValue;if(sk!==e)if(e={context:e,memoizedValue:t,next:null},nc===null){if(Cm===null)throw Error(W(308));nc=e,Cm.dependencies={lanes:0,firstContext:e}}else nc=nc.next=e;return t}var ka=null;function ck(e){ka===null?ka=[e]:ka.push(e)}function rD(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ck(t)):(n.next=i.next,i.next=n),t.interleaved=n,Co(e,r)}function Co(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var es=!1;function uk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ks(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Co(e,n)}return i=r.interleaved,i===null?(t.next=t,ck(r)):(t.next=i.next,i.next=t),r.interleaved=t,Co(e,n)}function Bp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,YS(e,n)}}function rP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tm(e,t,n,r){var i=e.updateQueue;es=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=ut({},d,f);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ya|=s,e.lanes=s,e.memoizedState=d}}function iP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Hf={},Li=Hs(Hf),nf=Hs(Hf),rf=Hs(Hf);function Ea(e){if(e===Hf)throw Error(W(174));return e}function dk(e,t){switch(Ue(rf,t),Ue(nf,e),Ue(Li,Hf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vb(t,e)}Xe(Li),Ue(Li,t)}function Nc(){Xe(Li),Xe(nf),Xe(rf)}function oD(e){Ea(rf.current);var t=Ea(Li.current),n=Vb(t,e.type);t!==n&&(Ue(nf,e),Ue(Li,n))}function fk(e){nf.current===e&&(Xe(Li),Xe(nf))}var st=Hs(0);function Am(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var D0=[];function hk(){for(var e=0;e<D0.length;e++)D0[e]._workInProgressVersionPrimary=null;D0.length=0}var zp=Do.ReactCurrentDispatcher,L0=Do.ReactCurrentBatchConfig,Ga=0,ct=null,Mt=null,Bt=null,Pm=!1,wd=!1,of=0,l8=0;function fn(){throw Error(W(321))}function pk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mi(e[n],t[n]))return!1;return!0}function mk(e,t,n,r,i,o){if(Ga=o,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zp.current=e===null||e.memoizedState===null?f8:h8,e=n(r,i),wd){o=0;do{if(wd=!1,of=0,25<=o)throw Error(W(301));o+=1,Bt=Mt=null,t.updateQueue=null,zp.current=p8,e=n(r,i)}while(wd)}if(zp.current=_m,t=Mt!==null&&Mt.next!==null,Ga=0,Bt=Mt=ct=null,Pm=!1,t)throw Error(W(300));return e}function gk(){var e=of!==0;return of=0,e}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ct.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Hr(){if(Mt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Bt===null?ct.memoizedState:Bt.next;if(t!==null)Bt=t,Mt=e;else{if(e===null)throw Error(W(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?ct.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function sf(e,t){return typeof t=="function"?t(e):t}function $0(e){var t=Hr(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ga&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ct.lanes|=u,Ya|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,mi(r,t.memoizedState)||(Kn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ct.lanes|=o,Ya|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function F0(e){var t=Hr(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);mi(o,t.memoizedState)||(Kn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function sD(){}function aD(e,t){var n=ct,r=Hr(),i=t(),o=!mi(r.memoizedState,i);if(o&&(r.memoizedState=i,Kn=!0),r=r.queue,yk(uD.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,af(9,cD.bind(null,n,r,i,t),void 0,null),Ut===null)throw Error(W(349));Ga&30||lD(n,t,i)}return i}function lD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cD(e,t,n,r){t.value=n,t.getSnapshot=r,dD(t)&&fD(e)}function uD(e,t,n){return n(function(){dD(t)&&fD(e)})}function dD(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mi(e,n)}catch{return!0}}function fD(e){var t=Co(e,1);t!==null&&pi(t,e,1,-1)}function oP(e){var t=Ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:e},t.queue=e,e=e.dispatch=d8.bind(null,ct,e),[t.memoizedState,e]}function af(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hD(){return Hr().memoizedState}function Up(e,t,n,r){var i=Ai();ct.flags|=e,i.memoizedState=af(1|t,n,void 0,r===void 0?null:r)}function Ay(e,t,n,r){var i=Hr();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var s=Mt.memoizedState;if(o=s.destroy,r!==null&&pk(r,s.deps)){i.memoizedState=af(t,n,o,r);return}}ct.flags|=e,i.memoizedState=af(1|t,n,o,r)}function sP(e,t){return Up(8390656,8,e,t)}function yk(e,t){return Ay(2048,8,e,t)}function pD(e,t){return Ay(4,2,e,t)}function mD(e,t){return Ay(4,4,e,t)}function gD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yD(e,t,n){return n=n!=null?n.concat([e]):null,Ay(4,4,gD.bind(null,t,e),n)}function vk(){}function vD(e,t){var n=Hr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xD(e,t){var n=Hr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bD(e,t,n){return Ga&21?(mi(n,t)||(n=CR(),ct.lanes|=n,Ya|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Kn=!0),e.memoizedState=n)}function c8(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=L0.transition;L0.transition={};try{e(!1),t()}finally{Ie=n,L0.transition=r}}function wD(){return Hr().memoizedState}function u8(e,t,n){var r=Cs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SD(e))kD(t,n);else if(n=rD(e,t,n,r),n!==null){var i=_n();pi(n,e,r,i),ED(n,t,r)}}function d8(e,t,n){var r=Cs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SD(e))kD(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,mi(a,s)){var l=t.interleaved;l===null?(i.next=i,ck(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=rD(e,t,i,r),n!==null&&(i=_n(),pi(n,e,r,i),ED(n,t,r))}}function SD(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function kD(e,t){wd=Pm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ED(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,YS(e,n)}}var _m={readContext:Wr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},f8={readContext:Wr,useCallback:function(e,t){return Ai().memoizedState=[e,t===void 0?null:t],e},useContext:Wr,useEffect:sP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Up(4194308,4,gD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Up(4194308,4,e,t)},useInsertionEffect:function(e,t){return Up(4,2,e,t)},useMemo:function(e,t){var n=Ai();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ai();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u8.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Ai();return e={current:e},t.memoizedState=e},useState:oP,useDebugValue:vk,useDeferredValue:function(e){return Ai().memoizedState=e},useTransition:function(){var e=oP(!1),t=e[0];return e=c8.bind(null,e[1]),Ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ct,i=Ai();if(nt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Ut===null)throw Error(W(349));Ga&30||lD(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,sP(uD.bind(null,r,o,e),[e]),r.flags|=2048,af(9,cD.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ai(),t=Ut.identifierPrefix;if(nt){var n=uo,r=co;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=of++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h8={readContext:Wr,useCallback:vD,useContext:Wr,useEffect:yk,useImperativeHandle:yD,useInsertionEffect:pD,useLayoutEffect:mD,useMemo:xD,useReducer:$0,useRef:hD,useState:function(){return $0(sf)},useDebugValue:vk,useDeferredValue:function(e){var t=Hr();return bD(t,Mt.memoizedState,e)},useTransition:function(){var e=$0(sf)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:sD,useSyncExternalStore:aD,useId:wD,unstable_isNewReconciler:!1},p8={readContext:Wr,useCallback:vD,useContext:Wr,useEffect:yk,useImperativeHandle:yD,useInsertionEffect:pD,useLayoutEffect:mD,useMemo:xD,useReducer:F0,useRef:hD,useState:function(){return F0(sf)},useDebugValue:vk,useDeferredValue:function(e){var t=Hr();return Mt===null?t.memoizedState=e:bD(t,Mt.memoizedState,e)},useTransition:function(){var e=F0(sf)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:sD,useSyncExternalStore:aD,useId:wD,unstable_isNewReconciler:!1};function ii(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Py={isMounted:function(e){return(e=e._reactInternals)?cl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_n(),i=Cs(e),o=go(r,i);o.payload=t,n!=null&&(o.callback=n),t=ks(e,o,i),t!==null&&(pi(t,e,i,r),Bp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_n(),i=Cs(e),o=go(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ks(e,o,i),t!==null&&(pi(t,e,i,r),Bp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_n(),r=Cs(e),i=go(n,r);i.tag=2,t!=null&&(i.callback=t),t=ks(e,i,r),t!==null&&(pi(t,e,r,n),Bp(t,e,r))}};function aP(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Qd(n,r)||!Qd(i,o):!0}function CD(e,t,n){var r=!1,i=Ds,o=t.contextType;return typeof o=="object"&&o!==null?o=Wr(o):(i=Yn(t)?Ka:bn.current,r=t.contextTypes,o=(r=r!=null)?_c(e,i):Ds),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Py,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Py.enqueueReplaceState(t,t.state,null)}function dw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},uk(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Wr(o):(o=Yn(t)?Ka:bn.current,i.context=_c(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(uw(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Py.enqueueReplaceState(i,i.state,null),Tm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jc(e,t){try{var n="",r=t;do n+=UH(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function B0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function fw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m8=typeof WeakMap=="function"?WeakMap:Map;function TD(e,t,n){n=go(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mm||(Mm=!0,Sw=r),fw(e,t)},n}function AD(e,t,n){n=go(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fw(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fw(e,t),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function cP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m8;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_8.bind(null,e,t,n),t.then(e,e))}function uP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=go(-1,1),t.tag=2,ks(n,t,1))),n.lanes|=1),e)}var g8=Do.ReactCurrentOwner,Kn=!1;function Tn(e,t,n,r){t.child=e===null?nD(t,null,n,r):Mc(t,e.child,n,r)}function fP(e,t,n,r,i){n=n.render;var o=t.ref;return gc(t,i),r=mk(e,t,n,r,o,i),n=gk(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,To(e,t,i)):(nt&&n&&rk(t),t.flags|=1,Tn(e,t,r,i),t.child)}function hP(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Tk(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,PD(e,t,o,r,i)):(e=Kp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qd,n(s,r)&&e.ref===t.ref)return To(e,t,i)}return t.flags|=1,e=Ts(o,r),e.ref=t.ref,e.return=t,t.child=e}function PD(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Qd(o,r)&&e.ref===t.ref)if(Kn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Kn=!0);else return t.lanes=e.lanes,To(e,t,i)}return hw(e,t,n,r,i)}function _D(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(ic,rr),rr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ue(ic,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(ic,rr),rr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ue(ic,rr),rr|=r;return Tn(e,t,i,n),t.child}function OD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function hw(e,t,n,r,i){var o=Yn(n)?Ka:bn.current;return o=_c(t,o),gc(t,i),n=mk(e,t,n,r,o,i),r=gk(),e!==null&&!Kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,To(e,t,i)):(nt&&r&&rk(t),t.flags|=1,Tn(e,t,n,i),t.child)}function pP(e,t,n,r,i){if(Yn(n)){var o=!0;wm(t)}else o=!1;if(gc(t,i),t.stateNode===null)Vp(e,t),CD(t,n,r),dw(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wr(c):(c=Yn(n)?Ka:bn.current,c=_c(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lP(t,s,r,c),es=!1;var f=t.memoizedState;s.state=f,Tm(t,r,s,i),l=t.memoizedState,a!==r||f!==l||Gn.current||es?(typeof u=="function"&&(uw(t,n,u,r),l=t.memoizedState),(a=es||aP(t,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,iD(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ii(t.type,a),s.props=c,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=Yn(n)?Ka:bn.current,l=_c(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&lP(t,s,r,l),es=!1,f=t.memoizedState,s.state=f,Tm(t,r,s,i);var p=t.memoizedState;a!==d||f!==p||Gn.current||es?(typeof h=="function"&&(uw(t,n,h,r),p=t.memoizedState),(c=es||aP(t,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return pw(e,t,n,r,o,i)}function pw(e,t,n,r,i,o){OD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&ZA(t,n,!1),To(e,t,o);r=t.stateNode,g8.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mc(t,e.child,null,o),t.child=Mc(t,null,a,o)):Tn(e,t,a,o),t.memoizedState=r.state,i&&ZA(t,n,!0),t.child}function MD(e){var t=e.stateNode;t.pendingContext?QA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&QA(e,t.context,!1),dk(e,t.containerInfo)}function mP(e,t,n,r,i){return Oc(),ok(i),t.flags|=256,Tn(e,t,n,r),t.child}var mw={dehydrated:null,treeContext:null,retryLane:0};function gw(e){return{baseLanes:e,cachePool:null,transitions:null}}function ND(e,t,n){var r=t.pendingProps,i=st.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ue(st,i&1),e===null)return lw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=My(s,r,0,null),e=Da(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gw(n),t.memoizedState=mw,e):xk(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return y8(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ts(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ts(a,o):(o=Da(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?gw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=mw,r}return o=e.child,e=o.sibling,r=Ts(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xk(e,t){return t=My({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bh(e,t,n,r){return r!==null&&ok(r),Mc(t,e.child,null,n),e=xk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y8(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=B0(Error(W(422))),Bh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=My({mode:"visible",children:r.children},i,0,null),o=Da(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Mc(t,e.child,null,s),t.child.memoizedState=gw(s),t.memoizedState=mw,o);if(!(t.mode&1))return Bh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=B0(o,r,void 0),Bh(e,t,s,r)}if(a=(s&e.childLanes)!==0,Kn||a){if(r=Ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Co(e,i),pi(r,e,i,-1))}return Ck(),r=B0(Error(W(421))),Bh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=O8.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,cr=Ss(i.nextSibling),ur=t,nt=!0,ai=null,e!==null&&(Mr[Nr++]=co,Mr[Nr++]=uo,Mr[Nr++]=qa,co=e.id,uo=e.overflow,qa=t),t=xk(t,r.children),t.flags|=4096,t)}function gP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cw(e.return,t,n)}function z0(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jD(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tn(e,t,r.children,n),r=st.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gP(e,n,t);else if(e.tag===19)gP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ue(st,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Am(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),z0(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Am(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}z0(t,!0,n,null,o);break;case"together":z0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function To(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Ts(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ts(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function v8(e,t,n){switch(t.tag){case 3:MD(t),Oc();break;case 5:oD(t);break;case 1:Yn(t.type)&&wm(t);break;case 4:dk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ue(Em,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ue(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?ND(e,t,n):(Ue(st,st.current&1),e=To(e,t,n),e!==null?e.sibling:null);Ue(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,_D(e,t,n)}return To(e,t,n)}var ID,yw,RD,DD;ID=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yw=function(){};RD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ea(Li.current);var o=null;switch(n){case"input":i=Fb(e,i),r=Fb(e,r),o=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),o=[];break;case"textarea":i=Ub(e,i),r=Ub(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xm)}Wb(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hd.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};DD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mu(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x8(e,t,n){var r=t.pendingProps;switch(ik(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return Yn(t.type)&&bm(),hn(t),null;case 3:return r=t.stateNode,Nc(),Xe(Gn),Xe(bn),hk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($h(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ai!==null&&(Cw(ai),ai=null))),yw(e,t),hn(t),null;case 5:fk(t);var i=Ea(rf.current);if(n=t.type,e!==null&&t.stateNode!=null)RD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return hn(t),null}if(e=Ea(Li.current),$h(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ni]=t,r[tf]=o,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<od.length;i++)Ge(od[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":CA(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":AA(r,o),Ge("invalid",r)}Wb(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Lh(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Lh(r.textContent,a,e),i=["children",""+a]):Hd.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ge("scroll",r)}switch(n){case"input":_h(r),TA(r,o,!0);break;case"textarea":_h(r),PA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uR(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ni]=t,e[tf]=r,ID(e,t,!1,!1),t.stateNode=e;e:{switch(s=Hb(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),i=r;break;case"iframe":case"object":case"embed":Ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<od.length;i++)Ge(od[i],e);i=r;break;case"source":Ge("error",e),i=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=r;break;case"details":Ge("toggle",e),i=r;break;case"input":CA(e,r),i=Fb(e,r),Ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":AA(e,r),i=Ub(e,r),Ge("invalid",e);break;default:i=r}Wb(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?hR(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dR(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kd(e,l):typeof l=="number"&&Kd(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ge("scroll",e):l!=null&&VS(e,o,l,s))}switch(n){case"input":_h(e),TA(e,r,!1);break;case"textarea":_h(e),PA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?fc(e,!!r.multiple,o,!1):r.defaultValue!=null&&fc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hn(t),null;case 6:if(e&&t.stateNode!=null)DD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Ea(rf.current),Ea(Li.current),$h(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ni]=t,(o=r.nodeValue!==n)&&(e=ur,e!==null))switch(e.tag){case 3:Lh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lh(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ni]=t,t.stateNode=r}return hn(t),null;case 13:if(Xe(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&cr!==null&&t.mode&1&&!(t.flags&128))eD(),Oc(),t.flags|=98560,o=!1;else if(o=$h(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Ni]=t}else Oc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hn(t),o=!1}else ai!==null&&(Cw(ai),ai=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?jt===0&&(jt=3):Ck())),t.updateQueue!==null&&(t.flags|=4),hn(t),null);case 4:return Nc(),yw(e,t),e===null&&Zd(t.stateNode.containerInfo),hn(t),null;case 10:return lk(t.type._context),hn(t),null;case 17:return Yn(t.type)&&bm(),hn(t),null;case 19:if(Xe(st),o=t.memoizedState,o===null)return hn(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Mu(o,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Am(e),s!==null){for(t.flags|=128,Mu(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ue(st,st.current&1|2),t.child}e=e.sibling}o.tail!==null&&xt()>Ic&&(t.flags|=128,r=!0,Mu(o,!1),t.lanes=4194304)}else{if(!r)if(e=Am(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nt)return hn(t),null}else 2*xt()-o.renderingStartTime>Ic&&n!==1073741824&&(t.flags|=128,r=!0,Mu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xt(),t.sibling=null,n=st.current,Ue(st,r?n&1|2:n&1),t):(hn(t),null);case 22:case 23:return Ek(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rr&1073741824&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function b8(e,t){switch(ik(t),t.tag){case 1:return Yn(t.type)&&bm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nc(),Xe(Gn),Xe(bn),hk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fk(t),null;case 13:if(Xe(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Oc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(st),null;case 4:return Nc(),null;case 10:return lk(t.type._context),null;case 22:case 23:return Ek(),null;case 24:return null;default:return null}}var zh=!1,yn=!1,w8=typeof WeakSet=="function"?WeakSet:Set,Q=null;function rc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(e,t,r)}else n.current=null}function vw(e,t,n){try{n()}catch(r){ht(e,t,r)}}var yP=!1;function S8(e,t){if(tw=gm,e=zR(),nk(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(nw={focusedElem:e,selectionRange:n},gm=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ii(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(S){ht(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return p=yP,yP=!1,p}function Sd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&vw(t,n,o)}i=i.next}while(i!==r)}}function _y(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function xw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function LD(e){var t=e.alternate;t!==null&&(e.alternate=null,LD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[tf],delete t[ow],delete t[i8],delete t[o8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $D(e){return e.tag===5||e.tag===3||e.tag===4}function vP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$D(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xm));else if(r!==4&&(e=e.child,e!==null))for(bw(e,t,n),e=e.sibling;e!==null;)bw(e,t,n),e=e.sibling}function ww(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ww(e,t,n),e=e.sibling;e!==null;)ww(e,t,n),e=e.sibling}var Qt=null,oi=!1;function Ho(e,t,n){for(n=n.child;n!==null;)FD(e,t,n),n=n.sibling}function FD(e,t,n){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(wy,n)}catch{}switch(n.tag){case 5:yn||rc(n,t);case 6:var r=Qt,i=oi;Qt=null,Ho(e,t,n),Qt=r,oi=i,Qt!==null&&(oi?(e=Qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(oi?(e=Qt,n=n.stateNode,e.nodeType===8?I0(e.parentNode,n):e.nodeType===1&&I0(e,n),Jd(e)):I0(Qt,n.stateNode));break;case 4:r=Qt,i=oi,Qt=n.stateNode.containerInfo,oi=!0,Ho(e,t,n),Qt=r,oi=i;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&vw(n,t,s),i=i.next}while(i!==r)}Ho(e,t,n);break;case 1:if(!yn&&(rc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,t,a)}Ho(e,t,n);break;case 21:Ho(e,t,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,Ho(e,t,n),yn=r):Ho(e,t,n);break;default:Ho(e,t,n)}}function xP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w8),t.forEach(function(r){var i=M8.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ti(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,oi=!1;break e;case 3:Qt=a.stateNode.containerInfo,oi=!0;break e;case 4:Qt=a.stateNode.containerInfo,oi=!0;break e}a=a.return}if(Qt===null)throw Error(W(160));FD(o,s,i),Qt=null,oi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ht(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BD(t,e),t=t.sibling}function BD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),Ei(e),r&4){try{Sd(3,e,e.return),_y(3,e)}catch(m){ht(e,e.return,m)}try{Sd(5,e,e.return)}catch(m){ht(e,e.return,m)}}break;case 1:ti(t,e),Ei(e),r&512&&n!==null&&rc(n,n.return);break;case 5:if(ti(t,e),Ei(e),r&512&&n!==null&&rc(n,n.return),e.flags&32){var i=e.stateNode;try{Kd(i,"")}catch(m){ht(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&lR(i,o),Hb(a,s);var c=Hb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?hR(i,d):u==="dangerouslySetInnerHTML"?dR(i,d):u==="children"?Kd(i,d):VS(i,u,d,c)}switch(a){case"input":Bb(i,o);break;case"textarea":cR(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?fc(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?fc(i,!!o.multiple,o.defaultValue,!0):fc(i,!!o.multiple,o.multiple?[]:"",!1))}i[tf]=o}catch(m){ht(e,e.return,m)}}break;case 6:if(ti(t,e),Ei(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){ht(e,e.return,m)}}break;case 3:if(ti(t,e),Ei(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jd(t.containerInfo)}catch(m){ht(e,e.return,m)}break;case 4:ti(t,e),Ei(e);break;case 13:ti(t,e),Ei(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sk=xt())),r&4&&xP(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(yn=(c=yn)||u,ti(t,e),yn=c):ti(t,e),Ei(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Q=e,u=e.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Sd(4,f,f.return);break;case 1:rc(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){ht(r,n,m)}}break;case 5:rc(f,f.return);break;case 22:if(f.memoizedState!==null){wP(d);continue}}h!==null?(h.return=f,Q=h):wP(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fR("display",s))}catch(m){ht(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ht(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ti(t,e),Ei(e),r&4&&xP(e);break;case 21:break;default:ti(t,e),Ei(e)}}function Ei(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($D(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kd(i,""),r.flags&=-33);var o=vP(e);ww(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=vP(e);bw(e,a,s);break;default:throw Error(W(161))}}catch(l){ht(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k8(e,t,n){Q=e,zD(e)}function zD(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||zh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yn;a=zh;var c=yn;if(zh=s,(yn=l)&&!c)for(Q=i;Q!==null;)s=Q,l=s.child,s.tag===22&&s.memoizedState!==null?SP(i):l!==null?(l.return=s,Q=l):SP(i);for(;o!==null;)Q=o,zD(o),o=o.sibling;Q=i,zh=a,yn=c}bP(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):bP(e)}}function bP(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yn||_y(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ii(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&iP(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iP(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Jd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}yn||t.flags&512&&xw(t)}catch(f){ht(t,t.return,f)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function wP(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function SP(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_y(4,t)}catch(l){ht(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ht(t,i,l)}}var o=t.return;try{xw(t)}catch(l){ht(t,o,l)}break;case 5:var s=t.return;try{xw(t)}catch(l){ht(t,s,l)}}}catch(l){ht(t,t.return,l)}if(t===e){Q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Q=a;break}Q=t.return}}var E8=Math.ceil,Om=Do.ReactCurrentDispatcher,bk=Do.ReactCurrentOwner,$r=Do.ReactCurrentBatchConfig,Pe=0,Ut=null,Et=null,on=0,rr=0,ic=Hs(0),jt=0,lf=null,Ya=0,Oy=0,wk=0,kd=null,Vn=null,Sk=0,Ic=1/0,no=null,Mm=!1,Sw=null,Es=null,Uh=!1,ms=null,Nm=0,Ed=0,kw=null,Wp=-1,Hp=0;function _n(){return Pe&6?xt():Wp!==-1?Wp:Wp=xt()}function Cs(e){return e.mode&1?Pe&2&&on!==0?on&-on:a8.transition!==null?(Hp===0&&(Hp=CR()),Hp):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:NR(e.type)),e):1}function pi(e,t,n,r){if(50<Ed)throw Ed=0,kw=null,Error(W(185));Uf(e,n,r),(!(Pe&2)||e!==Ut)&&(e===Ut&&(!(Pe&2)&&(Oy|=n),jt===4&&cs(e,on)),Jn(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Ic=xt()+500,Ty&&Ks()))}function Jn(e,t){var n=e.callbackNode;a6(e,t);var r=mm(e,e===Ut?on:0);if(r===0)n!==null&&MA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&MA(n),t===1)e.tag===0?s8(kP.bind(null,e)):XR(kP.bind(null,e)),n8(function(){!(Pe&6)&&Ks()}),n=null;else{switch(TR(r)){case 1:n=GS;break;case 4:n=kR;break;case 16:n=pm;break;case 536870912:n=ER;break;default:n=pm}n=YD(n,UD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function UD(e,t){if(Wp=-1,Hp=0,Pe&6)throw Error(W(327));var n=e.callbackNode;if(yc()&&e.callbackNode!==n)return null;var r=mm(e,e===Ut?on:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jm(e,r);else{t=r;var i=Pe;Pe|=2;var o=WD();(Ut!==e||on!==t)&&(no=null,Ic=xt()+500,Ra(e,t));do try{A8();break}catch(a){VD(e,a)}while(1);ak(),Om.current=o,Pe=i,Et!==null?t=0:(Ut=null,on=0,t=jt)}if(t!==0){if(t===2&&(i=Jb(e),i!==0&&(r=i,t=Ew(e,i))),t===1)throw n=lf,Ra(e,0),cs(e,r),Jn(e,xt()),n;if(t===6)cs(e,r);else{if(i=e.current.alternate,!(r&30)&&!C8(i)&&(t=jm(e,r),t===2&&(o=Jb(e),o!==0&&(r=o,t=Ew(e,o))),t===1))throw n=lf,Ra(e,0),cs(e,r),Jn(e,xt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:fa(e,Vn,no);break;case 3:if(cs(e,r),(r&130023424)===r&&(t=Sk+500-xt(),10<t)){if(mm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_n(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=iw(fa.bind(null,e,Vn,no),t);break}fa(e,Vn,no);break;case 4:if(cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-hi(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E8(r/1960))-r,10<r){e.timeoutHandle=iw(fa.bind(null,e,Vn,no),r);break}fa(e,Vn,no);break;case 5:fa(e,Vn,no);break;default:throw Error(W(329))}}}return Jn(e,xt()),e.callbackNode===n?UD.bind(null,e):null}function Ew(e,t){var n=kd;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),e=jm(e,t),e!==2&&(t=Vn,Vn=n,t!==null&&Cw(t)),e}function Cw(e){Vn===null?Vn=e:Vn.push.apply(Vn,e)}function C8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mi(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~wk,t&=~Oy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hi(t),r=1<<n;e[n]=-1,t&=~r}}function kP(e){if(Pe&6)throw Error(W(327));yc();var t=mm(e,0);if(!(t&1))return Jn(e,xt()),null;var n=jm(e,t);if(e.tag!==0&&n===2){var r=Jb(e);r!==0&&(t=r,n=Ew(e,r))}if(n===1)throw n=lf,Ra(e,0),cs(e,t),Jn(e,xt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fa(e,Vn,no),Jn(e,xt()),null}function kk(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Ic=xt()+500,Ty&&Ks())}}function Ja(e){ms!==null&&ms.tag===0&&!(Pe&6)&&yc();var t=Pe;Pe|=1;var n=$r.transition,r=Ie;try{if($r.transition=null,Ie=1,e)return e()}finally{Ie=r,$r.transition=n,Pe=t,!(Pe&6)&&Ks()}}function Ek(){rr=ic.current,Xe(ic)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t8(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(ik(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bm();break;case 3:Nc(),Xe(Gn),Xe(bn),hk();break;case 5:fk(r);break;case 4:Nc();break;case 13:Xe(st);break;case 19:Xe(st);break;case 10:lk(r.type._context);break;case 22:case 23:Ek()}n=n.return}if(Ut=e,Et=e=Ts(e.current,null),on=rr=t,jt=0,lf=null,wk=Oy=Ya=0,Vn=kd=null,ka!==null){for(t=0;t<ka.length;t++)if(n=ka[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ka=null}return e}function VD(e,t){do{var n=Et;try{if(ak(),zp.current=_m,Pm){for(var r=ct.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pm=!1}if(Ga=0,Bt=Mt=ct=null,wd=!1,of=0,bk.current=null,n===null||n.return===null){jt=1,lf=t,Et=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=on,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=uP(s);if(h!==null){h.flags&=-257,dP(h,s,a,o,t),h.mode&1&&cP(o,c,t),t=h,l=c;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){cP(o,c,t),Ck();break e}l=Error(W(426))}}else if(nt&&a.mode&1){var y=uP(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),dP(y,s,a,o,t),ok(jc(l,a));break e}}o=l=jc(l,a),jt!==4&&(jt=2),kd===null?kd=[o]:kd.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=TD(o,l,t);rP(o,v);break e;case 1:a=l;var b=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Es===null||!Es.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=AD(o,a,t);rP(o,S);break e}}o=o.return}while(o!==null)}KD(n)}catch(E){t=E,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(1)}function WD(){var e=Om.current;return Om.current=_m,e===null?_m:e}function Ck(){(jt===0||jt===3||jt===2)&&(jt=4),Ut===null||!(Ya&268435455)&&!(Oy&268435455)||cs(Ut,on)}function jm(e,t){var n=Pe;Pe|=2;var r=WD();(Ut!==e||on!==t)&&(no=null,Ra(e,t));do try{T8();break}catch(i){VD(e,i)}while(1);if(ak(),Pe=n,Om.current=r,Et!==null)throw Error(W(261));return Ut=null,on=0,jt}function T8(){for(;Et!==null;)HD(Et)}function A8(){for(;Et!==null&&!QH();)HD(Et)}function HD(e){var t=GD(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?KD(e):Et=t,bk.current=null}function KD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b8(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,Et=null;return}}else if(n=x8(n,t,rr),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);jt===0&&(jt=5)}function fa(e,t,n){var r=Ie,i=$r.transition;try{$r.transition=null,Ie=1,P8(e,t,n,r)}finally{$r.transition=i,Ie=r}return null}function P8(e,t,n,r){do yc();while(ms!==null);if(Pe&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(l6(e,o),e===Ut&&(Et=Ut=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uh||(Uh=!0,YD(pm,function(){return yc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$r.transition,$r.transition=null;var s=Ie;Ie=1;var a=Pe;Pe|=4,bk.current=null,S8(e,n),BD(n,e),G6(nw),gm=!!tw,nw=tw=null,e.current=n,k8(n),ZH(),Pe=a,Ie=s,$r.transition=o}else e.current=n;if(Uh&&(Uh=!1,ms=e,Nm=i),o=e.pendingLanes,o===0&&(Es=null),n6(n.stateNode),Jn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mm)throw Mm=!1,e=Sw,Sw=null,e;return Nm&1&&e.tag!==0&&yc(),o=e.pendingLanes,o&1?e===kw?Ed++:(Ed=0,kw=e):Ed=0,Ks(),null}function yc(){if(ms!==null){var e=TR(Nm),t=$r.transition,n=Ie;try{if($r.transition=null,Ie=16>e?16:e,ms===null)var r=!1;else{if(e=ms,ms=null,Nm=0,Pe&6)throw Error(W(331));var i=Pe;for(Pe|=4,Q=e.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Sd(8,u,o)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,h=u.return;if(LD(u),u===c){Q=null;break}if(f!==null){f.return=h,Q=f;break}Q=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sd(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Q=v;break e}Q=o.return}}var b=e.current;for(Q=b;Q!==null;){s=Q;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Q=w;else e:for(s=b;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_y(9,a)}}catch(E){ht(a,a.return,E)}if(a===s){Q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Q=S;break e}Q=a.return}}if(Pe=i,Ks(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(wy,e)}catch{}r=!0}return r}finally{Ie=n,$r.transition=t}}return!1}function EP(e,t,n){t=jc(n,t),t=TD(e,t,1),e=ks(e,t,1),t=_n(),e!==null&&(Uf(e,1,t),Jn(e,t))}function ht(e,t,n){if(e.tag===3)EP(e,e,n);else for(;t!==null;){if(t.tag===3){EP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){e=jc(n,e),e=AD(t,e,1),t=ks(t,e,1),e=_n(),t!==null&&(Uf(t,1,e),Jn(t,e));break}}t=t.return}}function _8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&n,Ut===e&&(on&n)===n&&(jt===4||jt===3&&(on&130023424)===on&&500>xt()-Sk?Ra(e,0):wk|=n),Jn(e,t)}function qD(e,t){t===0&&(e.mode&1?(t=Nh,Nh<<=1,!(Nh&130023424)&&(Nh=4194304)):t=1);var n=_n();e=Co(e,t),e!==null&&(Uf(e,t,n),Jn(e,n))}function O8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qD(e,n)}function M8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),qD(e,n)}var GD;GD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Kn=!1,v8(e,t,n);Kn=!!(e.flags&131072)}else Kn=!1,nt&&t.flags&1048576&&QR(t,km,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vp(e,t),e=t.pendingProps;var i=_c(t,bn.current);gc(t,n),i=mk(null,t,r,e,i,n);var o=gk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yn(r)?(o=!0,wm(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uk(t),i.updater=Py,t.stateNode=i,i._reactInternals=t,dw(t,r,e,n),t=pw(null,t,r,!0,o,n)):(t.tag=0,nt&&o&&rk(t),Tn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=j8(r),e=ii(r,e),i){case 0:t=hw(null,t,r,e,n);break e;case 1:t=pP(null,t,r,e,n);break e;case 11:t=fP(null,t,r,e,n);break e;case 14:t=hP(null,t,r,ii(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),hw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),pP(e,t,r,i,n);case 3:e:{if(MD(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,i=o.element,iD(e,t),Tm(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=jc(Error(W(423)),t),t=mP(e,t,r,n,i);break e}else if(r!==i){i=jc(Error(W(424)),t),t=mP(e,t,r,n,i);break e}else for(cr=Ss(t.stateNode.containerInfo.firstChild),ur=t,nt=!0,ai=null,n=nD(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===i){t=To(e,t,n);break e}Tn(e,t,r,n)}t=t.child}return t;case 5:return oD(t),e===null&&lw(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,rw(r,i)?s=null:o!==null&&rw(r,o)&&(t.flags|=32),OD(e,t),Tn(e,t,s,n),t.child;case 6:return e===null&&lw(t),null;case 13:return ND(e,t,n);case 4:return dk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mc(t,null,r,n):Tn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),fP(e,t,r,i,n);case 7:return Tn(e,t,t.pendingProps,n),t.child;case 8:return Tn(e,t,t.pendingProps.children,n),t.child;case 12:return Tn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ue(Em,r._currentValue),r._currentValue=s,o!==null)if(mi(o.value,s)){if(o.children===i.children&&!Gn.current){t=To(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=go(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cw(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),cw(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Tn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,gc(t,n),i=Wr(i),r=r(i),t.flags|=1,Tn(e,t,r,n),t.child;case 14:return r=t.type,i=ii(r,t.pendingProps),i=ii(r.type,i),hP(e,t,r,i,n);case 15:return PD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ii(r,i),Vp(e,t),t.tag=1,Yn(r)?(e=!0,wm(t)):e=!1,gc(t,n),CD(t,r,i),dw(t,r,i,n),pw(null,t,r,!0,e,n);case 19:return jD(e,t,n);case 22:return _D(e,t,n)}throw Error(W(156,t.tag))};function YD(e,t){return SR(e,t)}function N8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(e,t,n,r){return new N8(e,t,n,r)}function Tk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j8(e){if(typeof e=="function")return Tk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===HS)return 11;if(e===KS)return 14}return 2}function Ts(e,t){var n=e.alternate;return n===null?(n=Rr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kp(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Tk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Gl:return Da(n.children,i,o,t);case WS:s=8,i|=8;break;case Rb:return e=Rr(12,n,t,i|2),e.elementType=Rb,e.lanes=o,e;case Db:return e=Rr(13,n,t,i),e.elementType=Db,e.lanes=o,e;case Lb:return e=Rr(19,n,t,i),e.elementType=Lb,e.lanes=o,e;case oR:return My(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rR:s=10;break e;case iR:s=9;break e;case HS:s=11;break e;case KS:s=14;break e;case Zo:s=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Rr(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Da(e,t,n,r){return e=Rr(7,e,r,t),e.lanes=n,e}function My(e,t,n,r){return e=Rr(22,e,r,t),e.elementType=oR,e.lanes=n,e.stateNode={isHidden:!1},e}function U0(e,t,n){return e=Rr(6,e,null,t),e.lanes=n,e}function V0(e,t,n){return t=Rr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I8(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k0(0),this.expirationTimes=k0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ak(e,t,n,r,i,o,s,a,l){return e=new I8(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Rr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uk(o),e}function R8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ql,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function JD(e){if(!e)return Ds;e=e._reactInternals;e:{if(cl(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Yn(n))return JR(e,n,t)}return t}function XD(e,t,n,r,i,o,s,a,l){return e=Ak(n,r,!0,e,i,o,s,a,l),e.context=JD(null),n=e.current,r=_n(),i=Cs(n),o=go(r,i),o.callback=t??null,ks(n,o,i),e.current.lanes=i,Uf(e,i,r),Jn(e,r),e}function Ny(e,t,n,r){var i=t.current,o=_n(),s=Cs(i);return n=JD(n),t.context===null?t.context=n:t.pendingContext=n,t=go(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ks(i,t,s),e!==null&&(pi(e,i,s,o),Bp(e,i,s)),s}function Im(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function CP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pk(e,t){CP(e,t),(e=e.alternate)&&CP(e,t)}function D8(){return null}var QD=typeof reportError=="function"?reportError:function(e){console.error(e)};function _k(e){this._internalRoot=e}jy.prototype.render=_k.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Ny(e,t,null,null)};jy.prototype.unmount=_k.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){Ny(null,e,null,null)}),t[Eo]=null}};function jy(e){this._internalRoot=e}jy.prototype.unstable_scheduleHydration=function(e){if(e){var t=_R();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ls.length&&t!==0&&t<ls[n].priority;n++);ls.splice(n,0,e),n===0&&MR(e)}};function Ok(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function TP(){}function L8(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Im(s);o.call(c)}}var s=XD(t,r,e,0,null,!1,!1,"",TP);return e._reactRootContainer=s,e[Eo]=s.current,Zd(e.nodeType===8?e.parentNode:e),Ja(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Im(l);a.call(c)}}var l=Ak(e,0,!1,null,null,!1,!1,"",TP);return e._reactRootContainer=l,e[Eo]=l.current,Zd(e.nodeType===8?e.parentNode:e),Ja(function(){Ny(t,l,n,r)}),l}function Ry(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Im(s);a.call(l)}}Ny(t,s,e,i)}else s=L8(n,t,e,i,r);return Im(s)}AR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=id(t.pendingLanes);n!==0&&(YS(t,n|1),Jn(t,xt()),!(Pe&6)&&(Ic=xt()+500,Ks()))}break;case 13:Ja(function(){var r=Co(e,1);if(r!==null){var i=_n();pi(r,e,1,i)}}),Pk(e,1)}};JS=function(e){if(e.tag===13){var t=Co(e,134217728);if(t!==null){var n=_n();pi(t,e,134217728,n)}Pk(e,134217728)}};PR=function(e){if(e.tag===13){var t=Cs(e),n=Co(e,t);if(n!==null){var r=_n();pi(n,e,t,r)}Pk(e,t)}};_R=function(){return Ie};OR=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};qb=function(e,t,n){switch(t){case"input":if(Bb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cy(r);if(!i)throw Error(W(90));aR(r),Bb(r,i)}}}break;case"textarea":cR(e,n);break;case"select":t=n.value,t!=null&&fc(e,!!n.multiple,t,!1)}};gR=kk;yR=Ja;var $8={usingClientEntryPoint:!1,Events:[Wf,Ql,Cy,pR,mR,kk]},Nu={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F8={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Do.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bR(e),e===null?null:e.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||D8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{wy=Vh.inject(F8),Di=Vh}catch{}}vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$8;vr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ok(t))throw Error(W(200));return R8(e,t,null,n)};vr.createRoot=function(e,t){if(!Ok(e))throw Error(W(299));var n=!1,r="",i=QD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ak(e,1,!1,null,null,n,!1,r,i),e[Eo]=t.current,Zd(e.nodeType===8?e.parentNode:e),new _k(t)};vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=bR(t),e=e===null?null:e.stateNode,e};vr.flushSync=function(e){return Ja(e)};vr.hydrate=function(e,t,n){if(!Iy(t))throw Error(W(200));return Ry(null,e,t,!0,n)};vr.hydrateRoot=function(e,t,n){if(!Ok(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=XD(t,null,e,1,n??null,i,!1,o,s),e[Eo]=t.current,Zd(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jy(t)};vr.render=function(e,t,n){if(!Iy(t))throw Error(W(200));return Ry(null,e,t,!1,n)};vr.unmountComponentAtNode=function(e){if(!Iy(e))throw Error(W(40));return e._reactRootContainer?(Ja(function(){Ry(null,null,e,!1,function(){e._reactRootContainer=null,e[Eo]=null})}),!0):!1};vr.unstable_batchedUpdates=kk;vr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Iy(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Ry(e,t,n,!1,r)};vr.version="18.3.1-next-f1338f8080-20240426";function ZD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZD)}catch(e){console.error(e)}}ZD(),ZI.exports=vr;var nu=ZI.exports;const e2=yr(nu);var AP=nu;jb.createRoot=AP.createRoot,jb.hydrateRoot=AP.hydrateRoot;var B8=typeof Element<"u",z8=typeof Map=="function",U8=typeof Set=="function",V8=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function qp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!qp(e[r],t[r]))return!1;return!0}var o;if(z8&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!qp(r.value[1],t.get(r.value[0])))return!1;return!0}if(U8&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(V8&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(B8&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!qp(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var W8=function(t,n){try{return qp(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const H8=yr(W8);var K8=function(e,t,n,r,i,o,s,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},q8=K8;const PP=yr(q8);var G8=function(t,n,r,i){var o=r?r.call(i,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var u=s[c];if(!l(u))return!1;var d=t[u],f=n[u];if(o=r?r.call(i,d,f,u):void 0,o===!1||o===void 0&&d!==f)return!1}return!0};const Y8=yr(G8);var t2=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(t2||{}),W0={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},_P=Object.values(t2),Mk={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},J8=Object.entries(Mk).reduce((e,[t,n])=>(e[n]=t,e),{}),di="data-rh",vc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},xc=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},X8=e=>{let t=xc(e,"title");const n=xc(e,vc.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=xc(e,vc.DEFAULT_TITLE);return t||r||void 0},Q8=e=>xc(e,vc.ON_CHANGE_CLIENT_STATE)||(()=>{}),H0=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),Z8=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const a=i[o].toLowerCase();if(e.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),eK=e=>console&&typeof console.warn=="function"&&console.warn(e),ju=(e,t,n)=>{const r={};return n.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&eK(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,o)=>{const s={};o.filter(l=>{let c;const u=Object.keys(l);for(let f=0;f<u.length;f+=1){const h=u[f],p=h.toLowerCase();t.indexOf(p)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(p==="rel"&&l[p].toLowerCase()==="stylesheet")&&(c=p),t.indexOf(h)!==-1&&(h==="innerHTML"||h==="cssText"||h==="itemprop")&&(c=h)}if(!c||!l[c])return!1;const d=l[c].toLowerCase();return r[c]||(r[c]={}),s[c]||(s[c]={}),r[c][d]?!1:(s[c][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(s);for(let l=0;l<a.length;l+=1){const c=a[l],u={...r[c],...s[c]};r[c]=u}return i},[]).reverse()},tK=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},nK=e=>({baseTag:Z8(["href"],e),bodyAttributes:H0("bodyAttributes",e),defer:xc(e,vc.DEFER),encode:xc(e,vc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:H0("htmlAttributes",e),linkTags:ju("link",["rel","href"],e),metaTags:ju("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:ju("noscript",["innerHTML"],e),onChangeClientState:Q8(e),scriptTags:ju("script",["src","innerHTML"],e),styleTags:ju("style",["cssText"],e),title:X8(e),titleAttributes:H0("titleAttributes",e),prioritizeSeoTags:tK(e,vc.PRIORITIZE_SEO_TAGS)}),n2=e=>Array.isArray(e)?e.join(""):e,rK=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},K0=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>(rK(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},OP=(e,t)=>({...e,[t]:void 0}),iK=["noscript","script","style"],Tw=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),r2=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),oK=(e,t,n,r)=>{const i=r2(n),o=n2(t);return i?`<${e} ${di}="true" ${i}>${Tw(o,r)}</${e}>`:`<${e} ${di}="true">${Tw(o,r)}</${e}>`},sK=(e,t,n=!0)=>t.reduce((r,i)=>{const o=i,s=Object.keys(o).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const d=typeof o[u]>"u"?u:`${u}="${Tw(o[u],n)}"`;return c?`${c} ${d}`:d},""),a=o.innerHTML||o.cssText||"",l=iK.indexOf(e)===-1;return`${r}<${e} ${di}="true" ${s}${l?"/>":`>${a}</${e}>`}`},""),i2=(e,t={})=>Object.keys(e).reduce((n,r)=>{const i=Mk[r];return n[i||r]=e[r],n},t),aK=(e,t,n)=>{const r={key:t,[di]:!0},i=i2(n,r);return[Te.createElement("title",i,t)]},Gp=(e,t)=>t.map((n,r)=>{const i={key:r,[di]:!0};return Object.keys(n).forEach(o=>{const a=Mk[o]||o;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[o]}),Te.createElement(e,i)}),_r=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>aK(e,t.title,t.titleAttributes),toString:()=>oK(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>i2(t),toString:()=>r2(t)};default:return{toComponent:()=>Gp(e,t),toString:()=>sK(e,t,n)}}},lK=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=K0(e,W0.meta),o=K0(t,W0.link),s=K0(n,W0.script);return{priorityMethods:{toComponent:()=>[...Gp("meta",i.priority),...Gp("link",o.priority),...Gp("script",s.priority)],toString:()=>`${_r("meta",i.priority,r)} ${_r("link",o.priority,r)} ${_r("script",s.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:s.default}},cK=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:s,title:a="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:f}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:u,metaTags:d,scriptTags:f}=lK(e)),{priority:h,base:_r("base",t,r),bodyAttributes:_r("bodyAttributes",n,r),htmlAttributes:_r("htmlAttributes",i,r),link:_r("link",u,r),meta:_r("meta",d,r),noscript:_r("noscript",o,r),script:_r("script",f,r),style:_r("style",s,r),title:_r("title",{title:a,titleAttributes:l},r)}},Aw=cK,Wh=[],o2=!!(typeof window<"u"&&window.document&&window.document.createElement),Pw=class{constructor(e,t){ei(this,"instances",[]);ei(this,"canUseDOM",o2);ei(this,"context");ei(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Wh:this.instances,add:e=>{(this.canUseDOM?Wh:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Wh:this.instances).indexOf(e);(this.canUseDOM?Wh:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Aw({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},uK={},s2=Te.createContext(uK),Ac,Nk=(Ac=class extends x.Component{constructor(n){super(n);ei(this,"helmetData");this.helmetData=new Pw(this.props.context||{},Ac.canUseDOM)}render(){return Te.createElement(s2.Provider,{value:this.helmetData.value},this.props.children)}},ei(Ac,"canUseDOM",o2),Ac),_l=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${di}]`),i=[].slice.call(r),o=[];let s;return t&&t.length&&t.forEach(a=>{const l=document.createElement(e);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const u=c,d=typeof a[u]>"u"?"":a[u];l.setAttribute(c,d)}l.setAttribute(di,"true"),i.some((c,u)=>(s=u,l.isEqualNode(c)))?i.splice(s,1):o.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),o.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:o}},_w=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(di),i=r?r.split(","):[],o=[...i],s=Object.keys(t);for(const a of s){const l=t[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=o.indexOf(a);c!==-1&&o.splice(c,1)}for(let a=o.length-1;a>=0;a-=1)n.removeAttribute(o[a]);i.length===o.length?n.removeAttribute(di):n.getAttribute(di)!==s.join(",")&&n.setAttribute(di,s.join(","))},dK=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=n2(e)),_w("title",t)},MP=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:s,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:f}=e;_w("body",r),_w("html",i),dK(d,f);const h={baseTag:_l("base",n),linkTags:_l("link",o),metaTags:_l("meta",s),noscriptTags:_l("noscript",a),scriptTags:_l("script",c),styleTags:_l("style",u)},p={},m={};Object.keys(h).forEach(y=>{const{newTags:v,oldTags:b}=h[y];v.length&&(p[y]=v),b.length&&(m[y]=h[y].oldTags)}),t&&t(),l(e,p,m)},Iu=null,fK=e=>{Iu&&cancelAnimationFrame(Iu),e.defer?Iu=requestAnimationFrame(()=>{MP(e,()=>{Iu=null})}):(MP(e),Iu=null)},hK=fK,NP=class extends x.Component{constructor(){super(...arguments);ei(this,"rendered",!1)}shouldComponentUpdate(t){return!Y8(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const i=nK(t.get().map(o=>{const s={...o.props};return delete s.context,s}));Nk.canUseDOM?hK(i):Aw&&(r=Aw(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Nb,a2=(Nb=class extends x.Component{shouldComponentUpdate(e){return!H8(OP(this.props,"helmetData"),OP(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return PP(_P.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${_P.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),PP(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return Te.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,s=Object.keys(o).reduce((l,c)=>(l[J8[c]||c]=o[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,s,i);break;default:t=this.mapObjectTypeChildren(r,t,s,i);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Pw)){const i=r;r=new Pw(i.context,!0),delete n.helmetData}return r?Te.createElement(NP,{...n,context:r.value}):Te.createElement(s2.Consumer,null,i=>Te.createElement(NP,{...n,context:i}))}},ei(Nb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Nb);const pK="modulepreload",mK=function(e){return"/"+e},jP={},ru=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=mK(o),o in jP)return;jP[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":pK,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var IP="popstate";function gK(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ow("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cf(i)}return vK(t,n,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yK(){return Math.random().toString(36).substring(2,10)}function RP(e,t){return{usr:e.state,key:e.key,idx:t}}function Ow(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?iu(t):t,state:n,key:t&&t.key||r||yK()}}function cf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function iu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function vK(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function d(){a="POP";let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:v})}function f(y,v){a="PUSH";let b=Ow(m.location,y,v);n&&n(b,y),c=u()+1;let w=RP(b,c),S=m.createHref(b);try{s.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}o&&l&&l({action:a,location:m.location,delta:1})}function h(y,v){a="REPLACE";let b=Ow(m.location,y,v);n&&n(b,y),c=u();let w=RP(b,c),S=m.createHref(b);s.replaceState(w,"",S),o&&l&&l({action:a,location:m.location,delta:0})}function p(y){return xK(y)}let m={get action(){return a},get location(){return e(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(IP,d),l=y,()=>{i.removeEventListener(IP,d),l=null}},createHref(y){return t(i,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(y){return s.go(y)}};return m}function xK(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:cf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l2(e,t,n="/"){return bK(e,t,n,!1)}function bK(e,t,n,r){let i=typeof t=="string"?iu(t):t,o=Ao(i.pathname||"/",n);if(o==null)return null;let s=c2(e);wK(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=NK(o);a=OK(s[l],c,r)}return a}function c2(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(r)&&l)return;ot(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length)}let d=yo([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(ot(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),c2(s.children,t,f,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:PK(d,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let c of u2(s.path))o(s,a,!0,c)}),t}function u2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=u2(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function wK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_K(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SK=/^:[\w-]+$/,kK=3,EK=2,CK=1,TK=10,AK=-2,DP=e=>e==="*";function PK(e,t){let n=e.split("/"),r=n.length;return n.some(DP)&&(r+=AK),t&&(r+=EK),n.filter(i=>!DP(i)).reduce((i,o)=>i+(SK.test(o)?kK:o===""?CK:TK),r)}function _K(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function OK(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",d=Rm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Rm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:yo([o,d.pathname]),pathnameBase:DK(yo([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=yo([o,d.pathnameBase]))}return s}function Rm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=MK(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:d},f)=>{if(u==="*"){let p=a[f]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const h=a[f];return d&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function MK(e,t=!1,n=!0){gi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ao(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function jK(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?iu(e):e;return{pathname:n?n.startsWith("/")?n:IK(n,t):t,search:LK(r),hash:$K(i)}}function IK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function q0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jk(e){let t=RK(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ik(e,t,n,r=!1){let i;typeof e=="string"?i=iu(e):(i={...e},ot(!i.pathname||!i.pathname.includes("?"),q0("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),q0("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),q0("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=jK(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var yo=e=>e.join("/").replace(/\/\/+/g,"/"),DK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$K=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var d2=["POST","PUT","PATCH","DELETE"];new Set(d2);var BK=["GET",...d2];new Set(BK);var ou=x.createContext(null);ou.displayName="DataRouter";var Dy=x.createContext(null);Dy.displayName="DataRouterState";x.createContext(!1);var f2=x.createContext({isTransitioning:!1});f2.displayName="ViewTransition";var zK=x.createContext(new Map);zK.displayName="Fetchers";var UK=x.createContext(null);UK.displayName="Await";var bi=x.createContext(null);bi.displayName="Navigation";var Kf=x.createContext(null);Kf.displayName="Location";var wi=x.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Rk=x.createContext(null);Rk.displayName="RouteError";function VK(e,{relative:t}={}){ot(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(bi),{hash:i,pathname:o,search:s}=qf(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:yo([n,o])),r.createHref({pathname:a,search:s,hash:i})}function su(){return x.useContext(Kf)!=null}function qs(){return ot(su(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Kf).location}var h2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p2(e){x.useContext(bi).static||x.useLayoutEffect(e)}function Gs(){let{isDataRoute:e}=x.useContext(wi);return e?nq():WK()}function WK(){ot(su(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ou),{basename:t,navigator:n}=x.useContext(bi),{matches:r}=x.useContext(wi),{pathname:i}=qs(),o=JSON.stringify(jk(r)),s=x.useRef(!1);return p2(()=>{s.current=!0}),x.useCallback((l,c={})=>{if(gi(s.current,h2),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=Ik(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:yo([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,o,i,e])}x.createContext(null);function m2(){let{matches:e}=x.useContext(wi),t=e[e.length-1];return t?t.params:{}}function qf(e,{relative:t}={}){let{matches:n}=x.useContext(wi),{pathname:r}=qs(),i=JSON.stringify(jk(n));return x.useMemo(()=>Ik(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function HK(e,t){return g2(e,t)}function g2(e,t,n,r,i){var b;ot(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(bi),{matches:s}=x.useContext(wi),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",d=a&&a.route;{let w=d&&d.path||"";y2(c,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=qs(),h;if(t){let w=typeof t=="string"?iu(t):t;ot(u==="/"||((b=w.pathname)==null?void 0:b.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),h=w}else h=f;let p=h.pathname||"/",m=p;if(u!=="/"){let w=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=l2(e,{pathname:m});gi(d||y!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),gi(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=JK(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:yo([u,o.encodeLocation?o.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:yo([u,o.encodeLocation?o.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,n,r,i);return t&&v?x.createElement(Kf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},v):v}function KK(){let e=tq(),t=FK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,s)}var qK=x.createElement(KK,null),GK=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(wi.Provider,{value:this.props.routeContext},x.createElement(Rk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YK({routeContext:e,match:t,children:n}){let r=x.useContext(ou);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(wi.Provider,{value:e},n)}function JK(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n==null?void 0:n.errors;if(s!=null){let c=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);ot(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,u,d)=>{let f,h=!1,p=null,m=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,p=u.route.errorElement||qK,a&&(l<0&&d===0?(y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):l===d&&(h=!0,m=u.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,d+1)),v=()=>{let b;return f?b=p:h?b=m:u.route.Component?b=x.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=c,x.createElement(YK,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?x.createElement(GK,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:r}):v()},null)}function Dk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XK(e){let t=x.useContext(ou);return ot(t,Dk(e)),t}function QK(e){let t=x.useContext(Dy);return ot(t,Dk(e)),t}function ZK(e){let t=x.useContext(wi);return ot(t,Dk(e)),t}function Lk(e){let t=ZK(e),n=t.matches[t.matches.length-1];return ot(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function eq(){return Lk("useRouteId")}function tq(){var r;let e=x.useContext(Rk),t=QK("useRouteError"),n=Lk("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function nq(){let{router:e}=XK("useNavigate"),t=Lk("useNavigate"),n=x.useRef(!1);return p2(()=>{n.current=!0}),x.useCallback(async(i,o={})=>{gi(n.current,h2),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var LP={};function y2(e,t,n){!t&&!LP[e]&&(LP[e]=!0,gi(!1,n))}x.memo(rq);function rq({routes:e,future:t,state:n,unstable_onError:r}){return g2(e,void 0,n,r,t)}function oa({to:e,replace:t,state:n,relative:r}){ot(su(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(bi);gi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(wi),{pathname:s}=qs(),a=Gs(),l=Ik(e,jk(o),s,r==="path"),c=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function et(e){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iq({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ot(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=iu(n));let{pathname:l="/",search:c="",hash:u="",state:d=null,key:f="default"}=n,h=x.useMemo(()=>{let p=Ao(l,s);return p==null?null:{location:{pathname:p,search:c,hash:u,state:d,key:f},navigationType:r}},[s,l,c,u,d,f,r]);return gi(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:x.createElement(bi.Provider,{value:a},x.createElement(Kf.Provider,{children:t,value:h}))}function oq({children:e,location:t}){return HK(Mw(e),t)}function Mw(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Mw(r.props.children,o));return}ot(r.type===et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Mw(r.props.children,o)),n.push(s)}),n}var Yp="get",Jp="application/x-www-form-urlencoded";function Ly(e){return e!=null&&typeof e.tagName=="string"}function sq(e){return Ly(e)&&e.tagName.toLowerCase()==="button"}function aq(e){return Ly(e)&&e.tagName.toLowerCase()==="form"}function lq(e){return Ly(e)&&e.tagName.toLowerCase()==="input"}function cq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uq(e,t){return e.button===0&&(!t||t==="_self")&&!cq(e)}var Hh=null;function dq(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var fq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function G0(e){return e!=null&&!fq.has(e)?(gi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):e}function hq(e,t){let n,r,i,o,s;if(aq(e)){let a=e.getAttribute("action");r=a?Ao(a,t):null,n=e.getAttribute("method")||Yp,i=G0(e.getAttribute("enctype"))||Jp,o=new FormData(e)}else if(sq(e)||lq(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ao(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Yp,i=G0(e.getAttribute("formenctype"))||G0(a.getAttribute("enctype"))||Jp,o=new FormData(a,e),!dq()){let{name:c,type:u,value:d}=e;if(u==="image"){let f=c?`${c}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else c&&o.append(c,d)}}else{if(Ly(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yp,r=null,i=Jp,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $k(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pq(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ao(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mq(e,t){if(e.id in t)return t[e.id];try{let n=await ru(()=>import(e.module),[]);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gq(e){return e!=null&&typeof e.page=="string"}function yq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function vq(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await mq(o,n);return s.links?s.links():[]}return[]}));return Sq(r.flat(1).filter(yq).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $P(e,t,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?t.filter((l,c)=>{var d;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function xq(e,t,{includeHydrateFallback:n}={}){return bq(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function bq(e){return[...new Set(e)]}function wq(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Sq(e,t){let n=new Set,r=new Set(t);return e.reduce((i,o)=>{if(t&&!gq(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let a=JSON.stringify(wq(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function v2(){let e=x.useContext(ou);return $k(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kq(){let e=x.useContext(Dy);return $k(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fk=x.createContext(void 0);Fk.displayName="FrameworkContext";function x2(){let e=x.useContext(Fk);return $k(e,"You must render this element inside a <HydratedRouter> element"),e}function Eq(e,t){let n=x.useContext(Fk),[r,i]=x.useState(!1),[o,s]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=t,f=x.useRef(null);x.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let m=v=>{v.forEach(b=>{s(b.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[e]),x.useEffect(()=>{if(r){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[r]);let h=()=>{i(!0)},p=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:Ru(a,h),onBlur:Ru(l,p),onMouseEnter:Ru(c,h),onMouseLeave:Ru(u,p),onTouchStart:Ru(d,h)}]:[!1,f,{}]}function Ru(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Cq({page:e,...t}){let{router:n}=v2(),r=x.useMemo(()=>l2(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(Aq,{page:e,matches:r,...t}):null}function Tq(e){let{manifest:t,routeModules:n}=x2(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return vq(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function Aq({page:e,matches:t,...n}){let r=qs(),{manifest:i,routeModules:o}=x2(),{basename:s}=v2(),{loaderData:a,matches:l}=kq(),c=x.useMemo(()=>$P(e,t,l,i,r,"data"),[e,t,l,i,r]),u=x.useMemo(()=>$P(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,m=!1;if(t.forEach(v=>{var w;let b=i.routes[v.route.id];!b||!b.hasLoader||(!c.some(S=>S.route.id===v.route.id)&&v.route.id in a&&((w=o[v.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?m=!0:p.add(v.route.id))}),p.size===0)return[];let y=pq(e,s,"data");return m&&p.size>0&&y.searchParams.set("_routes",t.filter(v=>p.has(v.route.id)).map(v=>v.route.id).join(",")),[y.pathname+y.search]},[s,a,r,i,c,t,e,o]),f=x.useMemo(()=>xq(u,i),[u,i]),h=Tq(u);return x.createElement(x.Fragment,null,d.map(p=>x.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),f.map(p=>x.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),h.map(({key:p,link:m})=>x.createElement("link",{key:p,nonce:n.nonce,...m})))}function Pq(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var b2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b2&&(window.__reactRouterVersion="7.9.3")}catch{}function _q({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=gK({window:n,v5Compat:!0}));let i=r.current,[o,s]=x.useState({action:i.action,location:i.location}),a=x.useCallback(l=>{x.startTransition(()=>s(l))},[s]);return x.useLayoutEffect(()=>i.listen(a),[i,a]),x.createElement(iq,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var w2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bk=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d,...f},h){let{basename:p}=x.useContext(bi),m=typeof c=="string"&&w2.test(c),y,v=!1;if(typeof c=="string"&&m&&(y=c,b2))try{let A=new URL(window.location.href),O=c.startsWith("//")?new URL(A.protocol+c):new URL(c),M=Ao(O.pathname,p);O.origin===A.origin&&M!=null?c=M+O.search+O.hash:v=!0}catch{gi(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=VK(c,{relative:i}),[w,S,E]=Eq(r,f),T=jq(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function k(A){t&&t(A),A.defaultPrevented||T(A)}let C=x.createElement("a",{...f,...E,href:y||b,onClick:v||o?t:k,ref:Pq(h,S),target:l,"data-discover":!m&&n==="render"?"true":void 0});return w&&!m?x.createElement(x.Fragment,null,C,x.createElement(Cq,{page:b})):C});Bk.displayName="Link";var Oq=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let d=qf(s,{relative:c.relative}),f=qs(),h=x.useContext(Dy),{navigator:p,basename:m}=x.useContext(bi),y=h!=null&&$q(d)&&a===!0,v=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,b=f.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(b=b.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&m&&(w=Ao(w,m)||w);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=b===v||!i&&b.startsWith(v)&&b.charAt(S)==="/",T=w!=null&&(w===v||!i&&w.startsWith(v)&&w.charAt(v.length)==="/"),k={isActive:E,isPending:T,isTransitioning:y},C=E?t:void 0,A;typeof r=="function"?A=r(k):A=[r,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(k):o;return x.createElement(Bk,{...c,"aria-current":C,className:A,ref:u,style:O,to:s,viewTransition:a},typeof l=="function"?l(k):l)});Oq.displayName="NavLink";var Mq=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Yp,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:d,...f},h)=>{let p=Dq(),m=Lq(a,{relative:c}),y=s.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&w2.test(a),b=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let S=w.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||s;p(S||w.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:d})};return x.createElement("form",{ref:h,method:y,action:m,onSubmit:r?l:b,...f,"data-discover":!v&&e==="render"?"true":void 0})});Mq.displayName="Form";function Nq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(e){let t=x.useContext(ou);return ot(t,Nq(e)),t}function jq(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Gs(),l=qs(),c=qf(e,{relative:o});return x.useCallback(u=>{if(uq(u,t)){u.preventDefault();let d=n!==void 0?n:cf(l)===cf(c);a(e,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,t,e,i,o,s])}var Iq=0,Rq=()=>`__${String(++Iq)}__`;function Dq(){let{router:e}=S2("useSubmit"),{basename:t}=x.useContext(bi),n=eq();return x.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=hq(r,t);if(i.navigate===!1){let u=i.fetcherKey||Rq();await e.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Lq(e,{relative:t}={}){let{basename:n}=x.useContext(bi),r=x.useContext(wi);ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...qf(e||".",{relative:t})},s=qs();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let u=a.toString();o.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:yo([n,o.pathname])),cf(o)}function $q(e,{relative:t}={}){let n=x.useContext(f2);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=S2("useViewTransitionState"),i=qf(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ao(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ao(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rm(i.pathname,s)!=null||Rm(i.pathname,o)!=null}const k2=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$y=x.createContext({}),Fy=x.createContext(null),By=typeof document<"u",zk=By?x.useLayoutEffect:x.useEffect,E2=x.createContext({strict:!1}),Uk=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Fq="framerAppearId",C2="data-"+Uk(Fq);function Bq(e,t,n,r){const{visualElement:i}=x.useContext($y),o=x.useContext(E2),s=x.useContext(Fy),a=x.useContext(k2).reducedMotion,l=x.useRef();r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,s)});const u=x.useRef(!!(n[C2]&&!window.HandoffComplete));return zk(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function oc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zq(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):oc(n)&&(n.current=r))},[t])}function uf(e){return typeof e=="string"||Array.isArray(e)}function zy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Vk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wk=["initial",...Vk];function Uy(e){return zy(e.animate)||Wk.some(t=>uf(e[t]))}function T2(e){return!!(Uy(e)||e.variants)}function Uq(e,t){if(Uy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||uf(n)?n:void 0,animate:uf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Vq(e){const{initial:t,animate:n}=Uq(e,x.useContext($y));return x.useMemo(()=>({initial:t,animate:n}),[FP(t),FP(n)])}function FP(e){return Array.isArray(e)?e.join(" "):e}const BP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},df={};for(const e in BP)df[e]={isEnabled:t=>BP[e].some(n=>!!t[n])};function Wq(e){for(const t in e)df[t]={...df[t],...e[t]}}const Hk=x.createContext({}),A2=x.createContext({}),Hq=Symbol.for("motionComponentSymbol");function Kq({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Wq(e);function o(a,l){let c;const u={...x.useContext(k2),...a,layoutId:qq(a)},{isStatic:d}=u,f=Vq(a),h=r(a,d);if(!d&&By){f.visualElement=Bq(i,h,u,t);const p=x.useContext(A2),m=x.useContext(E2).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,m,e,p))}return x.createElement($y.Provider,{value:f},c&&f.visualElement?x.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,a,zq(h,f.visualElement,l),h,d,f.visualElement))}const s=x.forwardRef(o);return s[Hq]=i,s}function qq({layoutId:e}){const t=x.useContext(Hk).id;return t&&e!==void 0?t+"-"+e:e}function Gq(e){function t(r,i={}){return Kq(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Yq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kk(e){return typeof e!="string"||e.includes("-")?!1:!!(Yq.indexOf(e)>-1||/[A-Z]/.test(e))}const Dm={};function Jq(e){Object.assign(Dm,e)}const Gf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ul=new Set(Gf);function P2(e,{layout:t,layoutId:n}){return ul.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Dm[e]||e==="opacity")}const Qn=e=>!!(e&&e.getVelocity),Xq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qq=Gf.length;function Zq(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<Qq;s++){const a=Gf[s];if(e[a]!==void 0){const l=Xq[a]||a;o+=`${l}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const _2=e=>t=>typeof t=="string"&&t.startsWith(e),O2=_2("--"),Nw=_2("var(--"),eG=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tG=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ls=(e,t,n)=>Math.min(Math.max(n,e),t),dl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cd={...dl,transform:e=>Ls(0,1,e)},Kh={...dl,default:1},Td=e=>Math.round(e*1e5)/1e5,Vy=/(-)?([\d]*\.?[\d])+/g,M2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nG=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Yf(e){return typeof e=="string"}const Jf=e=>({test:t=>Yf(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yo=Jf("deg"),$i=Jf("%"),ue=Jf("px"),rG=Jf("vh"),iG=Jf("vw"),zP={...$i,parse:e=>$i.parse(e)/100,transform:e=>$i.transform(e*100)},UP={...dl,transform:Math.round},N2={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,size:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,rotate:Yo,rotateX:Yo,rotateY:Yo,rotateZ:Yo,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:Yo,skewX:Yo,skewY:Yo,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Cd,originX:zP,originY:zP,originZ:ue,zIndex:UP,fillOpacity:Cd,strokeOpacity:Cd,numOctaves:UP};function qk(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const f=t[d];if(O2(d)){o[d]=f;continue}const h=N2[d],p=tG(f,h);if(ul.has(d)){if(l=!0,s[d]=p,!u)continue;f!==(h.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=p):i[d]=p}if(t.transform||(l||r?i.transform=Zq(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=a;i.transformOrigin=`${d} ${f} ${h}`}}const Gk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j2(e,t,n){for(const r in t)!Qn(t[r])&&!P2(r,n)&&(e[r]=t[r])}function oG({transformTemplate:e},t,n){return x.useMemo(()=>{const r=Gk();return qk(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function sG(e,t,n){const r=e.style||{},i={};return j2(i,r,e),Object.assign(i,oG(e,t,n)),e.transformValues?e.transformValues(i):i}function aG(e,t,n){const r={},i=sG(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const lG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lG.has(e)}let I2=e=>!Lm(e);function cG(e){e&&(I2=t=>t.startsWith("on")?!Lm(t):e(t))}try{cG(require("@emotion/is-prop-valid").default)}catch{}function uG(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(I2(i)||n===!0&&Lm(i)||!t&&!Lm(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function VP(e,t,n){return typeof e=="string"?e:ue.transform(t+n*e)}function dG(e,t,n){const r=VP(t,e.x,e.width),i=VP(n,e.y,e.height);return`${r} ${i}`}const fG={offset:"stroke-dashoffset",array:"stroke-dasharray"},hG={offset:"strokeDashoffset",array:"strokeDasharray"};function pG(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?fG:hG;e[o.offset]=ue.transform(-r);const s=ue.transform(t),a=ue.transform(n);e[o.array]=`${s} ${a}`}function Yk(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(qk(e,c,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:m}=e;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=dG(m,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&pG(h,s,a,l,!1)}const R2=()=>({...Gk(),attrs:{}}),Jk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mG(e,t,n,r){const i=x.useMemo(()=>{const o=R2();return Yk(o,t,{enableHardwareAcceleration:!1},Jk(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};j2(o,e.style,e),i.style={...o,...i.style}}return i}function gG(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Kk(n)?mG:aG)(r,o,s,n),u={...uG(r,typeof n=="string",e),...l,ref:i},{children:d}=r,f=x.useMemo(()=>Qn(d)?d.get():d,[d]);return x.createElement(n,{...u,children:f})}}function D2(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const L2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $2(e,t,n,r){D2(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(L2.has(i)?i:Uk(i),t.attrs[i])}function Xk(e,t){const{style:n}=e,r={};for(const i in n)(Qn(n[i])||t.style&&Qn(t.style[i])||P2(i,e))&&(r[i]=n[i]);return r}function F2(e,t){const n=Xk(e,t);for(const r in e)if(Qn(e[r])||Qn(t[r])){const i=Gf.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Qk(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function B2(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const $m=e=>Array.isArray(e),yG=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),vG=e=>$m(e)?e[e.length-1]||0:e;function Xp(e){const t=Qn(e)?e.get():e;return yG(t)?t.toValue():t}function xG({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:bG(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const z2=e=>(t,n)=>{const r=x.useContext($y),i=x.useContext(Fy),o=()=>xG(e,t,r,i);return n?o():B2(o)};function bG(e,t,n,r){const i={},o=r(e,{});for(const f in o)i[f]=Xp(o[f]);let{initial:s,animate:a}=e;const l=Uy(e),c=T2(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!zy(d)&&(Array.isArray(d)?d:[d]).forEach(h=>{const p=Qk(e,h);if(!p)return;const{transitionEnd:m,transition:y,...v}=p;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in m)i[b]=m[b]}),i}const mt=e=>e;class WP{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function wG(e){let t=new WP,n=new WP,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?t:n;return c&&s.add(l),f.add(l)&&d&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const u=t.order[c];u(l),s.has(u)&&(a.schedule(u),e())}i=!1,o&&(o=!1,a.process(l))}};return a}const qh=["prepare","read","update","preRender","render","postRender"],SG=40;function kG(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=qh.reduce((d,f)=>(d[f]=wG(()=>n=!0),d),{}),s=d=>o[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,SG),1),i.timestamp=d,i.isProcessing=!0,qh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:qh.reduce((d,f)=>{const h=o[f];return d[f]=(p,m=!1,y=!1)=>(n||l(),h.schedule(p,m,y)),d},{}),cancel:d=>qh.forEach(f=>o[f].cancel(d)),state:i,steps:o}}const{schedule:Ve,cancel:Po,state:pn,steps:Y0}=kG(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),EG={useVisualState:z2({scrapeMotionValuesFromProps:F2,createRenderState:R2,onMount:(e,t,{renderState:n,latestValues:r})=>{Ve.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ve.render(()=>{Yk(n,r,{enableHardwareAcceleration:!1},Jk(t.tagName),e.transformTemplate),$2(t,n)})}})},CG={useVisualState:z2({scrapeMotionValuesFromProps:Xk,createRenderState:Gk})};function TG(e,{forwardMotionProps:t=!1},n,r){return{...Kk(e)?EG:CG,preloadedFeatures:n,useRender:gG(t),createVisualElement:r,Component:e}}function fo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const U2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Wy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const AG=e=>t=>U2(t)&&e(t,Wy(t));function vo(e,t,n,r){return fo(e,t,AG(n),r)}const PG=(e,t)=>n=>t(e(n)),As=(...e)=>e.reduce(PG);function V2(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const HP=V2("dragHorizontal"),KP=V2("dragVertical");function W2(e){let t=!1;if(e==="y")t=KP();else if(e==="x")t=HP();else{const n=HP(),r=KP();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function H2(){const e=W2(!0);return e?(e(),!1):!0}class Ys{constructor(t){this.isMounted=!1,this.node=t}update(){}}function qP(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||H2())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Ve.update(()=>a[r](o,s))};return vo(e.current,n,i,{passive:!e.getProps()[r]})}class _G extends Ys{mount(){this.unmount=As(qP(this.node,!0),qP(this.node,!1))}unmount(){}}class OG extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=As(fo(this.node.current,"focus",()=>this.onFocus()),fo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K2=(e,t)=>t?e===t?!0:K2(e,t.parentElement):!1;function J0(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Wy(n))}class MG extends Ys{constructor(){super(...arguments),this.removeStartListeners=mt,this.removeEndListeners=mt,this.removeAccessibleListeners=mt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=vo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Ve.update(()=>{!d&&!K2(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=vo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=As(o,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||J0("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Ve.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=fo(this.node.current,"keyup",s),J0("down",(a,l)=>{this.startPress(a,l)})},n=fo(this.node.current,"keydown",t),r=()=>{this.isPressing&&J0("cancel",(o,s)=>this.cancelPress(o,s))},i=fo(this.node.current,"blur",r);this.removeAccessibleListeners=As(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ve.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!H2()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ve.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=vo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=fo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=As(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const jw=new WeakMap,X0=new WeakMap,NG=e=>{const t=jw.get(e.target);t&&t(e)},jG=e=>{e.forEach(NG)};function IG({root:e,...t}){const n=e||document;X0.has(n)||X0.set(n,{});const r=X0.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(jG,{root:e,...t})),r[i]}function RG(e,t,n){const r=IG(t);return jw.set(e,n),r.observe(e),()=>{jw.delete(e),r.unobserve(e)}}const DG={some:0,all:1};class LG extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:DG[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return RG(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($G(t,n))&&this.startObserver()}unmount(){}}function $G({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const FG={inView:{Feature:LG},tap:{Feature:MG},focus:{Feature:OG},hover:{Feature:_G}};function q2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function BG(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function zG(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Hy(e,t,n){const r=e.getProps();return Qk(r,t,n!==void 0?n:r.custom,BG(e),zG(e))}let UG=mt,Zk=mt;const Ps=e=>e*1e3,xo=e=>e/1e3,VG={current:!1},G2=e=>Array.isArray(e)&&typeof e[0]=="number";function Y2(e){return!!(!e||typeof e=="string"&&J2[e]||G2(e)||Array.isArray(e)&&e.every(Y2))}const sd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,J2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sd([0,.65,.55,1]),circOut:sd([.55,0,1,.45]),backIn:sd([.31,.01,.66,-.59]),backOut:sd([.33,1.53,.69,.99])};function X2(e){if(e)return G2(e)?sd(e):Array.isArray(e)?e.map(X2):J2[e]}function WG(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=X2(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function HG(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const Q2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,KG=1e-7,qG=12;function GG(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Q2(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>KG&&++a<qG);return s}function Xf(e,t,n,r){if(e===t&&n===r)return mt;const i=o=>GG(o,0,1,e,n);return o=>o===0||o===1?o:Q2(i(o),t,r)}const YG=Xf(.42,0,1,1),JG=Xf(0,0,.58,1),Z2=Xf(.42,0,.58,1),XG=e=>Array.isArray(e)&&typeof e[0]!="number",eL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tL=e=>t=>1-e(1-t),eE=e=>1-Math.sin(Math.acos(e)),nL=tL(eE),QG=eL(eE),rL=Xf(.33,1.53,.69,.99),tE=tL(rL),ZG=eL(tE),e9=e=>(e*=2)<1?.5*tE(e):.5*(2-Math.pow(2,-10*(e-1))),t9={linear:mt,easeIn:YG,easeInOut:Z2,easeOut:JG,circIn:eE,circInOut:QG,circOut:nL,backIn:tE,backInOut:ZG,backOut:rL,anticipate:e9},GP=e=>{if(Array.isArray(e)){Zk(e.length===4);const[t,n,r,i]=e;return Xf(t,n,r,i)}else if(typeof e=="string")return t9[e];return e},nE=(e,t)=>n=>!!(Yf(n)&&nG.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),iL=(e,t,n)=>r=>{if(!Yf(r))return r;const[i,o,s,a]=r.match(Vy);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},n9=e=>Ls(0,255,e),Q0={...dl,transform:e=>Math.round(n9(e))},Ca={test:nE("rgb","red"),parse:iL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Q0.transform(e)+", "+Q0.transform(t)+", "+Q0.transform(n)+", "+Td(Cd.transform(r))+")"};function r9(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Iw={test:nE("#"),parse:r9,transform:Ca.transform},sc={test:nE("hsl","hue"),parse:iL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$i.transform(Td(t))+", "+$i.transform(Td(n))+", "+Td(Cd.transform(r))+")"},En={test:e=>Ca.test(e)||Iw.test(e)||sc.test(e),parse:e=>Ca.test(e)?Ca.parse(e):sc.test(e)?sc.parse(e):Iw.parse(e),transform:e=>Yf(e)?e:e.hasOwnProperty("red")?Ca.transform(e):sc.transform(e)},lt=(e,t,n)=>-n*e+n*t+e;function Z0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i9({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=Z0(l,a,e+1/3),o=Z0(l,a,e),s=Z0(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const ex=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},o9=[Iw,Ca,sc],s9=e=>o9.find(t=>t.test(e));function YP(e){const t=s9(e);let n=t.parse(e);return t===sc&&(n=i9(n)),n}const oL=(e,t)=>{const n=YP(e),r=YP(t),i={...n};return o=>(i.red=ex(n.red,r.red,o),i.green=ex(n.green,r.green,o),i.blue=ex(n.blue,r.blue,o),i.alpha=lt(n.alpha,r.alpha,o),Ca.transform(i))};function a9(e){var t,n;return isNaN(e)&&Yf(e)&&(((t=e.match(Vy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(M2))===null||n===void 0?void 0:n.length)||0)>0}const sL={regex:eG,countKey:"Vars",token:"${v}",parse:mt},aL={regex:M2,countKey:"Colors",token:"${c}",parse:En.parse},lL={regex:Vy,countKey:"Numbers",token:"${n}",parse:dl.parse};function tx(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function Fm(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tx(n,sL),tx(n,aL),tx(n,lL),n}function cL(e){return Fm(e).values}function uL(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Fm(e),o=t.length;return s=>{let a=i;for(let l=0;l<o;l++)l<r?a=a.replace(sL.token,s[l]):l<r+n?a=a.replace(aL.token,En.transform(s[l])):a=a.replace(lL.token,Td(s[l]));return a}}const l9=e=>typeof e=="number"?0:e;function c9(e){const t=cL(e);return uL(e)(t.map(l9))}const $s={test:a9,parse:cL,createTransformer:uL,getAnimatableNone:c9},dL=(e,t)=>n=>`${n>0?t:e}`;function fL(e,t){return typeof e=="number"?n=>lt(e,t,n):En.test(e)?oL(e,t):e.startsWith("var(")?dL(e,t):pL(e,t)}const hL=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,s)=>fL(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},u9=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=fL(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},pL=(e,t)=>{const n=$s.createTransformer(t),r=Fm(e),i=Fm(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?As(hL(r.values,i.values),n):dL(e,t)},ff=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},JP=(e,t)=>n=>lt(e,t,n);function d9(e){return typeof e=="number"?JP:typeof e=="string"?En.test(e)?oL:pL:Array.isArray(e)?hL:typeof e=="object"?u9:JP}function f9(e,t,n){const r=[],i=n||d9(e[0]),o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||mt:t;a=As(l,a)}r.push(a)}return r}function mL(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Zk(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=f9(t,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=ff(e[u],e[u+1],c);return s[u](d)};return n?c=>l(Ls(e[0],e[o-1],c)):l}function h9(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ff(0,t,r);e.push(lt(n,1,i))}}function p9(e){const t=[0];return h9(t,e.length-1),t}function m9(e,t){return e.map(n=>n*t)}function g9(e,t){return e.map(()=>t||Z2).splice(0,e.length-1)}function Bm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=XG(r)?r.map(GP):GP(r),o={done:!1,value:t[0]},s=m9(n&&n.length===t.length?n:p9(t),e),a=mL(s,t,{ease:Array.isArray(i)?i:g9(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}function gL(e,t){return t?e*(1e3/t):0}const y9=5;function yL(e,t,n){const r=Math.max(t-y9,0);return gL(n-e(r),t-r)}const nx=.001,v9=.01,XP=10,x9=.05,b9=1;function w9({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;UG(e<=Ps(XP));let s=1-t;s=Ls(x9,b9,s),e=Ls(v9,XP,xo(e)),s<1?(i=c=>{const u=c*s,d=u*e,f=u-n,h=Rw(c,s),p=Math.exp(-d);return nx-f/h*p},o=c=>{const d=c*s*e,f=d*n+n,h=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-d),m=Rw(Math.pow(c,2),s);return(-i(c)+nx>0?-1:1)*((f-h)*p)/m}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-nx+u*d},o=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=k9(i,o,a);if(e=Ps(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const S9=12;function k9(e,t,n){let r=n;for(let i=1;i<S9;i++)r=r-e(r)/t(r);return r}function Rw(e,t){return e*Math.sqrt(1-t*t)}const E9=["duration","bounce"],C9=["stiffness","damping","mass"];function QP(e,t){return t.some(n=>e[n]!==void 0)}function T9(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!QP(e,C9)&&QP(e,E9)){const n=w9(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function vL({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=T9({...r,velocity:-xo(r.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(a*c)),m=o-i,y=xo(Math.sqrt(a/c)),v=Math.abs(m)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let b;if(p<1){const w=Rw(y,p);b=S=>{const E=Math.exp(-p*y*S);return o-E*((h+p*y*m)/w*Math.sin(w*S)+m*Math.cos(w*S))}}else if(p===1)b=w=>o-Math.exp(-y*w)*(m+(h+y*m)*w);else{const w=y*Math.sqrt(p*p-1);b=S=>{const E=Math.exp(-p*y*S),T=Math.min(w*S,300);return o-E*((h+p*y*m)*Math.sinh(T)+w*m*Math.cosh(T))/w}}return{calculatedDuration:f&&u||null,next:w=>{const S=b(w);if(f)s.done=w>=u;else{let E=h;w!==0&&(p<1?E=yL(b,w,S):E=0);const T=Math.abs(E)<=n,k=Math.abs(o-S)<=t;s.done=T&&k}return s.value=s.done?o:S,s}}}function ZP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=C=>a!==void 0&&C<a||l!==void 0&&C>l,p=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let m=n*t;const y=d+m,v=s===void 0?y:s(y);v!==y&&(m=v-d);const b=C=>-m*Math.exp(-C/r),w=C=>v+b(C),S=C=>{const A=b(C),O=w(C);f.done=Math.abs(A)<=c,f.value=f.done?v:O};let E,T;const k=C=>{h(f.value)&&(E=C,T=vL({keyframes:[f.value,p(f.value)],velocity:yL(w,C,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:C=>{let A=!1;return!T&&E===void 0&&(A=!0,S(C),k(C)),E!==void 0&&C>E?T.next(C-E):(!A&&S(C),f)}}}const A9=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ve.update(t,!0),stop:()=>Po(t),now:()=>pn.isProcessing?pn.timestamp:performance.now()}},e_=2e4;function t_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<e_;)t+=n,r=e.next(t);return t>=e_?1/0:t}const P9={decay:ZP,inertia:ZP,tween:Bm,keyframes:Bm,spring:vL};function zm({autoplay:e=!0,delay:t=0,driver:n=A9,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let h=1,p=!1,m,y;const v=()=>{y=new Promise(z=>{m=z})};v();let b;const w=P9[i]||Bm;let S;w!==Bm&&typeof r[0]!="number"&&(S=mL([0,100],r,{clamp:!1}),r=[0,100]);const E=w({...f,keyframes:r});let T;a==="mirror"&&(T=w({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let k="idle",C=null,A=null,O=null;E.calculatedDuration===null&&o&&(E.calculatedDuration=t_(E));const{calculatedDuration:M}=E;let N=1/0,L=1/0;M!==null&&(N=M+s,L=N*(o+1)-s);let I=0;const J=z=>{if(A===null)return;h>0&&(A=Math.min(A,z)),h<0&&(A=Math.min(z-L/h,A)),C!==null?I=C:I=Math.round(z-A)*h;const U=I-t*(h>=0?1:-1),ne=h>=0?U<0:U>L;I=Math.max(U,0),k==="finished"&&C===null&&(I=L);let Oe=I,le=E;if(o){const Y=Math.min(I,L)/N;let oe=Math.floor(Y),de=Y%1;!de&&Y>=1&&(de=1),de===1&&oe--,oe=Math.min(oe,o+1),!!(oe%2)&&(a==="reverse"?(de=1-de,s&&(de-=s/N)):a==="mirror"&&(le=T)),Oe=Ls(0,1,de)*N}const Ae=ne?{done:!1,value:r[0]}:le.next(Oe);S&&(Ae.value=S(Ae.value));let{done:We}=Ae;!ne&&M!==null&&(We=h>=0?I>=L:I<=0);const Dt=C===null&&(k==="finished"||k==="running"&&We);return d&&d(Ae.value),Dt&&P(),Ae},$=()=>{b&&b.stop(),b=void 0},K=()=>{k="idle",$(),m(),v(),A=O=null},P=()=>{k="finished",u&&u(),$(),m()},j=()=>{if(p)return;b||(b=n(J));const z=b.now();l&&l(),C!==null?A=z-C:(!A||k==="finished")&&(A=z),k==="finished"&&v(),O=A,C=null,k="running",b.start()};e&&j();const q={then(z,U){return y.then(z,U)},get time(){return xo(I)},set time(z){z=Ps(z),I=z,C!==null||!b||h===0?C=z:A=b.now()-z/h},get duration(){const z=E.calculatedDuration===null?t_(E):E.calculatedDuration;return xo(z)},get speed(){return h},set speed(z){z===h||!b||(h=z,q.time=xo(I))},get state(){return k},play:j,pause:()=>{k="paused",C=I},stop:()=>{p=!0,k!=="idle"&&(k="idle",c&&c(),K())},cancel:()=>{O!==null&&J(O),K()},complete:()=>{k="finished"},sample:z=>(A=0,J(z))};return q}function _9(e){let t;return()=>(t===void 0&&(t=e()),t)}const O9=_9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),M9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Gh=10,N9=2e4,j9=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Y2(t.ease);function I9(e,t,{onUpdate:n,onComplete:r,...i}){if(!(O9()&&M9.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,c=!1;const u=()=>{l=new Promise(w=>{a=w})};u();let{keyframes:d,duration:f=300,ease:h,times:p}=i;if(j9(t,i)){const w=zm({...i,repeat:0,delay:0});let S={done:!1,value:d[0]};const E=[];let T=0;for(;!S.done&&T<N9;)S=w.sample(T),E.push(S.value),T+=Gh;p=void 0,d=E,f=T-Gh,h="linear"}const m=WG(e.owner.current,t,d,{...i,duration:f,ease:h,times:p}),y=()=>{c=!1,m.cancel()},v=()=>{c=!0,Ve.update(y),a(),u()};return m.onfinish=()=>{c||(e.set(HG(d,i)),r&&r(),v())},{then(w,S){return l.then(w,S)},attachTimeline(w){return m.timeline=w,m.onfinish=null,mt},get time(){return xo(m.currentTime||0)},set time(w){m.currentTime=Ps(w)},get speed(){return m.playbackRate},set speed(w){m.playbackRate=w},get duration(){return xo(f)},play:()=>{s||(m.play(),Po(y))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:w}=m;if(w){const S=zm({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Gh).value,S.sample(w).value,Gh)}v()},complete:()=>{c||m.finish()},cancel:v}}function R9({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:mt,pause:mt,stop:mt,then:o=>(o(),Promise.resolve()),cancel:mt,complete:mt});return t?zm({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const D9={type:"spring",stiffness:500,damping:25,restSpeed:10},L9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$9={type:"keyframes",duration:.8},F9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B9=(e,{keyframes:t})=>t.length>2?$9:ul.has(e)?e.startsWith("scale")?L9(t[1]):D9:F9,Dw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($s.test(t)||t==="0")&&!t.startsWith("url(")),z9=new Set(["brightness","contrast","saturate","opacity"]);function U9(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Vy)||[];if(!r)return e;const i=n.replace(r,"");let o=z9.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const V9=/([a-z-]*)\(.*?\)/g,Lw={...$s,getAnimatableNone:e=>{const t=e.match(V9);return t?t.map(U9).join(" "):e}},W9={...N2,color:En,backgroundColor:En,outlineColor:En,fill:En,stroke:En,borderColor:En,borderTopColor:En,borderRightColor:En,borderBottomColor:En,borderLeftColor:En,filter:Lw,WebkitFilter:Lw},rE=e=>W9[e];function xL(e,t){let n=rE(e);return n!==Lw&&(n=$s),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bL=e=>/^0[^.\s]+$/.test(e);function H9(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||bL(e)}function K9(e,t,n,r){const i=Dw(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const l=[];for(let c=0;c<o.length;c++)o[c]===null&&(o[c]=c===0?s:o[c-1]),H9(o[c])&&l.push(c),typeof o[c]=="string"&&o[c]!=="none"&&o[c]!=="0"&&(a=o[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];o[u]=xL(t,a)}return o}function q9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function iE(e,t){return e[t]||e.default||e}const G9={skipAnimations:!1},oE=(e,t,n,r={})=>i=>{const o=iE(r,e)||{},s=o.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ps(s);const l=K9(t,e,n,o),c=l[0],u=l[l.length-1],d=Dw(e,c),f=Dw(e,u);let h={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(q9(o)||(h={...h,...B9(e,h)}),h.duration&&(h.duration=Ps(h.duration)),h.repeatDelay&&(h.repeatDelay=Ps(h.repeatDelay)),!d||!f||VG.current||o.type===!1||G9.skipAnimations)return R9(h);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=I9(t,e,h);if(p)return p}return zm(h)};function Um(e){return!!(Qn(e)&&e.add)}const wL=e=>/^\-?\d*\.?\d+$/.test(e);function sE(e,t){e.indexOf(t)===-1&&e.push(t)}function aE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lE{constructor(){this.subscriptions=[]}add(t){return sE(this.subscriptions,t),()=>aE(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Y9=e=>!isNaN(parseFloat(e));class J9{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:s}=pn;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Ve.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ve.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Y9(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new lE);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gL(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rc(e,t){return new J9(e,t)}const SL=e=>t=>t.test(e),X9={test:e=>e==="auto",parse:e=>e},kL=[dl,ue,$i,Yo,iG,rG,X9],Du=e=>kL.find(SL(e)),Q9=[...kL,En,$s],Z9=e=>Q9.find(SL(e));function e7(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Rc(n))}function t7(e,t){const n=Hy(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=vG(o[s]);e7(e,s,a)}}function n7(e,t,n){var r,i;const o=Object.keys(t).filter(a=>!e.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),u!=null&&(typeof u=="string"&&(wL(u)||bL(u))?u=parseFloat(u):!Z9(u)&&$s.test(c)&&(u=xL(l,c)),e.addValue(l,Rc(u,{owner:e})),n[l]===void 0&&(n[l]=u),u!==null&&e.setBaseTarget(l,u))}}function r7(e,t){return t?(t[e]||t.default||t).from:void 0}function i7(e,t,n){const r={};for(const i in e){const o=r7(i,t);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function o7({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function s7(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function EL(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d),h=a[d];if(!f||h===void 0||u&&o7(u,d))continue;const p={delay:n,elapsed:0,...iE(o||{},d)};if(window.HandoffAppearAnimations){const v=e.getProps()[C2];if(v){const b=window.HandoffAppearAnimations(v,d,f,Ve);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let m=!p.isHandoff&&!s7(f,h);if(p.type==="spring"&&(f.getVelocity()||p.velocity)&&(m=!1),f.animation&&(m=!1),m)continue;f.start(oE(d,f,h,e.shouldReduceMotion&&ul.has(d)?{type:!1}:p));const y=f.animation;Um(l)&&(l.add(d),y.then(()=>l.remove(d))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&t7(e,s)}),c}function $w(e,t,n={}){const r=Hy(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(EL(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return a7(e,t,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function a7(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(l7).forEach((c,u)=>{c.notify("AnimationStart",t),s.push($w(c,t,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function l7(e,t){return e.sortNodePosition(t)}function c7(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>$w(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=$w(e,t,n);else{const i=typeof t=="function"?Hy(e,t,n.custom):t;r=Promise.all(EL(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const u7=[...Vk].reverse(),d7=Vk.length;function f7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>c7(e,n,r)))}function h7(e){let t=f7(e);const n=m7();let r=!0;const i=(l,c)=>{const u=Hy(e,c);if(u){const{transition:d,transitionEnd:f,...h}=u;l={...l,...h,...f}}return l};function o(l){t=l(e)}function s(l,c){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],h=new Set;let p={},m=1/0;for(let v=0;v<d7;v++){const b=u7[v],w=n[b],S=u[b]!==void 0?u[b]:d[b],E=uf(S),T=b===c?w.isActive:null;T===!1&&(m=v);let k=S===d[b]&&S!==u[b]&&E;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...p},!w.isActive&&T===null||!S&&!w.prevProp||zy(S)||typeof S=="boolean")continue;let A=p7(w.prevProp,S)||b===c&&w.isActive&&!k&&E||v>m&&E,O=!1;const M=Array.isArray(S)?S:[S];let N=M.reduce(i,{});T===!1&&(N={});const{prevResolvedValues:L={}}=w,I={...L,...N},J=$=>{A=!0,h.has($)&&(O=!0,h.delete($)),w.needsAnimating[$]=!0};for(const $ in I){const K=N[$],P=L[$];if(p.hasOwnProperty($))continue;let j=!1;$m(K)&&$m(P)?j=!q2(K,P):j=K!==P,j?K!==void 0?J($):h.add($):K!==void 0&&h.has($)?J($):w.protectedKeys[$]=!0}w.prevProp=S,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),r&&e.blockInitialAnimation&&(A=!1),A&&(!k||O)&&f.push(...M.map($=>({animation:$,options:{type:b,...l}})))}if(h.size){const v={};h.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(v[b]=w)}),f.push({animation:v})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=s(u,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function p7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!q2(t,e):!1}function sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m7(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class g7 extends Ys{constructor(t){super(t),t.animationState||(t.animationState=h7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),zy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let y7=0;class v7 extends Ys{constructor(){super(...arguments),this.id=y7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const x7={animation:{Feature:g7},exit:{Feature:v7}},n_=(e,t)=>Math.abs(e-t);function b7(e,t){const n=n_(e.x,t.x),r=n_(e.y,t.y);return Math.sqrt(n**2+r**2)}class CL{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ix(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=b7(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=d,{timestamp:m}=pn;this.history.push({...p,timestamp:m});const{onStart:y,onMove:v}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=rx(f,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ix(d.type==="pointercancel"?this.lastMoveEventInfo:rx(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,y),p&&p(d,y)},!U2(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Wy(t),a=rx(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=pn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,ix(a,this.history)),this.removeListeners=As(vo(this.contextWindow,"pointermove",this.handlePointerMove),vo(this.contextWindow,"pointerup",this.handlePointerUp),vo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function rx(e,t){return t?{point:t(e.point)}:e}function r_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ix({point:e},t){return{point:e,delta:r_(e,TL(t)),offset:r_(e,w7(t)),velocity:S7(t,.1)}}function w7(e){return e[0]}function TL(e){return e[e.length-1]}function S7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=TL(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ps(t)));)n--;if(!r)return{x:0,y:0};const o=xo(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function pr(e){return e.max-e.min}function Fw(e,t=0,n=.01){return Math.abs(e-t)<=n}function i_(e,t,n,r=.5){e.origin=r,e.originPoint=lt(t.min,t.max,e.origin),e.scale=pr(n)/pr(t),(Fw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=lt(n.min,n.max,e.origin)-e.originPoint,(Fw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ad(e,t,n,r){i_(e.x,t.x,n.x,r?r.originX:void 0),i_(e.y,t.y,n.y,r?r.originY:void 0)}function o_(e,t,n){e.min=n.min+t.min,e.max=e.min+pr(t)}function k7(e,t,n){o_(e.x,t.x,n.x),o_(e.y,t.y,n.y)}function s_(e,t,n){e.min=t.min-n.min,e.max=e.min+pr(t)}function Pd(e,t,n){s_(e.x,t.x,n.x),s_(e.y,t.y,n.y)}function E7(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?lt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?lt(n,e,r.max):Math.min(e,n)),e}function a_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function C7(e,{top:t,left:n,bottom:r,right:i}){return{x:a_(e.x,n,i),y:a_(e.y,t,r)}}function l_(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function T7(e,t){return{x:l_(e.x,t.x),y:l_(e.y,t.y)}}function A7(e,t){let n=.5;const r=pr(e),i=pr(t);return i>r?n=ff(t.min,t.max-r,e.min):r>i&&(n=ff(e.min,e.max-i,t.min)),Ls(0,1,n)}function P7(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Bw=.35;function _7(e=Bw){return e===!1?e=0:e===!0&&(e=Bw),{x:c_(e,"left","right"),y:c_(e,"top","bottom")}}function c_(e,t,n){return{min:u_(e,t),max:u_(e,n)}}function u_(e,t){return typeof e=="number"?e:e[t]||0}const d_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ac=()=>({x:d_(),y:d_()}),f_=()=>({min:0,max:0}),St=()=>({x:f_(),y:f_()});function Ar(e){return[e("x"),e("y")]}function AL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function O7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ox(e){return e===void 0||e===1}function zw({scale:e,scaleX:t,scaleY:n}){return!ox(e)||!ox(t)||!ox(n)}function ha(e){return zw(e)||PL(e)||e.z||e.rotate||e.rotateX||e.rotateY}function PL(e){return h_(e.x)||h_(e.y)}function h_(e){return e&&e!=="0%"}function Vm(e,t,n){const r=e-n,i=t*r;return n+i}function p_(e,t,n,r,i){return i!==void 0&&(e=Vm(e,i,r)),Vm(e,n,r)+t}function Uw(e,t=0,n=1,r,i){e.min=p_(e.min,t,n,r,i),e.max=p_(e.max,t,n,r,i)}function _L(e,{x:t,y:n}){Uw(e.x,t.translate,t.scale,t.originPoint),Uw(e.y,n.translate,n.scale,n.originPoint)}function N7(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&lc(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,_L(e,s)),r&&ha(o.latestValues)&&lc(e,o.latestValues))}t.x=m_(t.x),t.y=m_(t.y)}function m_(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ts(e,t){e.min=e.min+t,e.max=e.max+t}function g_(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,s=lt(e.min,e.max,o);Uw(e,t[n],t[r],s,t.scale)}const j7=["x","scaleX","originX"],I7=["y","scaleY","originY"];function lc(e,t){g_(e.x,t,j7),g_(e.y,t,I7)}function OL(e,t){return AL(M7(e.getBoundingClientRect(),t))}function R7(e,t,n){const r=OL(e,n),{scroll:i}=t;return i&&(ts(r.x,i.offset.x),ts(r.y,i.offset.y)),r}const ML=({current:e})=>e?e.ownerDocument.defaultView:null,D7=new WeakMap;class L7{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wy(u,"page").point)},o=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=W2(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(y=>{let v=this.getAxisMotionValue(y).get()||0;if($i.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=pr(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&Ve.update(()=>p(u,d),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:y}=d;if(h&&this.currentDirection===null){this.currentDirection=$7(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),m&&m(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Ar(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new CL(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ML(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ve.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Yh(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=E7(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&oc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=C7(i.layoutBox,n):this.constraints=!1,this.elastic=_7(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ar(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=P7(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!oc(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=R7(r,i.root,this.visualElement.getTransformPagePoint());let s=T7(i.layout.layoutBox,o);if(n){const a=n(O7(s));this.hasMutatedConstraints=!!a,a&&(s=AL(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ar(u=>{if(!Yh(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(oE(t,r,0,n))}stopAnimation(){Ar(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ar(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ar(n=>{const{drag:r}=this.getProps();if(!Yh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-lt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ar(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=A7({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(s=>{if(!Yh(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(lt(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;D7.set(this.visualElement,this);const t=this.visualElement.current,n=vo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();oc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=fo(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ar(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Bw,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Yh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $7(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class F7 extends Ys{constructor(t){super(t),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new L7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const y_=e=>(t,n)=>{e&&Ve.update(()=>e(t,n))};class B7 extends Ys{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(t){this.session=new CL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ML(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:y_(t),onStart:y_(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ve.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=vo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function z7(){const e=x.useContext(Fy);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Qp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const n=v_(e,t.target.x),r=v_(e,t.target.y);return`${n}% ${r}%`}},U7={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=$s.parse(e);if(i.length>5)return r;const o=$s.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const c=lt(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class V7 extends Te.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Jq(W7),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Qp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||Ve.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NL(e){const[t,n]=z7(),r=x.useContext(Hk);return Te.createElement(V7,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(A2),isPresent:t,safeToRemove:n})}const W7={borderRadius:{...Lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lu,borderTopRightRadius:Lu,borderBottomLeftRadius:Lu,borderBottomRightRadius:Lu,boxShadow:U7},jL=["TopLeft","TopRight","BottomLeft","BottomRight"],H7=jL.length,x_=e=>typeof e=="string"?parseFloat(e):e,b_=e=>typeof e=="number"||ue.test(e);function K7(e,t,n,r,i,o){i?(e.opacity=lt(0,n.opacity!==void 0?n.opacity:1,q7(r)),e.opacityExit=lt(t.opacity!==void 0?t.opacity:1,0,G7(r))):o&&(e.opacity=lt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<H7;s++){const a=`border${jL[s]}Radius`;let l=w_(t,a),c=w_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||b_(l)===b_(c)?(e[a]=Math.max(lt(x_(l),x_(c),r),0),($i.test(c)||$i.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=lt(t.rotate||0,n.rotate||0,r))}function w_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const q7=IL(0,.5,nL),G7=IL(.5,.95,mt);function IL(e,t,n){return r=>r<e?0:r>t?1:n(ff(e,t,r))}function S_(e,t){e.min=t.min,e.max=t.max}function kr(e,t){S_(e.x,t.x),S_(e.y,t.y)}function k_(e,t,n,r,i){return e-=t,e=Vm(e,1/n,r),i!==void 0&&(e=Vm(e,1/i,r)),e}function Y7(e,t=0,n=1,r=.5,i,o=e,s=e){if($i.test(t)&&(t=parseFloat(t),t=lt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=lt(o.min,o.max,r);e===o&&(a-=t),e.min=k_(e.min,t,n,a,i),e.max=k_(e.max,t,n,a,i)}function E_(e,t,[n,r,i],o,s){Y7(e,t[n],t[r],t[i],t.scale,o,s)}const J7=["x","scaleX","originX"],X7=["y","scaleY","originY"];function C_(e,t,n,r){E_(e.x,t,J7,n?n.x:void 0,r?r.x:void 0),E_(e.y,t,X7,n?n.y:void 0,r?r.y:void 0)}function T_(e){return e.translate===0&&e.scale===1}function RL(e){return T_(e.x)&&T_(e.y)}function Q7(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function DL(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function A_(e){return pr(e.x)/pr(e.y)}class Z7{constructor(){this.members=[]}add(t){sE(this.members,t),t.scheduleRender()}remove(t){if(aE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P_(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const eY=(e,t)=>e.depth-t.depth;class tY{constructor(){this.children=[],this.isDirty=!1}add(t){sE(this.children,t),this.isDirty=!0}remove(t){aE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eY),this.isDirty=!1,this.children.forEach(t)}}function nY(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Po(r),e(o-t))};return Ve.read(r,!0),()=>Po(r)}function rY(e){window.MotionDebug&&window.MotionDebug.record(e)}function iY(e){return e instanceof SVGElement&&e.tagName!=="svg"}function oY(e,t,n){const r=Qn(e)?e:Rc(e);return r.start(oE("",r,t,n)),r.animation}const __=["","X","Y","Z"],sY={visibility:"hidden"},O_=1e3;let aY=0;const pa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function LL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=aY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pa.totalNodes=pa.resolvedTargetDeltas=pa.recalculatedProjection=0,this.nodes.forEach(uY),this.nodes.forEach(mY),this.nodes.forEach(gY),this.nodes.forEach(dY),rY(pa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tY)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new lE),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iY(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=nY(f,250),Qp.hasAnimatedSinceResize&&(Qp.hasAnimatedSinceResize=!1,this.nodes.forEach(N_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||wY,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=u.getProps(),b=!this.targetLayout||!DL(this.targetLayout,p)||h,w=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const S={...iE(m,"layout"),onPlay:y,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||N_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yY),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M_);return}this.isUpdating||this.nodes.forEach(hY),this.isUpdating=!1,this.nodes.forEach(pY),this.nodes.forEach(lY),this.nodes.forEach(cY),this.clearAllSnapshots();const a=performance.now();pn.delta=Ls(0,1e3/60,a-pn.timestamp),pn.timestamp=a,pn.isProcessing=!0,Y0.update.process(pn),Y0.preRender.process(pn),Y0.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(fY),this.sharedNodes.forEach(vY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!RL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||ha(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),SY(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return St();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(ts(a.x,l.offset.x),ts(a.y,l.offset.y)),a}removeElementScroll(s){const a=St();kr(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){kr(a,s);const{scroll:f}=this.root;f&&(ts(a.x,-f.offset.x),ts(a.y,-f.offset.y))}ts(a.x,u.offset.x),ts(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=St();kr(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&lc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ha(u.latestValues)&&lc(l,u.latestValues)}return ha(this.latestValues)&&lc(l,this.latestValues),l}removeTransform(s){const a=St();kr(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ha(c.latestValues))continue;zw(c.latestValues)&&c.updateSnapshot();const u=St(),d=c.measurePageBox();kr(u,d),C_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ha(this.latestValues)&&C_(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Pd(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),k7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kr(this.target,this.layout.layoutBox),_L(this.target,this.targetDelta)):kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Pd(this.relativeTargetOrigin,this.target,h.target),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zw(this.parent.latestValues)||PL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;kr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;N7(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=ac(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ac(),this.projectionDeltaWithTransform=ac());const m=this.projectionTransform;Ad(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=P_(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),pa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=St(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,m=h!==p,y=this.getStack(),v=!y||y.members.length<=1,b=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(bY));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const E=S/1e3;j_(d.x,s.x,E),j_(d.y,s.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xY(this.relativeTarget,this.relativeTargetOrigin,f,E),w&&Q7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=St()),kr(w,this.relativeTarget)),m&&(this.animationValues=u,K7(u,c,this.latestValues,E,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Qp.hasAnimatedSinceResize=!0,this.currentAnimation=oY(0,O_,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&$L(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||St();const d=pr(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=pr(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}kr(a,l),lc(a,u),Ad(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Z7),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<__.length;u++){const d="rotate"+__[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sY;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Xp(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Xp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=P_(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in Dm){if(f[m]===void 0)continue;const{correct:y,applyTo:v}=Dm[m],b=c.transform==="none"?f[m]:y(f[m],d);if(v){const w=v.length;for(let S=0;S<w;S++)c[v[S]]=b}else c[m]=b}return this.options.layoutId&&(c.pointerEvents=d===this?Xp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(M_),this.root.sharedNodes.clear()}}}function lY(e){e.updateLayout()}function cY(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?Ar(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=pr(f);f.min=r[d].min,f.max=f.min+h}):$L(o,n.layoutBox,r)&&Ar(d=>{const f=s?n.measuredBox[d]:n.layoutBox[d],h=pr(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=ac();Ad(a,r,n.layoutBox);const l=ac();s?Ad(l,e.applyTransform(i,!0),n.measuredBox):Ad(l,r,n.layoutBox);const c=!RL(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const p=St();Pd(p,n.layoutBox,f.layoutBox);const m=St();Pd(m,r,h.layoutBox),DL(p,m)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function uY(e){pa.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fY(e){e.clearSnapshot()}function M_(e){e.clearMeasurements()}function hY(e){e.isLayoutDirty=!1}function pY(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function N_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mY(e){e.resolveTargetDelta()}function gY(e){e.calcProjection()}function yY(e){e.resetRotation()}function vY(e){e.removeLeadSnapshot()}function j_(e,t,n){e.translate=lt(t.translate,0,n),e.scale=lt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function I_(e,t,n,r){e.min=lt(t.min,n.min,r),e.max=lt(t.max,n.max,r)}function xY(e,t,n,r){I_(e.x,t.x,n.x,r),I_(e.y,t.y,n.y,r)}function bY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wY={duration:.45,ease:[.4,0,.1,1]},R_=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),D_=R_("applewebkit/")&&!R_("chrome/")?Math.round:mt;function L_(e){e.min=D_(e.min),e.max=D_(e.max)}function SY(e){L_(e.x),L_(e.y)}function $L(e,t,n){return e==="position"||e==="preserve-aspect"&&!Fw(A_(t),A_(n),.2)}const kY=LL({attachResizeListener:(e,t)=>fo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sx={current:void 0},FL=LL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sx.current){const e=new kY({});e.mount(window),e.setOptions({layoutScroll:!0}),sx.current=e}return sx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EY={pan:{Feature:B7},drag:{Feature:F7,ProjectionNode:FL,MeasureLayout:NL}},CY=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function TY(e){const t=CY.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Vw(e,t,n=1){const[r,i]=TY(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return wL(s)?parseFloat(s):s}else return Nw(i)?Vw(i,t,n+1):i}function AY(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!Nw(o))return;const s=Vw(o,r);s&&i.set(s)});for(const i in t){const o=t[i];if(!Nw(o))continue;const s=Vw(o,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const PY=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),BL=e=>PY.has(e),_Y=e=>Object.keys(e).some(BL),$_=e=>e===dl||e===ue,F_=(e,t)=>parseFloat(e.split(", ")[t]),B_=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return F_(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?F_(o[1],e):0}},OY=new Set(["x","y","z"]),MY=Gf.filter(e=>!OY.has(e));function NY(e){const t=[];return MY.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Dc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:B_(4,13),y:B_(5,14)};Dc.translateX=Dc.x;Dc.translateY=Dc.y;const jY=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=Dc[c](r,o)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(a[c]),e[c]=Dc[c](l,o)}),e},IY=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(BL);let o=[],s=!1;const a=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=n[l],d=Du(u);const f=t[l];let h;if($m(f)){const p=f.length,m=f[0]===null?1:0;u=f[m],d=Du(u);for(let y=m;y<p&&f[y]!==null;y++)h?Zk(Du(f[y])===h):h=Du(f[y])}else h=Du(f);if(d!==h)if($_(d)&&$_(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&h===ue&&(t[l]=f.map(parseFloat))}else d!=null&&d.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?c.set(h.transform(u)):t[l]=d.transform(f):(s||(o=NY(e),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=jY(t,e,a);return o.length&&o.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),By&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function RY(e,t,n,r){return _Y(t)?IY(e,t,n,r):{target:t,transitionEnd:r}}const DY=(e,t,n,r)=>{const i=AY(e,t,r);return t=i.target,r=i.transitionEnd,RY(e,t,n,r)},Ww={current:null},zL={current:!1};function LY(){if(zL.current=!0,!!By)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ww.current=e.matches;e.addListener(t),t()}else Ww.current=!1}function $Y(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(Qn(o))e.addValue(i,o),Um(r)&&r.add(i);else if(Qn(s))e.addValue(i,Rc(o,{owner:e})),Um(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,Rc(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const z_=new WeakMap,UL=Object.keys(df),FY=UL.length,U_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],BY=Wk.length;class zY{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ve.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Uy(n),this.isVariantNode=T2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&Qn(f)&&(f.set(a[d],!1),Um(c)&&c.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,z_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zL.current||LY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ww.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z_.delete(this.current),this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ul.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ve.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let s,a;for(let l=0;l<FY;l++){const c=UL[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:h}=df[c];f&&(s=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),h&&(a=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&oc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:h})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U_.length;r++){const i=U_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=$Y(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<BY;r++){const i=Wk[r],o=this.props[i];(uf(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Rc(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Qk(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Qn(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new lE),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class VL extends zY{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let s=i7(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){n7(this,r,s);const a=DY(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function UY(e){return window.getComputedStyle(e)}class VY extends VL{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ul.has(n)){const r=rE(n);return r&&r.default||0}else{const r=UY(t),i=(O2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return OL(t,n)}build(t,n,r,i){qk(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Xk(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){D2(t,n,r,i)}}class WY extends VL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ul.has(n)){const r=rE(n);return r&&r.default||0}return n=L2.has(n)?n:Uk(n),t.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(t,n){return F2(t,n)}build(t,n,r,i){Yk(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){$2(t,n,r,i)}mount(t){this.isSVGTag=Jk(t.tagName),super.mount(t)}}const HY=(e,t)=>Kk(e)?new WY(t,{enableHardwareAcceleration:!1}):new VY(t,{enableHardwareAcceleration:!0}),KY={layout:{ProjectionNode:FL,MeasureLayout:NL}},qY={...x7,...FG,...EY,...KY},rt=Gq((e,t)=>TG(e,t,qY,HY));function WL(){const e=x.useRef(!1);return zk(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function GY(){const e=WL(),[t,n]=x.useState(0),r=x.useCallback(()=>{e.current&&n(t+1)},[t]);return[x.useCallback(()=>Ve.postRender(r),[r]),t]}class YY extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JY({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(t||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),x.createElement(YY,{isPresent:t,childRef:r,sizeRef:i},x.cloneElement(e,{ref:r}))}const ax=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=B2(XY),l=x.useId(),c=x.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return x.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),x.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=x.createElement(JY,{isPresent:n},e)),x.createElement(Fy.Provider,{value:c},e)};function XY(){return new Map}function QY(e){return x.useEffect(()=>()=>e(),[])}const ma=e=>e.key||"";function ZY(e,t){e.forEach(n=>{const r=ma(n);t.set(r,n)})}function eJ(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const tJ=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=x.useContext(Hk).forceRender||GY()[0],l=WL(),c=eJ(e);let u=c;const d=x.useRef(new Map).current,f=x.useRef(u),h=x.useRef(new Map).current,p=x.useRef(!0);if(zk(()=>{p.current=!1,ZY(c,h),f.current=u}),QY(()=>{p.current=!0,h.clear(),d.clear()}),p.current)return x.createElement(x.Fragment,null,u.map(b=>x.createElement(ax,{key:ma(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},b)));u=[...u];const m=f.current.map(ma),y=c.map(ma),v=m.length;for(let b=0;b<v;b++){const w=m[b];y.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const S=h.get(w);if(!S)return;const E=m.indexOf(w);let T=b;if(!T){const k=()=>{d.delete(w);const C=Array.from(h.keys()).filter(A=>!y.includes(A));if(C.forEach(A=>h.delete(A)),f.current=c.filter(A=>{const O=ma(A);return O===w||C.includes(O)}),!d.size){if(l.current===!1)return;a(),r&&r()}};T=x.createElement(ax,{key:ma(S),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:o,mode:s},S),d.set(w,T)}u.splice(E,0,T)}),u=u.map(b=>{const w=b.key;return d.has(w)?b:x.createElement(ax,{key:ma(b),isPresent:!0,presenceAffectsLayout:o,mode:s},b)}),x.createElement(x.Fragment,null,d.size?u:u.map(b=>x.cloneElement(b)))};var nJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Re=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:a,...l},c)=>x.createElement("svg",{ref:c,...nJ,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:`lucide lucide-${rJ(e)}`,...l},[...t.map(([u,d])=>x.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},iJ=Re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),oJ=Re("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),sJ=Re("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),aJ=Re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),lJ=Re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),cJ=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),uJ=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),dJ=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),fJ=Re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),hJ=Re("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]),pJ=Re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),mJ=Re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),gJ=Re("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),yJ=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),cE=Re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),vJ=Re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),xJ=Re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),bJ=Re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),wJ=Re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),uE=Re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),SJ=Re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),kJ=Re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),EJ=Re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),CJ=Re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),TJ=Re("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),AJ=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),PJ=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),HL=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function KL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=KL(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Be(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=KL(e))&&(r&&(r+=" "),r+=t);return r}function _J(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=qL(t))&&(r&&(r+=" "),r+=n);return r}function qL(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=qL(e[r]))&&(n&&(n+=" "),n+=t);return n}var dE="-";function OJ(e){var t=NJ(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(a){var l=a.split(dE);return l[0]===""&&l.length!==1&&l.shift(),GL(l,t)||MJ(a)}function s(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function GL(e,t){var s;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?GL(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(dE);return(s=t.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:s.classGroupId}}var V_=/^\[(.+)\]$/;function MJ(e){if(V_.test(e)){var t=V_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function NJ(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=IJ(Object.entries(e.classGroups),n);return i.forEach(function(o){var s=o[0],a=o[1];Hw(a,r,s,t)}),r}function Hw(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:W_(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(jJ(i)){Hw(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var a=s[0],l=s[1];Hw(l,W_(t,a),n,r)})})}function W_(e,t){var n=e;return t.split(dE).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function jJ(e){return e.isThemeGetter}function IJ(e,t){return t?e.map(function(n){var r=n[0],i=n[1],o=i.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):s});return[r,o]}):e}function RJ(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set:function(s,a){n.has(s)?n.set(s,a):i(s,a)}}}var YL="!";function DJ(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(s){for(var a=[],l=0,c=0,u,d=0;d<s.length;d++){var f=s[d];if(l===0){if(f===r&&(n||s.slice(d,d+i)===t)){a.push(s.slice(c,d)),c=d+i;continue}if(f==="/"){u=d;continue}}f==="["?l++:f==="]"&&l--}var h=a.length===0?s:s.substring(c),p=h.startsWith(YL),m=p?h.substring(1):h,y=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}}}function LJ(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function $J(e){return{cache:RJ(e.cacheSize),splitModifiers:DJ(e),...OJ(e)}}var FJ=/\s+/;function BJ(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(FJ).map(function(s){var a=n(s),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?u.substring(0,d):u),h=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:s};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:s};h=!1}var p=LJ(l).join(":"),m=c?p+YL:p;return{isTailwindClass:!0,modifierId:m,classGroupId:f,originalClassName:s,hasPostfixModifier:h}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var a=s.modifierId,l=s.classGroupId,c=s.hasPostfixModifier,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(function(d){return o.add(a+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function zJ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,s=a;function a(c){var u=t[0],d=t.slice(1),f=d.reduce(function(h,p){return p(h)},u());return r=$J(f),i=r.cache.get,o=r.cache.set,s=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=BJ(c,r);return o(c,d),d}return function(){return s(_J.apply(null,arguments))}}function qe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var JL=/^\[(?:([a-z-]+):)?(.+)\]$/i,UJ=/^\d+\/\d+$/,VJ=new Set(["px","full","screen"]),WJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KJ=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ni(e){return Ta(e)||VJ.has(e)||UJ.test(e)||Kw(e)}function Kw(e){return fl(e,"length",QJ)}function qJ(e){return fl(e,"size",XL)}function GJ(e){return fl(e,"position",XL)}function YJ(e){return fl(e,"url",ZJ)}function Jh(e){return fl(e,"number",Ta)}function Ta(e){return!Number.isNaN(Number(e))}function JJ(e){return e.endsWith("%")&&Ta(e.slice(0,-1))}function $u(e){return H_(e)||fl(e,"number",H_)}function Ce(e){return JL.test(e)}function Fu(){return!0}function Ko(e){return WJ.test(e)}function XJ(e){return fl(e,"",eX)}function fl(e,t,n){var r=JL.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function QJ(e){return HJ.test(e)}function XL(){return!1}function ZJ(e){return e.startsWith("url(")}function H_(e){return Number.isInteger(Number(e))}function eX(e){return KJ.test(e)}function tX(){var e=qe("colors"),t=qe("spacing"),n=qe("blur"),r=qe("brightness"),i=qe("borderColor"),o=qe("borderRadius"),s=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),c=qe("grayscale"),u=qe("hueRotate"),d=qe("invert"),f=qe("gap"),h=qe("gradientColorStops"),p=qe("gradientColorStopPositions"),m=qe("inset"),y=qe("margin"),v=qe("opacity"),b=qe("padding"),w=qe("saturate"),S=qe("scale"),E=qe("sepia"),T=qe("skew"),k=qe("space"),C=qe("translate"),A=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",Ce,t]},N=function(){return[Ce,t]},L=function(){return["",ni]},I=function(){return["auto",Ta,Ce]},J=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},$=function(){return["solid","dashed","dotted","double","none"]},K=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},P=function(){return["start","end","center","between","around","evenly","stretch"]},j=function(){return["","0",Ce]},q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[Ta,Jh]},U=function(){return[Ta,Ce]};return{cacheSize:500,theme:{colors:[Fu],spacing:[ni],blur:["none","",Ko,Ce],brightness:z(),borderColor:[e],borderRadius:["none","","full",Ko,Ce],borderSpacing:N(),borderWidth:L(),contrast:z(),grayscale:j(),hueRotate:U(),invert:j(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[JJ,Kw],inset:M(),margin:M(),opacity:z(),padding:N(),saturate:z(),scale:z(),sepia:j(),skew:U(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Ko]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(J(),[Ce])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$u]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",$u]}],"grid-cols":[{"grid-cols":[Fu]}],"col-start-end":[{col:["auto",{span:["full",$u]},Ce]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Fu]}],"row-start-end":[{row:["auto",{span:[$u]},Ce]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(P())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(P(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(P(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ce,t]}],"min-w":[{"min-w":["min","max","fit",Ce,ni]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ko]},Ko,Ce]}],h:[{h:[Ce,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ce,ni]}],"max-h":[{"max-h":[Ce,t,"min","max","fit"]}],"font-size":[{text:["base",Ko,Kw]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jh]}],"font-family":[{font:[Fu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Ta,Jh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ce,ni]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat($(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ni]}],"underline-offset":[{"underline-offset":["auto",Ce,ni]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(J(),[GJ])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat($(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat($())}],"outline-offset":[{"outline-offset":[Ce,ni]}],"outline-w":[{outline:[ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ko,XJ]}],"shadow-color":[{shadow:[Fu]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":K()}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ko,Ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$u,Ce]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ni,Jh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var nX=zJ(tX);function ln(...e){return nX(Be(e))}function K_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ky(...e){return t=>{let n=!1;const r=e.map(i=>{const o=K_(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():K_(e[i],null)}}}}function wn(...e){return x.useCallback(Ky(...e),e)}function hf(e){const t=iX(e),n=x.forwardRef((r,i)=>{const{children:o,...s}=r,a=x.Children.toArray(o),l=a.find(sX);if(l){const c=l.props.children,u=a.map(d=>d===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...s,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return g.jsx(t,{...s,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var rX=hf("Slot");function iX(e){const t=x.forwardRef((n,r)=>{const{children:i,...o}=n;if(x.isValidElement(i)){const s=lX(i),a=aX(o,i.props);return i.type!==x.Fragment&&(a.ref=r?Ky(r,s):s),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oX=Symbol("radix.slottable");function sX(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oX}function aX(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function lX(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const q_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,G_=Be,QL=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return G_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=q_(u)||q_(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[m,y]=p;return Array.isArray(y)?y.includes({...o,...a}[m]):{...o,...a}[m]===y})?[...c,d,f]:c},[]);return G_(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},cX=QL("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),tt=Te.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?rX:"button";return g.jsx(s,{className:ln(cX({variant:t,size:n,className:e})),ref:o,...i})});tt.displayName="Button";const uX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ru(()=>Promise.resolve().then(()=>au),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fE extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Y_ extends fE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class J_ extends fE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class X_ extends fE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qw||(qw={}));var dX=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class fX{constructor(t,{headers:n={},customFetch:r,region:i=qw.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=uX(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return dX(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s,signal:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:a}).catch(y=>{throw y.name==="AbortError"?y:new Y_(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new J_(f);if(!f.ok)throw new X_(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Y_(i)}:{data:null,error:i,response:i instanceof X_||i instanceof J_?i.context:void 0}}})}}var Wn={},hE={},qy={},Qf={},Gy={},Yy={},hX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Lc=hX();const pX=Lc.fetch,ZL=Lc.fetch.bind(Lc),e$=Lc.Headers,mX=Lc.Request,gX=Lc.Response,au=Object.freeze(Object.defineProperty({__proto__:null,Headers:e$,Request:mX,Response:gX,default:ZL,fetch:pX},Symbol.toStringTag,{value:"Module"})),yX=pH(au);var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});let vX=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Jy.default=vX;var t$=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yy,"__esModule",{value:!0});const xX=t$(yX),bX=t$(Jy);let wX=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xX.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l,c;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&y===""?(h=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new bX.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Yy.default=wX;var SX=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gy,"__esModule",{value:!0});const kX=SX(Yy);let EX=class extends kX.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Gy.default=EX;var CX=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qf,"__esModule",{value:!0});const TX=CX(Gy);let AX=class extends TX.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Qf.default=AX;var PX=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qy,"__esModule",{value:!0});const Bu=PX(Qf);let _X=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Bu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Bu.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Bu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Bu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Bu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};qy.default=_X;var n$=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hE,"__esModule",{value:!0});const OX=n$(qy),MX=n$(Qf);let NX=class r${constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new OX.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new r$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new MX.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};hE.default=NX;var lu=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const i$=lu(hE);Wn.PostgrestClient=i$.default;const o$=lu(qy);Wn.PostgrestQueryBuilder=o$.default;const s$=lu(Qf);Wn.PostgrestFilterBuilder=s$.default;const a$=lu(Gy);Wn.PostgrestTransformBuilder=a$.default;const l$=lu(Yy);Wn.PostgrestBuilder=l$.default;const c$=lu(Jy);Wn.PostgrestError=c$.default;var jX=Wn.default={PostgrestClient:i$.default,PostgrestQueryBuilder:o$.default,PostgrestFilterBuilder:s$.default,PostgrestTransformBuilder:a$.default,PostgrestBuilder:l$.default,PostgrestError:c$.default};const{PostgrestClient:IX,PostgrestQueryBuilder:_Ce,PostgrestFilterBuilder:OCe,PostgrestTransformBuilder:MCe,PostgrestBuilder:NCe,PostgrestError:jCe}=jX;class RX{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const DX="2.15.5",LX=`realtime-js/${DX}`,$X="1.0.0",Gw=1e4,FX=1e3,BX=100;var _d;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_d||(_d={}));var Ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ot||(Ot={}));var si;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(si||(si={}));var Yw;(function(e){e.websocket="websocket"})(Yw||(Yw={}));var ba;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ba||(ba={}));class zX{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+i));s=s+i;const l=r.decode(t.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class u${constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const Q_=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=UX(s,e,t,i),o),{})},UX=(e,t,n,r)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,s=n[e];return o&&!r.includes(o)?d$(o,s):Jw(s)},d$=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return KX(t,n)}switch(e){case ze.bool:return VX(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return WX(t);case ze.json:case ze.jsonb:return HX(t);case ze.timestamp:return qX(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Jw(t);default:return Jw(t)}},Jw=e=>e,VX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KX=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>d$(t,a))}return e},qX=e=>typeof e=="string"?e.replace(" ","T"):e,f$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class lx{constructor(t,n,r={},i=Gw){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Z_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Z_||(Z_={}));class Od{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Od.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Od.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Od.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const f=u.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),p=u.filter(y=>h.indexOf(y.presence_ref)<0),m=d.filter(y=>f.indexOf(y.presence_ref)<0);p.length>0&&(a[c]=p),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eO||(eO={}));var Md;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Md||(Md={}));var ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ro||(ro={}));class pE{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lx(this,si.join,this.params,this.timeout),this.rejoinTimer=new u$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(si.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Od(this),this.broadcastEndpointURL=f$(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ot.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Md.PRESENCE]&&this.bindings[Md.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(ro.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ro.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(ro.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,v=[];for(let b=0;b<y;b++){const w=m[b],{filter:{event:S,schema:E,table:T,filter:k}}=w,C=h&&h[b];if(C&&C.event===S&&C.schema===E&&C.table===T&&C.filter===k)v.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Ot.errored,t==null||t(ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ro.SUBSCRIBED);return}}).receive("error",h=>{this.state=Ot.errored,t==null||t(ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ot.joined&&t===Md.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(si.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new lx(this,si.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ot.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lx(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>BX){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=si;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var p,m,y;return((p=h.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=h.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var p,m,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const S=h.id,E=(p=h.filter)===null||p===void 0?void 0:p.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(b=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:m,table:y,commit_timestamp:v,type:b,errors:w}=p;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}h.callback(f,r)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&pE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(si.close,{},t)}_onError(t){this._on(si.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Q_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Q_(t.columns,t.old_record)),n}}const cx=()=>{},Xh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GX=[1e3,2e3,5e3,1e4],YX=1e4,JX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XX{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gw,this.transport=null,this.heartbeatIntervalMs=Xh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cx,this.ref=0,this.reconnectTimer=null,this.logger=cx,this.conn=null,this.sendBuffer=[],this.serializer=new zX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>ru(()=>Promise.resolve().then(()=>au),void 0).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yw.websocket}`,this.httpEndpoint=f$(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$X}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _d.connecting:return ba.Connecting;case _d.open:return ba.Open;case _d.closing:return ba.Closing;default:return ba.Closed}}isConnected(){return this.connectionState()===ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new pE(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(FX,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(si.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([JX],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:LX};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(si.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new u$(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,l,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Gw,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Xh.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:cx,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>GX[d-1]||YX,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class mE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QX extends mE{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xw extends mE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ZX=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const h$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ru(()=>Promise.resolve().then(()=>au),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},eQ=()=>ZX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ru(()=>Promise.resolve().then(()=>au),void 0)).Response:Response}),Qw=e=>{if(Array.isArray(e))return e.map(n=>Qw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Qw(r)}),t},tQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var hl=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const ux=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nQ=(e,t,n)=>hl(void 0,void 0,void 0,function*(){const r=yield eQ();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,s=(i==null?void 0:i.statusCode)||o+"";t(new QX(ux(i),o,s))}).catch(i=>{t(new Xw(ux(i),i))}):t(new Xw(ux(e),e))}),rQ=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(tQ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Zf(e,t,n,r,i,o){return hl(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,rQ(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>nQ(l,a,r))})})}function Wm(e,t,n,r){return hl(this,void 0,void 0,function*(){return Zf(e,"GET",t,n,r)})}function Pi(e,t,n,r,i){return hl(this,void 0,void 0,function*(){return Zf(e,"POST",t,r,i,n)})}function Zw(e,t,n,r,i){return hl(this,void 0,void 0,function*(){return Zf(e,"PUT",t,r,i,n)})}function iQ(e,t,n,r){return hl(this,void 0,void 0,function*(){return Zf(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function p$(e,t,n,r,i){return hl(this,void 0,void 0,function*(){return Zf(e,"DELETE",t,r,i,n)})}var oQ=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class sQ{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return oQ(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}var aQ=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class lQ{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new sQ(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return aQ(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}var zn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const cQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uQ{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=h$(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return zn(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},tO),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(t=="PUT"?Zw:Pi)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(kt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return zn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:tO.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Zw(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(kt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return zn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Pi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new mE("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}update(t,n,r){return zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return zn(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return zn(this,void 0,void 0,function*(){try{return{data:{path:(yield Pi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return zn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Pi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return zn(this,void 0,void 0,function*(){try{const i=yield Pi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>Wm(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new lQ(l,this.shouldThrowOnError)}info(t){return zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Wm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}exists(t){return zn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield iQ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r)&&r instanceof Xw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return zn(this,void 0,void 0,function*(){try{return{data:yield p$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}list(t,n,r){return zn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cQ),n),{prefix:t||""});return{data:yield Pi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}listV2(t,n){return zn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Pi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const dQ="2.12.2",fQ={"X-Client-Info":`storage-js/${dQ}`};var Ol=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class hQ{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},fQ),n),this.fetch=h$(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ol(this,void 0,void 0,function*(){try{return{data:yield Wm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ol(this,void 0,void 0,function*(){try{return{data:yield Wm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ol(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ol(this,void 0,void 0,function*(){try{return{data:yield Zw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ol(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ol(this,void 0,void 0,function*(){try{return{data:yield p$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}}class pQ extends hQ{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new uQ(this.url,this.headers,t,this.fetch)}}const mQ="2.58.0";let ad="";typeof Deno<"u"?ad="deno":typeof document<"u"?ad="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ad="react-native":ad="node";const gQ={"X-Client-Info":`supabase-js-${ad}/${mQ}`},yQ={headers:gQ},vQ={schema:"public"},xQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bQ={};var wQ=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const SQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZL:t=fetch,(...n)=>t(...n)},kQ=()=>typeof Headers>"u"?e$:Headers,EQ=(e,t,n)=>{const r=SQ(n),i=kQ();return(o,s)=>wQ(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var CQ=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function TQ(e){return e.endsWith("/")?e:e+"/"}function AQ(e,t){var n,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>CQ(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function PQ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TQ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const m$="2.72.0",zl=30*1e3,e1=3,dx=e1*zl,_Q="http://localhost:9999",OQ="supabase.auth.token",MQ={"X-Client-Info":`gotrue-js/${m$}`},t1="X-Supabase-Api-Version",g$={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jQ=10*60*1e3;class gE extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IQ extends gE{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function RQ(e){return ge(e)&&e.name==="AuthApiError"}class y$ extends gE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Js extends gE{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Jo extends Js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DQ(e){return ge(e)&&e.name==="AuthSessionMissingError"}class zu extends Js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qh extends Js{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zh extends Js{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LQ(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class nO extends Js{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class n1 extends Js{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function fx(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class rO extends Js{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class r1 extends Js{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iO=` 	
\r=`.split(""),$Q=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iO.length;t+=1)e[iO[t].charCodeAt(0)]=-2;for(let t=0;t<Hm.length;t+=1)e[Hm[t].charCodeAt(0)]=t;return e})();function oO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Hm[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Hm[r]),t.queuedBits-=6}}function v$(e,t,n){const r=$Q[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sO(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{zQ(s,r,n)};for(let s=0;s<e.length;s+=1)v$(e.charCodeAt(s),i,o);return t.join("")}function FQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BQ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}FQ(r,t)}}function zQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function UQ(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)v$(e.charCodeAt(i),n,r);return new Uint8Array(t)}function VQ(e){const t=[];return BQ(e,n=>t.push(n)),new Uint8Array(t)}function WQ(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>oO(i,n,r)),oO(null,n,r),t.join("")}function HQ(e){return Math.round(Date.now()/1e3)+e}function KQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cr=()=>typeof window<"u"&&typeof document<"u",aa={tested:!1,writable:!1},x$=()=>{if(!Cr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(aa.tested)return aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),aa.tested=!0,aa.writable=!0}catch{aa.tested=!0,aa.writable=!1}return aa.writable};function qQ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const b$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ru(()=>Promise.resolve().then(()=>au),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},GQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ul=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},la=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qo=async(e,t)=>{await e.removeItem(t)};class Xy{constructor(){this.promise=new Xy.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xy.promiseConstructor=Promise;function hx(e){const t=e.split(".");if(t.length!==3)throw new r1("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!NQ.test(t[r]))throw new r1("JWT not in base64url format");return{header:JSON.parse(sO(t[0])),payload:JSON.parse(sO(t[1])),signature:UQ(t[2]),raw:{header:t[0],payload:t[1]}}}async function YQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JQ(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function XQ(e){return("0"+e.toString(16)).substr(-2)}function QQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,XQ).join("")}async function ZQ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function eZ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ZQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ml(e,t,n=!1){const r=QQ();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ul(e,`${t}-code-verifier`,i);const o=await eZ(r);return[o,r===o?"plain":"s256"]}const tZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nZ(e){const t=e.headers.get(t1);if(!t||!t.match(tZ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nl(e){if(!oZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function px(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aO(e){return JSON.parse(JSON.stringify(e))}var sZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aZ=[502,503,504];async function lO(e){var t;if(!GQ(e))throw new n1(ga(e),0);if(aZ.includes(e.status))throw new n1(ga(e),e.status);let n;try{n=await e.json()}catch(o){throw new y$(ga(o),o)}let r;const i=nZ(e);if(i&&i.getTime()>=g$["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new rO(ga(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Jo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new rO(ga(n),e.status,n.weak_password.reasons);throw new IQ(ga(n),e.status||500,r)}const lZ=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function we(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[t1]||(o[t1]=g$["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await cZ(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function cZ(e,t,n,r,i,o){const s=lZ(t,r,i,o);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new n1(ga(l),0)}if(a.ok||await lO(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await lO(l)}}function Ti(e){var t;let n=null;hZ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=HQ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function cO(e){const t=Ti(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uZ(e){return{data:e,error:null}}function dZ(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=sZ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function fZ(e){return e}function hZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const mx=["global","local","others"];var pZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class mZ{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=b$(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=mx[0]){if(mx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mx.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:us})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=pZ(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dZ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:us})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:fZ});if(u.error)throw u.error;const d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ge(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Nl(t);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:us})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Nl(t);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:us})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Nl(t);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:us})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Nl(t.userId);try{const{data:n,error:r}=await we(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Nl(t.userId),Nl(t.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function uO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function gZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jl={debug:!!(globalThis&&x$()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class w$ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yZ extends w${}async function vZ(e,t,n){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),jl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw jl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function S$(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function xZ(e){return parseInt(e,16)}function bZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function wZ(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=S$(e.address),p=u?`${u}://${r}`:r,m=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${h}

${m}`;let v=`URI: ${d}
Version: ${f}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}gZ();const SZ={url:_Q,storageKey:OQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dO(e,t,n){return await n()}const Il={};class pf{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pf.nextInstanceID,pf.nextInstanceID+=1,this.instanceID>0&&Cr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},SZ),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mZ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=b$(i.fetch),this.lock=i.lock||dO,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Cr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vZ:this.lock=dO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:x$()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uO(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=uO(this.memoryStorage)),Cr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Il[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Il[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${m$}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=qQ(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Cr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),LQ(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new y$("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ti}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Ml(this.storage,this.storageKey)),o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:p},xform:Ti})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ti})}else throw new Qh("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:s,options:a}=t;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cO})}else if("phone"in t){const{phone:o,password:s,options:a}=t;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:cO})}else throw new Qh("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,s,a,l,c,u,d,f;let h,p;if("message"in t)h=t.message,p=t.signature;else{const{chain:m,wallet:y,statement:v,options:b}=t;let w;if(Cr())if(typeof y=="object")w=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=S$(E[0]);let k=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const A=await w.request({method:"eth_chainId"});k=xZ(A)}const C={domain:S.host,address:T,statement:v,uri:S.href,version:"1",chainId:k,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=wZ(C),p=await w.request({method:"personal_sign",params:[bZ(h),T]})}try{const{data:m,error:y}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ti});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new zu}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(ge(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var n,r,i,o,s,a,l,c,u,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let S;if(Cr())if(typeof v=="object")S=v;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),b?{statement:b}:null));let k;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")k=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)k=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)p=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=T}}try{const{data:y,error:v}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:WQ(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ti});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new zu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(ge(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ti});if(await qo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new zu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(ge(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=t,a=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ti}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,s;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ml(this.storage,this.storageKey));const{error:d}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Qh("You must provide either an email or phone number.")}catch(a){if(ge(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Ti});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await Ml(this.storage,this.storageKey)),await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:uZ})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Jo;const{error:i}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:s}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:s,error:a}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Qh("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<dx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await la(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=px()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:us}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jo}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:us})})}catch(n){if(ge(n))return DQ(n)&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Jo;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ml(this.storage,this.storageKey));const{data:c,error:u}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:us});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jo;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=hx(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:a}=n;if(a)throw a;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Jo;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Cr())throw new Zh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new nO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zh("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nO("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!s||!c)throw new Zh("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=zl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const p=f-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,u);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:f,refresh_token:s,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(RQ(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=KQ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ml(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Cr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await JQ(async i=>(i>0&&await YQ(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ti})),(i,o)=>{const s=200*Math.pow(2,i);return o&&fx(o)&&Date.now()+s-r<zl})}catch(r){if(this._debug(n,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Cr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await la(this.storage,this.storageKey);if(i&&this.userStorage){let s=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ul(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:px()}else if(i&&!i.user&&!i.user){const s=await la(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await qo(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,i)):i.user=px()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<dx;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${dx}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),fx(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xy;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new Jo;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ge(o)){const s={session:null,error:o};return fx(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=aO(i);await Ul(this.storage,this.storageKey,o)}else{const i=aO(n);await Ul(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qo(this.storage,this.storageKey),await qo(this.storage,this.storageKey+"-code-verifier"),await qo(this.storage,this.storageKey+"-user"),this.userStorage&&await qo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/zl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zl}ms, refresh threshold is ${e1} ticks`),i<=e1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof w$)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Ml(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await we(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await we(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=hx(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+jQ>i)return r;const{data:o,error:s}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:h,error:p}=await this.getSession();if(p||!h.session)return{data:null,error:p};r=h.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=hx(r);n!=null&&n.allowExpired||rZ(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:i,signature:s},error:null}}const u=iZ(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,VQ(`${a}.${l}`)))throw new r1("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}pf.nextInstanceID=0;const kZ=pf;class EZ extends kZ{constructor(t){super(t)}}var CZ=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class TZ{constructor(t,n,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=n;const a=PQ(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:vQ,realtime:bQ,auth:Object.assign(Object.assign({},xQ),{storageKey:l}),global:yQ},u=AQ(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=EQ(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new IX(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new pQ(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new fX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return CZ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EZ({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new XX(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AZ=(e,t,n)=>new TZ(e,t,n);function PZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}PZ()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const k$="https://zrvdtpxfmuijhionbaxr.supabase.co",E$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpydmR0cHhmbXVpamhpb25iYXhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzMzMwMTMsImV4cCI6MjA3NDkwOTAxM30.s2IUPoWZm_1D8qh4NIE28tmObWM6AdUsVvsLWAYff_g";console.log("Supabase URL:",k$);console.log("Anon key present:",!!E$);const Se=AZ(k$,E$,{auth:{persistSession:!0,detectSessionInUrl:!0,autoRefreshToken:!0}});window.supabase=Se;const C$=x.createContext(null),_Z=({children:e})=>{const[t,n]=x.useState(null);x.useEffect(()=>{Se.auth.getSession().then(({data:a})=>{var l;n(((l=a.session)==null?void 0:l.user)??null)});const{data:s}=Se.auth.onAuthStateChange((a,l)=>{n((l==null?void 0:l.user)??null)});return()=>s.subscription.unsubscribe()},[]);const o={user:t,login:async s=>{const{error:a}=await Se.auth.signInWithOtp({email:s});alert(a?a.message:"Check your email for the magic link!")},logout:async()=>{await Se.auth.signOut()}};return g.jsx(C$.Provider,{value:o,children:e})},Qy=()=>{const e=x.useContext(C$);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},T$=x.createContext({theme:"system",setTheme:()=>{}}),OZ=()=>x.useContext(T$),MZ=({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme"})=>{const[r,i]=x.useState(()=>localStorage.getItem(n)||t);x.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark");let a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";r==="system"?s.classList.add(a):s.classList.add(r)},[r]);const o={theme:r,setTheme:s=>{localStorage.setItem(n,s),i(s)}};return g.jsx(T$.Provider,{value:o,children:e})};function me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function cu(e,t=[]){let n=[];function r(o,s){const a=x.createContext(s),l=n.length;n=[...n,s];const c=d=>{var v;const{scope:f,children:h,...p}=d,m=((v=f==null?void 0:f[e])==null?void 0:v[l])||a,y=x.useMemo(()=>p,Object.values(p));return g.jsx(m.Provider,{value:y,children:h})};c.displayName=o+"Provider";function u(d,f){var m;const h=((m=f==null?void 0:f[e])==null?void 0:m[l])||a,p=x.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>x.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,NZ(i,...t)]}function NZ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var _o=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},jZ=BS[" useInsertionEffect ".trim().toString()]||_o;function yE({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,s]=IZ({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const u=x.useRef(e!==void 0);x.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=x.useCallback(u=>{var d;if(a){const f=RZ(u)?u(e):u;f!==e&&((d=s.current)==null||d.call(s,f))}else o(u)},[a,e,o,s]);return[l,c]}function IZ({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),o=x.useRef(t);return jZ(()=>{o.current=t},[t]),x.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function RZ(e){return typeof e=="function"}var DZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=DZ.reduce((e,t)=>{const n=hf(`Primitive.${t}`),r=x.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function vE(e,t){e&&nu.flushSync(()=>e.dispatchEvent(t))}function xE(e){const t=e+"CollectionProvider",[n,r]=cu(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:y,children:v}=m,b=Te.useRef(null),w=Te.useRef(new Map).current;return g.jsx(i,{scope:y,itemMap:w,collectionRef:b,children:v})};s.displayName=t;const a=e+"CollectionSlot",l=hf(a),c=Te.forwardRef((m,y)=>{const{scope:v,children:b}=m,w=o(a,v),S=wn(y,w.collectionRef);return g.jsx(l,{ref:S,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=hf(u),h=Te.forwardRef((m,y)=>{const{scope:v,children:b,...w}=m,S=Te.useRef(null),E=wn(y,S),T=o(u,v);return Te.useEffect(()=>(T.itemMap.set(S,{ref:S,...w}),()=>void T.itemMap.delete(S))),g.jsx(f,{[d]:"",ref:E,children:b})});h.displayName=u;function p(m){const y=o(e+"CollectionConsumer",m);return Te.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((T,k)=>w.indexOf(T.ref.current)-w.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:c,ItemSlot:h},p,r]}var LZ=x.createContext(void 0);function A$(e){const t=x.useContext(LZ);return e||t||"ltr"}function mr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $Z(e,t=globalThis==null?void 0:globalThis.document){const n=mr(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FZ="DismissableLayer",i1="dismissableLayer.update",BZ="dismissableLayer.pointerDownOutside",zZ="dismissableLayer.focusOutside",fO,P$=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bE=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,c=x.useContext(P$),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),p=wn(t,k=>d(k)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),b=u?m.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,E=VZ(k=>{const C=k.target,A=[...c.branches].some(O=>O.contains(C));!S||A||(i==null||i(k),s==null||s(k),k.defaultPrevented||a==null||a())},f),T=WZ(k=>{const C=k.target;[...c.branches].some(O=>O.contains(C))||(o==null||o(k),s==null||s(k),k.defaultPrevented||a==null||a())},f);return $Z(k=>{b===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(fO=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),hO(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=fO)}},[u,f,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),hO())},[u,c]),x.useEffect(()=>{const k=()=>h({});return document.addEventListener(i1,k),()=>document.removeEventListener(i1,k)},[]),g.jsx(gt.div,{...l,ref:p,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,T.onFocusCapture),onBlurCapture:me(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,E.onPointerDownCapture)})});bE.displayName=FZ;var UZ="DismissableLayerBranch",_$=x.forwardRef((e,t)=>{const n=x.useContext(P$),r=x.useRef(null),i=wn(t,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx(gt.div,{...e,ref:i})});_$.displayName=UZ;function VZ(e,t=globalThis==null?void 0:globalThis.document){const n=mr(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){O$(BZ,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function WZ(e,t=globalThis==null?void 0:globalThis.document){const n=mr(e),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&O$(zZ,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hO(){const e=new CustomEvent(i1);document.dispatchEvent(e)}function O$(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vE(i,o):i.dispatchEvent(o)}var HZ=bE,KZ=_$,gx=0;function qZ(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pO()),document.body.insertAdjacentElement("beforeend",e[1]??pO()),gx++,()=>{gx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gx--}},[])}function pO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yx="focusScope.autoFocusOnMount",vx="focusScope.autoFocusOnUnmount",mO={bubbles:!1,cancelable:!0},GZ="FocusScope",M$=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=x.useState(null),c=mr(i),u=mr(o),d=x.useRef(null),f=wn(t,m=>l(m)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(w){if(h.paused||!a)return;const S=w.target;a.contains(S)?d.current=S:Xo(d.current,{select:!0})},y=function(w){if(h.paused||!a)return;const S=w.relatedTarget;S!==null&&(a.contains(S)||Xo(d.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Xo(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),b.disconnect()}}},[r,a,h.paused]),x.useEffect(()=>{if(a){yO.add(h);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(yx,mO);a.addEventListener(yx,c),a.dispatchEvent(v),v.defaultPrevented||(YZ(eee(N$(a)),{select:!0}),document.activeElement===m&&Xo(a))}return()=>{a.removeEventListener(yx,c),setTimeout(()=>{const v=new CustomEvent(vx,mO);a.addEventListener(vx,u),a.dispatchEvent(v),v.defaultPrevented||Xo(m??document.body,{select:!0}),a.removeEventListener(vx,u),yO.remove(h)},0)}}},[a,c,u,h]);const p=x.useCallback(m=>{if(!n&&!r||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const b=m.currentTarget,[w,S]=JZ(b);w&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&Xo(w,{select:!0})):m.shiftKey&&v===w&&(m.preventDefault(),n&&Xo(S,{select:!0})):v===b&&m.preventDefault()}},[n,r,h.paused]);return g.jsx(gt.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});M$.displayName=GZ;function YZ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Xo(r,{select:t}),document.activeElement!==n)return}function JZ(e){const t=N$(e),n=gO(t,e),r=gO(t.reverse(),e);return[n,r]}function N$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gO(e,t){for(const n of e)if(!XZ(n,{upTo:t}))return n}function XZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QZ(e){return e instanceof HTMLInputElement&&"select"in e}function Xo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&QZ(e)&&t&&e.select()}}var yO=ZZ();function ZZ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=vO(e,t),e.unshift(t)},remove(t){var n;e=vO(e,t),(n=e[0])==null||n.resume()}}}function vO(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eee(e){return e.filter(t=>t.tagName!=="A")}var tee=BS[" useId ".trim().toString()]||(()=>{}),nee=0;function o1(e){const[t,n]=x.useState(tee());return _o(()=>{e||n(r=>r??String(nee++))},[e]),e||(t?`radix-${t}`:"")}const ree=["top","right","bottom","left"],Fs=Math.min,or=Math.max,Km=Math.round,ep=Math.floor,Fi=e=>({x:e,y:e}),iee={left:"right",right:"left",bottom:"top",top:"bottom"},oee={start:"end",end:"start"};function s1(e,t,n){return or(e,Fs(t,n))}function Oo(e,t){return typeof e=="function"?e(t):e}function Mo(e){return e.split("-")[0]}function uu(e){return e.split("-")[1]}function wE(e){return e==="x"?"y":"x"}function SE(e){return e==="y"?"height":"width"}const see=new Set(["top","bottom"]);function Ii(e){return see.has(Mo(e))?"y":"x"}function kE(e){return wE(Ii(e))}function aee(e,t,n){n===void 0&&(n=!1);const r=uu(e),i=kE(e),o=SE(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=qm(s)),[s,qm(s)]}function lee(e){const t=qm(e);return[a1(e),t,a1(t)]}function a1(e){return e.replace(/start|end/g,t=>oee[t])}const xO=["left","right"],bO=["right","left"],cee=["top","bottom"],uee=["bottom","top"];function dee(e,t,n){switch(e){case"top":case"bottom":return n?t?bO:xO:t?xO:bO;case"left":case"right":return t?cee:uee;default:return[]}}function fee(e,t,n,r){const i=uu(e);let o=dee(Mo(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(a1)))),o}function qm(e){return e.replace(/left|right|bottom|top/g,t=>iee[t])}function hee(e){return{top:0,right:0,bottom:0,left:0,...e}}function j$(e){return typeof e!="number"?hee(e):{top:e,right:e,bottom:e,left:e}}function Gm(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function wO(e,t,n){let{reference:r,floating:i}=e;const o=Ii(t),s=kE(t),a=SE(s),l=Mo(t),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(uu(t)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const pee=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=wO(c,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:b,y:w,data:S,reset:E}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=b??u,d=w??d,h={...h,[y]:{...h[y],...S}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:u,y:d}=wO(c,f,l)),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function mf(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Oo(t,e),p=j$(h),y=a[f?d==="floating"?"reference":"floating":d],v=Gm(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Gm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(v.top-E.top+p.top)/S.y,bottom:(E.bottom-v.bottom+p.bottom)/S.y,left:(v.left-E.left+p.left)/S.x,right:(E.right-v.right+p.right)/S.x}}const mee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Oo(e,t)||{};if(c==null)return{};const d=j$(u),f={x:n,y:r},h=kE(i),p=SE(h),m=await s.getDimensions(c),y=h==="y",v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=o.reference[p]+o.reference[h]-f[h]-o.floating[p],E=f[h]-o.reference[h],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let k=T?T[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(T)))&&(k=a.floating[w]||o.floating[p]);const C=S/2-E/2,A=k/2-m[p]/2-1,O=Fs(d[v],A),M=Fs(d[b],A),N=O,L=k-m[p]-M,I=k/2-m[p]/2+C,J=s1(N,I,L),$=!l.arrow&&uu(i)!=null&&I!==J&&o.reference[p]/2-(I<N?O:M)-m[p]/2<0,K=$?I<N?I-N:I-L:0;return{[h]:f[h]+K,data:{[h]:J,centerOffset:I-J-K,...$&&{alignmentOffset:K}},reset:$}}}),gee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=Oo(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Mo(i),b=Ii(a),w=Mo(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(w||!m?[qm(a)]:lee(a)),T=p!=="none";!f&&T&&E.push(...fee(a,m,p,S));const k=[a,...E],C=await mf(t,y),A=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&A.push(C[v]),d){const I=aee(i,s,S);A.push(C[I[0]],C[I[1]])}if(O=[...O,{placement:i,overflows:A}],!A.every(I=>I<=0)){var M,N;const I=(((M=o.flip)==null?void 0:M.index)||0)+1,J=k[I];if(J&&(!(d==="alignment"?b!==Ii(J):!1)||O.every(P=>Ii(P.placement)===b?P.overflows[0]>0:!0)))return{data:{index:I,overflows:O},reset:{placement:J}};let $=(N=O.filter(K=>K.overflows[0]<=0).sort((K,P)=>K.overflows[1]-P.overflows[1])[0])==null?void 0:N.placement;if(!$)switch(h){case"bestFit":{var L;const K=(L=O.filter(P=>{if(T){const j=Ii(P.placement);return j===b||j==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(j=>j>0).reduce((j,q)=>j+q,0)]).sort((P,j)=>P[1]-j[1])[0])==null?void 0:L[0];K&&($=K);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function SO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kO(e){return ree.some(t=>e[t]>=0)}const yee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Oo(e,t);switch(r){case"referenceHidden":{const o=await mf(t,{...i,elementContext:"reference"}),s=SO(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:kO(s)}}}case"escaped":{const o=await mf(t,{...i,altBoundary:!0}),s=SO(o,n.floating);return{data:{escapedOffsets:s,escaped:kO(s)}}}default:return{}}}}},I$=new Set(["left","top"]);async function vee(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Mo(n),a=uu(n),l=Ii(n)==="y",c=I$.has(s)?-1:1,u=o&&l?-1:1,d=Oo(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const xee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await vee(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},bee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...l}=Oo(e,t),c={x:n,y:r},u=await mf(t,l),d=Ii(Mo(i)),f=wE(d);let h=c[f],p=c[d];if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=h+u[y],w=h-u[v];h=s1(b,h,w)}if(s){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=p+u[y],w=p-u[v];p=s1(b,p,w)}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:s}}}}}},wee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Oo(e,t),u={x:n,y:r},d=Ii(i),f=wE(d);let h=u[f],p=u[d];const m=Oo(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",S=o.reference[f]-o.floating[w]+y.mainAxis,E=o.reference[f]+o.reference[w]-y.mainAxis;h<S?h=S:h>E&&(h=E)}if(c){var v,b;const w=f==="y"?"width":"height",S=I$.has(Mo(i)),E=o.reference[d]-o.floating[w]+(S&&((v=s.offset)==null?void 0:v[d])||0)+(S?0:y.crossAxis),T=o.reference[d]+o.reference[w]+(S?0:((b=s.offset)==null?void 0:b[d])||0)-(S?y.crossAxis:0);p<E?p=E:p>T&&(p=T)}return{[f]:h,[d]:p}}}},See=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...c}=Oo(e,t),u=await mf(t,c),d=Mo(i),f=uu(i),h=Ii(i)==="y",{width:p,height:m}=o.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,y=f==="end"?"top":"bottom");const b=m-u.top-u.bottom,w=p-u.left-u.right,S=Fs(m-u[y],b),E=Fs(p-u[v],w),T=!t.middlewareData.shift;let k=S,C=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),T&&!f){const O=or(u.left,0),M=or(u.right,0),N=or(u.top,0),L=or(u.bottom,0);h?C=p-2*(O!==0||M!==0?O+M:or(u.left,u.right)):k=m-2*(N!==0||L!==0?N+L:or(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:k});const A=await s.getDimensions(a.floating);return p!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function Zy(){return typeof window<"u"}function du(e){return R$(e)?(e.nodeName||"").toLowerCase():"#document"}function dr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ki(e){var t;return(t=(R$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function R$(e){return Zy()?e instanceof Node||e instanceof dr(e).Node:!1}function yi(e){return Zy()?e instanceof Element||e instanceof dr(e).Element:!1}function zi(e){return Zy()?e instanceof HTMLElement||e instanceof dr(e).HTMLElement:!1}function EO(e){return!Zy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dr(e).ShadowRoot}const kee=new Set(["inline","contents"]);function eh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=vi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!kee.has(i)}const Eee=new Set(["table","td","th"]);function Cee(e){return Eee.has(du(e))}const Tee=[":popover-open",":modal"];function ev(e){return Tee.some(t=>{try{return e.matches(t)}catch{return!1}})}const Aee=["transform","translate","scale","rotate","perspective"],Pee=["transform","translate","scale","rotate","perspective","filter"],_ee=["paint","layout","strict","content"];function EE(e){const t=CE(),n=yi(e)?vi(e):e;return Aee.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pee.some(r=>(n.willChange||"").includes(r))||_ee.some(r=>(n.contain||"").includes(r))}function Oee(e){let t=Bs(e);for(;zi(t)&&!$c(t);){if(EE(t))return t;if(ev(t))return null;t=Bs(t)}return null}function CE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mee=new Set(["html","body","#document"]);function $c(e){return Mee.has(du(e))}function vi(e){return dr(e).getComputedStyle(e)}function tv(e){return yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bs(e){if(du(e)==="html")return e;const t=e.assignedSlot||e.parentNode||EO(e)&&e.host||Ki(e);return EO(t)?t.host:t}function D$(e){const t=Bs(e);return $c(t)?e.ownerDocument?e.ownerDocument.body:e.body:zi(t)&&eh(t)?t:D$(t)}function gf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=D$(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=dr(i);if(o){const a=l1(s);return t.concat(s,s.visualViewport||[],eh(i)?i:[],a&&n?gf(a):[])}return t.concat(i,gf(i,[],n))}function l1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L$(e){const t=vi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=zi(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Km(n)!==o||Km(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function TE(e){return yi(e)?e:e.contextElement}function bc(e){const t=TE(e);if(!zi(t))return Fi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=L$(t);let s=(o?Km(n.width):n.width)/r,a=(o?Km(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Nee=Fi(0);function $$(e){const t=dr(e);return!CE()||!t.visualViewport?Nee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dr(e)?!1:t}function Xa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=TE(e);let s=Fi(1);t&&(r?yi(r)&&(s=bc(r)):s=bc(e));const a=jee(o,n,r)?$$(o):Fi(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=dr(o),h=r&&yi(r)?dr(r):r;let p=f,m=l1(p);for(;m&&r&&h!==p;){const y=bc(m),v=m.getBoundingClientRect(),b=vi(m),w=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*y.x,S=v.top+(m.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=S,p=dr(m),m=l1(p)}}return Gm({width:u,height:d,x:l,y:c})}function nv(e,t){const n=tv(e).scrollLeft;return t?t.left+n:Xa(Ki(e)).left+n}function F$(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-nv(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Iee(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Ki(r),a=t?ev(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Fi(1);const u=Fi(0),d=zi(r);if((d||!d&&!o)&&((du(r)!=="body"||eh(s))&&(l=tv(r)),zi(r))){const h=Xa(r);c=bc(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=s&&!d&&!o?F$(s,l):Fi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Ree(e){return Array.from(e.getClientRects())}function Dee(e){const t=Ki(e),n=tv(e),r=e.ownerDocument.body,i=or(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=or(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+nv(e);const a=-n.scrollTop;return vi(r).direction==="rtl"&&(s+=or(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const CO=25;function Lee(e,t){const n=dr(e),r=Ki(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=CE();(!u||u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=nv(r);if(c<=0){const u=r.ownerDocument,d=u.body,f=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=CO&&(o-=p)}else c<=CO&&(o+=c);return{width:o,height:s,x:a,y:l}}const $ee=new Set(["absolute","fixed"]);function Fee(e,t){const n=Xa(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=zi(e)?bc(e):Fi(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function TO(e,t,n){let r;if(t==="viewport")r=Lee(e,n);else if(t==="document")r=Dee(Ki(e));else if(yi(t))r=Fee(t,n);else{const i=$$(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Gm(r)}function B$(e,t){const n=Bs(e);return n===t||!yi(n)||$c(n)?!1:vi(n).position==="fixed"||B$(n,t)}function Bee(e,t){const n=t.get(e);if(n)return n;let r=gf(e,[],!1).filter(a=>yi(a)&&du(a)!=="body"),i=null;const o=vi(e).position==="fixed";let s=o?Bs(e):e;for(;yi(s)&&!$c(s);){const a=vi(s),l=EE(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&$ee.has(i.position)||eh(s)&&!l&&B$(e,s))?r=r.filter(u=>u!==s):i=a,s=Bs(s)}return t.set(e,r),r}function zee(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?ev(t)?[]:Bee(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=TO(t,u,i);return c.top=or(d.top,c.top),c.right=Fs(d.right,c.right),c.bottom=Fs(d.bottom,c.bottom),c.left=or(d.left,c.left),c},TO(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Uee(e){const{width:t,height:n}=L$(e);return{width:t,height:n}}function Vee(e,t,n){const r=zi(t),i=Ki(t),o=n==="fixed",s=Xa(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Fi(0);function c(){l.x=nv(i)}if(r||!r&&!o)if((du(t)!=="body"||eh(i))&&(a=tv(t)),r){const h=Xa(t,!0,o,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?F$(i,a):Fi(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function xx(e){return vi(e).position==="static"}function AO(e,t){if(!zi(e)||vi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ki(e)===n&&(n=n.ownerDocument.body),n}function z$(e,t){const n=dr(e);if(ev(e))return n;if(!zi(e)){let i=Bs(e);for(;i&&!$c(i);){if(yi(i)&&!xx(i))return i;i=Bs(i)}return n}let r=AO(e,t);for(;r&&Cee(r)&&xx(r);)r=AO(r,t);return r&&$c(r)&&xx(r)&&!EE(r)?n:r||Oee(e)||n}const Wee=async function(e){const t=this.getOffsetParent||z$,n=this.getDimensions,r=await n(e.floating);return{reference:Vee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Hee(e){return vi(e).direction==="rtl"}const Kee={convertOffsetParentRelativeRectToViewportRelativeRect:Iee,getDocumentElement:Ki,getClippingRect:zee,getOffsetParent:z$,getElementRects:Wee,getClientRects:Ree,getDimensions:Uee,getScale:bc,isElement:yi,isRTL:Hee};function U$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qee(e,t){let n=null,r;const i=Ki(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||t(),!f||!h)return;const p=ep(d),m=ep(i.clientWidth-(u+f)),y=ep(i.clientHeight-(d+h)),v=ep(u),w={rootMargin:-p+"px "+-m+"px "+-y+"px "+-v+"px",threshold:or(0,Fs(1,l))||1};let S=!0;function E(T){const k=T[0].intersectionRatio;if(k!==l){if(!S)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!U$(c,e.getBoundingClientRect())&&s(),S=!1}try{n=new IntersectionObserver(E,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return s(!0),o}function Gee(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=TE(e),u=i||o?[...c?gf(c):[],...gf(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&a?qee(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let p,m=l?Xa(e):null;l&&y();function y(){const v=Xa(e);m&&!U$(m,v)&&n(),m=v,p=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const Yee=xee,Jee=bee,Xee=gee,Qee=See,Zee=yee,PO=mee,ete=wee,tte=(e,t,n)=>{const r=new Map,i={platform:Kee,...n},o={...i.platform,_c:r};return pee(e,t,{...i,platform:o})};var nte=typeof document<"u",rte=function(){},Zp=nte?x.useLayoutEffect:rte;function Ym(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ym(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Ym(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function V$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _O(e,t){const n=V$(e);return Math.round(t*n)/n}function bx(e){const t=x.useRef(e);return Zp(()=>{t.current=e}),t}function ite(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=x.useState(r);Ym(f,r)||h(r);const[p,m]=x.useState(null),[y,v]=x.useState(null),b=x.useCallback(P=>{P!==T.current&&(T.current=P,m(P))},[]),w=x.useCallback(P=>{P!==k.current&&(k.current=P,v(P))},[]),S=o||p,E=s||y,T=x.useRef(null),k=x.useRef(null),C=x.useRef(u),A=l!=null,O=bx(l),M=bx(i),N=bx(c),L=x.useCallback(()=>{if(!T.current||!k.current)return;const P={placement:t,strategy:n,middleware:f};M.current&&(P.platform=M.current),tte(T.current,k.current,P).then(j=>{const q={...j,isPositioned:N.current!==!1};I.current&&!Ym(C.current,q)&&(C.current=q,nu.flushSync(()=>{d(q)}))})},[f,t,n,M,N]);Zp(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[c]);const I=x.useRef(!1);Zp(()=>(I.current=!0,()=>{I.current=!1}),[]),Zp(()=>{if(S&&(T.current=S),E&&(k.current=E),S&&E){if(O.current)return O.current(S,E,L);L()}},[S,E,L,O,A]);const J=x.useMemo(()=>({reference:T,floating:k,setReference:b,setFloating:w}),[b,w]),$=x.useMemo(()=>({reference:S,floating:E}),[S,E]),K=x.useMemo(()=>{const P={position:n,left:0,top:0};if(!$.floating)return P;const j=_O($.floating,u.x),q=_O($.floating,u.y);return a?{...P,transform:"translate("+j+"px, "+q+"px)",...V$($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:q}},[n,a,$.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:J,elements:$,floatingStyles:K}),[u,L,J,$,K])}const ote=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PO({element:r.current,padding:i}).fn(n):{}:r?PO({element:r,padding:i}).fn(n):{}}}},ste=(e,t)=>({...Yee(e),options:[e,t]}),ate=(e,t)=>({...Jee(e),options:[e,t]}),lte=(e,t)=>({...ete(e),options:[e,t]}),cte=(e,t)=>({...Xee(e),options:[e,t]}),ute=(e,t)=>({...Qee(e),options:[e,t]}),dte=(e,t)=>({...Zee(e),options:[e,t]}),fte=(e,t)=>({...ote(e),options:[e,t]});var hte="Arrow",W$=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return g.jsx(gt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});W$.displayName=hte;var pte=W$;function mte(e){const[t,n]=x.useState(void 0);return _o(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var AE="Popper",[H$,K$]=cu(AE),[gte,q$]=H$(AE),G$=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return g.jsx(gte,{scope:t,anchor:r,onAnchorChange:i,children:n})};G$.displayName=AE;var Y$="PopperAnchor",J$=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=q$(Y$,n),s=x.useRef(null),a=wn(t,s),l=x.useRef(null);return x.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||s.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:g.jsx(gt.div,{...i,ref:a})});J$.displayName=Y$;var PE="PopperContent",[yte,vte]=H$(PE),X$=x.forwardRef((e,t)=>{var We,Dt,Y,oe,de,B;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...m}=e,y=q$(PE,n),[v,b]=x.useState(null),w=wn(t,Me=>b(Me)),[S,E]=x.useState(null),T=mte(S),k=(T==null?void 0:T.width)??0,C=(T==null?void 0:T.height)??0,A=r+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(c)?c:[c],N=M.length>0,L={padding:O,boundary:M.filter(bte),altBoundary:N},{refs:I,floatingStyles:J,placement:$,isPositioned:K,middlewareData:P}=ite({strategy:"fixed",placement:A,whileElementsMounted:(...Me)=>Gee(...Me,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[ste({mainAxis:i+C,alignmentAxis:s}),l&&ate({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?lte():void 0,...L}),l&&cte({...L}),ute({...L,apply:({elements:Me,rects:R,availableWidth:G,availableHeight:se})=>{const{width:ee,height:ye}=R.reference,Le=Me.floating.style;Le.setProperty("--radix-popper-available-width",`${G}px`),Le.setProperty("--radix-popper-available-height",`${se}px`),Le.setProperty("--radix-popper-anchor-width",`${ee}px`),Le.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),S&&fte({element:S,padding:a}),wte({arrowWidth:k,arrowHeight:C}),f&&dte({strategy:"referenceHidden",...L})]}),[j,q]=eF($),z=mr(p);_o(()=>{K&&(z==null||z())},[K,z]);const U=(We=P.arrow)==null?void 0:We.x,ne=(Dt=P.arrow)==null?void 0:Dt.y,Oe=((Y=P.arrow)==null?void 0:Y.centerOffset)!==0,[le,Ae]=x.useState();return _o(()=>{v&&Ae(window.getComputedStyle(v).zIndex)},[v]),g.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(oe=P.transformOrigin)==null?void 0:oe.x,(de=P.transformOrigin)==null?void 0:de.y].join(" "),...((B=P.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(yte,{scope:n,placedSide:j,onArrowChange:E,arrowX:U,arrowY:ne,shouldHideArrow:Oe,children:g.jsx(gt.div,{"data-side":j,"data-align":q,...m,ref:w,style:{...m.style,animation:K?void 0:"none"}})})})});X$.displayName=PE;var Q$="PopperArrow",xte={top:"bottom",right:"left",bottom:"top",left:"right"},Z$=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=vte(Q$,r),s=xte[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(pte,{...i,ref:n,style:{...i.style,display:"block"}})})});Z$.displayName=Q$;function bte(e){return e!==null}var wte=e=>({name:"transformOrigin",options:e,fn(t){var y,v,b;const{placement:n,rects:r,middlewareData:i}=t,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,u]=eF(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let p="",m="";return c==="bottom"?(p=s?d:`${f}px`,m=`${-l}px`):c==="top"?(p=s?d:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=s?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=s?d:`${h}px`),{data:{x:p,y:m}}}});function eF(e){const[t,n="center"]=e.split("-");return[t,n]}var Ste=G$,kte=J$,Ete=X$,Cte=Z$,Tte="Portal",_E=x.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,o]=x.useState(!1);_o(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?e2.createPortal(g.jsx(gt.div,{...r,ref:t}),s):null});_E.displayName=Tte;function Ate(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var fu=e=>{const{present:t,children:n}=e,r=Pte(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=wn(r.ref,_te(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};fu.displayName="Presence";function Pte(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),o=x.useRef("none"),s=e?"mounted":"unmounted",[a,l]=Ate(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=tp(r.current);o.current=a==="mounted"?c:"none"},[a]),_o(()=>{const c=r.current,u=i.current;if(u!==e){const f=o.current,h=tp(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),_o(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const m=tp(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&m&&(l("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=h=>{h.target===t&&(o.current=tp(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function tp(e){return(e==null?void 0:e.animationName)||"none"}function _te(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wx="rovingFocusGroup.onEntryFocus",Ote={bubbles:!1,cancelable:!0},th="RovingFocusGroup",[c1,tF,Mte]=xE(th),[Nte,nF]=cu(th,[Mte]),[jte,Ite]=Nte(th),rF=x.forwardRef((e,t)=>g.jsx(c1.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(c1.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(Rte,{...e,ref:t})})}));rF.displayName=th;var Rte=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=x.useRef(null),h=wn(t,f),p=A$(o),[m,y]=yE({prop:s,defaultProp:a??null,onChange:l,caller:th}),[v,b]=x.useState(!1),w=mr(c),S=tF(n),E=x.useRef(!1),[T,k]=x.useState(0);return x.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(wx,w),()=>C.removeEventListener(wx,w)},[w]),g.jsx(jte,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:x.useCallback(C=>y(C),[y]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>k(C=>C-1),[]),children:g.jsx(gt.div,{tabIndex:v||T===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{E.current=!0}),onFocus:me(e.onFocus,C=>{const A=!E.current;if(C.target===C.currentTarget&&A&&!v){const O=new CustomEvent(wx,Ote);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const M=S().filter($=>$.focusable),N=M.find($=>$.active),L=M.find($=>$.id===m),J=[N,L,...M].filter(Boolean).map($=>$.ref.current);sF(J,u)}}E.current=!1}),onBlur:me(e.onBlur,()=>b(!1))})})}),iF="RovingFocusGroupItem",oF=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=e,l=o1(),c=o||l,u=Ite(iF,n),d=u.currentTabStopId===c,f=tF(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:m}=u;return x.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),g.jsx(c1.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:g.jsx(gt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:me(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:me(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:me(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=$te(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=u.loop?Fte(w,S+1):w.slice(S+1)}setTimeout(()=>sF(w))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:m!=null}):s})})});oF.displayName=iF;var Dte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lte(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $te(e,t,n){const r=Lte(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Dte[r]}function sF(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Fte(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Bte=rF,zte=oF,Ute=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Rl=new WeakMap,np=new WeakMap,rp={},Sx=0,aF=function(e){return e&&(e.host||aF(e.parentNode))},Vte=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=aF(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Wte=function(e,t,n,r){var i=Vte(t,Array.isArray(e)?e:[e]);rp[n]||(rp[n]=new WeakMap);var o=rp[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",m=(Rl.get(f)||0)+1,y=(o.get(f)||0)+1;Rl.set(f,m),o.set(f,y),s.push(f),m===1&&p&&np.set(f,!0),y===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),a.clear(),Sx++,function(){s.forEach(function(d){var f=Rl.get(d)-1,h=o.get(d)-1;Rl.set(d,f),o.set(d,h),f||(np.has(d)||d.removeAttribute(r),np.delete(d)),h||d.removeAttribute(n)}),Sx--,Sx||(Rl=new WeakMap,Rl=new WeakMap,np=new WeakMap,rp={})}},Hte=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||Ute(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Wte(r,i,n,"aria-hidden")):function(){return null}},ji=function(){return ji=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ji.apply(this,arguments)};function lF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Kte(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var em="right-scroll-bar-position",tm="width-before-scroll-bar",qte="with-scroll-bars-hidden",Gte="--removed-body-scroll-bar-size";function kx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Yte(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Jte=typeof window<"u"?x.useLayoutEffect:x.useEffect,OO=new WeakMap;function Xte(e,t){var n=Yte(t||null,function(r){return e.forEach(function(i){return kx(i,r)})});return Jte(function(){var r=OO.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||kx(a,null)}),o.forEach(function(a){i.has(a)||kx(a,s)})}OO.set(n,e)},[e]),n}function Qte(e){return e}function Zte(e,t){t===void 0&&(t=Qte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function ene(e){e===void 0&&(e={});var t=Zte(null);return t.options=ji({async:!0,ssr:!1},e),t}var cF=function(e){var t=e.sideCar,n=lF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,ji({},n))};cF.isSideCarExport=!0;function tne(e,t){return e.useMedium(t),cF}var uF=ene(),Ex=function(){},rv=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:Ex,onWheelCapture:Ex,onTouchMoveCapture:Ex}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noRelative,p=e.noIsolation,m=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,S=lF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,T=Xte([n,t]),k=ji(ji({},S),i);return x.createElement(x.Fragment,null,u&&x.createElement(E,{sideCar:uF,removeScrollBar:c,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:w}),s?x.cloneElement(x.Children.only(a),ji(ji({},k),{ref:T})):x.createElement(b,ji({},k,{className:l,ref:T}),a))});rv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rv.classNames={fullWidth:tm,zeroRight:em};var MO,nne=function(){if(MO)return MO;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nne();return t&&e.setAttribute("nonce",t),e}function ine(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function one(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rne())&&(ine(t,n),one(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ane=function(){var e=sne();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},dF=function(){var e=ane(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},lne={left:0,top:0,right:0,gap:0},Cx=function(e){return parseInt(e||"",10)||0},cne=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Cx(n),Cx(r),Cx(i)]},une=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lne;var t=cne(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dne=dF(),wc="data-scroll-locked",fne=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(em,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(em," .").concat(em,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tm," .").concat(tm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wc,`] {
    `).concat(Gte,": ").concat(a,`px;
  }
`)},NO=function(){var e=parseInt(document.body.getAttribute(wc)||"0",10);return isFinite(e)?e:0},hne=function(){x.useEffect(function(){return document.body.setAttribute(wc,(NO()+1).toString()),function(){var e=NO()-1;e<=0?document.body.removeAttribute(wc):document.body.setAttribute(wc,e.toString())}},[])},pne=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;hne();var o=x.useMemo(function(){return une(i)},[i]);return x.createElement(dne,{styles:fne(o,!t,i,n?"":"!important")})},u1=!1;if(typeof window<"u")try{var ip=Object.defineProperty({},"passive",{get:function(){return u1=!0,!0}});window.addEventListener("test",ip,ip),window.removeEventListener("test",ip,ip)}catch{u1=!1}var Dl=u1?{passive:!1}:!1,mne=function(e){return e.tagName==="TEXTAREA"},fF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mne(e)&&n[t]==="visible")},gne=function(e){return fF(e,"overflowY")},yne=function(e){return fF(e,"overflowX")},jO=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=hF(e,r);if(i){var o=pF(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vne=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xne=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},hF=function(e,t){return e==="v"?gne(t):yne(t)},pF=function(e,t){return e==="v"?vne(t):xne(t)},bne=function(e,t){return e==="h"&&t==="rtl"?-1:1},wne=function(e,t,n,r,i){var o=bne(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),c=!1,u=s>0,d=0,f=0;do{if(!a)break;var h=pF(e,a),p=h[0],m=h[1],y=h[2],v=m-y-o*p;(p||v)&&hF(e,a)&&(d+=v,f+=p);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(f)<1||!i&&-s>f))&&(c=!0),c},op=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IO=function(e){return[e.deltaX,e.deltaY]},RO=function(e){return e&&"current"in e?e.current:e},Sne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ene=0,Ll=[];function Cne(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(Ene++)[0],o=x.useState(dF)[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Kte([e.lockRef.current],(e.shards||[]).map(RO),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var v=op(m),b=n.current,w="deltaX"in m?m.deltaX:b[0]-v[0],S="deltaY"in m?m.deltaY:b[1]-v[1],E,T=m.target,k=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&T.type==="range")return!1;var C=jO(k,T);if(!C)return!0;if(C?E=k:(E=k==="v"?"h":"v",C=jO(k,T)),!C)return!1;if(!r.current&&"changedTouches"in m&&(w||S)&&(r.current=E),!E)return!0;var A=r.current||E;return wne(A,y,m,A==="h"?w:S,!0)},[]),l=x.useCallback(function(m){var y=m;if(!(!Ll.length||Ll[Ll.length-1]!==o)){var v="deltaY"in y?IO(y):op(y),b=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&Sne(E.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(s.current.shards||[]).map(RO).filter(Boolean).filter(function(E){return E.contains(y.target)}),S=w.length>0?a(y,w[0]):!s.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),c=x.useCallback(function(m,y,v,b){var w={name:m,delta:y,target:v,should:b,shadowParent:Tne(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=x.useCallback(function(m){n.current=op(m),r.current=void 0},[]),d=x.useCallback(function(m){c(m.type,IO(m),m.target,a(m,e.lockRef.current))},[]),f=x.useCallback(function(m){c(m.type,op(m),m.target,a(m,e.lockRef.current))},[]);x.useEffect(function(){return Ll.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Dl),document.addEventListener("touchmove",l,Dl),document.addEventListener("touchstart",u,Dl),function(){Ll=Ll.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Dl),document.removeEventListener("touchmove",l,Dl),document.removeEventListener("touchstart",u,Dl)}},[]);var h=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(o,{styles:kne(i)}):null,h?x.createElement(pne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Tne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ane=tne(uF,Cne);var mF=x.forwardRef(function(e,t){return x.createElement(rv,ji({},e,{ref:t,sideCar:Ane}))});mF.classNames=rv.classNames;const Pne=mF;var d1=["Enter"," "],_ne=["ArrowDown","PageUp","Home"],gF=["ArrowUp","PageDown","End"],One=[..._ne,...gF],Mne={ltr:[...d1,"ArrowRight"],rtl:[...d1,"ArrowLeft"]},Nne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nh="Menu",[yf,jne,Ine]=xE(nh),[pl,yF]=cu(nh,[Ine,K$,nF]),iv=K$(),vF=nF(),[Rne,ml]=pl(nh),[Dne,rh]=pl(nh),xF=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=e,a=iv(t),[l,c]=x.useState(null),u=x.useRef(!1),d=mr(o),f=A$(i);return x.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),g.jsx(Ste,{...a,children:g.jsx(Rne,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:g.jsx(Dne,{scope:t,onClose:x.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:s,children:r})})})};xF.displayName=nh;var Lne="MenuAnchor",OE=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=iv(n);return g.jsx(kte,{...i,...r,ref:t})});OE.displayName=Lne;var ME="MenuPortal",[$ne,bF]=pl(ME,{forceMount:void 0}),wF=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=ml(ME,t);return g.jsx($ne,{scope:t,forceMount:n,children:g.jsx(fu,{present:n||o.open,children:g.jsx(_E,{asChild:!0,container:i,children:r})})})};wF.displayName=ME;var Fr="MenuContent",[Fne,NE]=pl(Fr),SF=x.forwardRef((e,t)=>{const n=bF(Fr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=ml(Fr,e.__scopeMenu),s=rh(Fr,e.__scopeMenu);return g.jsx(yf.Provider,{scope:e.__scopeMenu,children:g.jsx(fu,{present:r||o.open,children:g.jsx(yf.Slot,{scope:e.__scopeMenu,children:s.modal?g.jsx(Bne,{...i,ref:t}):g.jsx(zne,{...i,ref:t})})})})}),Bne=x.forwardRef((e,t)=>{const n=ml(Fr,e.__scopeMenu),r=x.useRef(null),i=wn(t,r);return x.useEffect(()=>{const o=r.current;if(o)return Hte(o)},[]),g.jsx(jE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zne=x.forwardRef((e,t)=>{const n=ml(Fr,e.__scopeMenu);return g.jsx(jE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Une=hf("MenuContent.ScrollLock"),jE=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p,...m}=e,y=ml(Fr,n),v=rh(Fr,n),b=iv(n),w=vF(n),S=jne(n),[E,T]=x.useState(null),k=x.useRef(null),C=wn(t,k,y.onContentChange),A=x.useRef(0),O=x.useRef(""),M=x.useRef(0),N=x.useRef(null),L=x.useRef("right"),I=x.useRef(0),J=p?Pne:x.Fragment,$=p?{as:Une,allowPinchZoom:!0}:void 0,K=j=>{var We,Dt;const q=O.current+j,z=S().filter(Y=>!Y.disabled),U=document.activeElement,ne=(We=z.find(Y=>Y.ref.current===U))==null?void 0:We.textValue,Oe=z.map(Y=>Y.textValue),le=ere(Oe,q,ne),Ae=(Dt=z.find(Y=>Y.textValue===le))==null?void 0:Dt.ref.current;(function Y(oe){O.current=oe,window.clearTimeout(A.current),oe!==""&&(A.current=window.setTimeout(()=>Y(""),1e3))})(q),Ae&&setTimeout(()=>Ae.focus())};x.useEffect(()=>()=>window.clearTimeout(A.current),[]),qZ();const P=x.useCallback(j=>{var z,U;return L.current===((z=N.current)==null?void 0:z.side)&&nre(j,(U=N.current)==null?void 0:U.area)},[]);return g.jsx(Fne,{scope:n,searchRef:O,onItemEnter:x.useCallback(j=>{P(j)&&j.preventDefault()},[P]),onItemLeave:x.useCallback(j=>{var q;P(j)||((q=k.current)==null||q.focus(),T(null))},[P]),onTriggerLeave:x.useCallback(j=>{P(j)&&j.preventDefault()},[P]),pointerGraceTimerRef:M,onPointerGraceIntentChange:x.useCallback(j=>{N.current=j},[]),children:g.jsx(J,{...$,children:g.jsx(M$,{asChild:!0,trapped:i,onMountAutoFocus:me(o,j=>{var q;j.preventDefault(),(q=k.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:g.jsx(bE,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:g.jsx(Bte,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:T,onEntryFocus:me(l,j=>{v.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(Ete,{role:"menu","aria-orientation":"vertical","data-state":$F(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:me(m.onKeyDown,j=>{const z=j.target.closest("[data-radix-menu-content]")===j.currentTarget,U=j.ctrlKey||j.altKey||j.metaKey,ne=j.key.length===1;z&&(j.key==="Tab"&&j.preventDefault(),!U&&ne&&K(j.key));const Oe=k.current;if(j.target!==Oe||!One.includes(j.key))return;j.preventDefault();const Ae=S().filter(We=>!We.disabled).map(We=>We.ref.current);gF.includes(j.key)&&Ae.reverse(),Qne(Ae)}),onBlur:me(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(A.current),O.current="")}),onPointerMove:me(e.onPointerMove,vf(j=>{const q=j.target,z=I.current!==j.clientX;if(j.currentTarget.contains(q)&&z){const U=j.clientX>I.current?"right":"left";L.current=U,I.current=j.clientX}}))})})})})})})});SF.displayName=Fr;var Vne="MenuGroup",IE=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(gt.div,{role:"group",...r,ref:t})});IE.displayName=Vne;var Wne="MenuLabel",kF=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(gt.div,{...r,ref:t})});kF.displayName=Wne;var Jm="MenuItem",DO="menu.itemSelect",ov=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=x.useRef(null),s=rh(Jm,e.__scopeMenu),a=NE(Jm,e.__scopeMenu),l=wn(t,o),c=x.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(DO,{bubbles:!0,cancelable:!0});d.addEventListener(DO,h=>r==null?void 0:r(h),{once:!0}),vE(d,f),f.defaultPrevented?c.current=!1:s.onClose()}};return g.jsx(EF,{...i,ref:l,disabled:n,onClick:me(e.onClick,u),onPointerDown:d=>{var f;(f=e.onPointerDown)==null||f.call(e,d),c.current=!0},onPointerUp:me(e.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:me(e.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||d1.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ov.displayName=Jm;var EF=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,s=NE(Jm,n),a=vF(n),l=x.useRef(null),c=wn(t,l),[u,d]=x.useState(!1),[f,h]=x.useState("");return x.useEffect(()=>{const p=l.current;p&&h((p.textContent??"").trim())},[o.children]),g.jsx(yf.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:g.jsx(zte,{asChild:!0,...a,focusable:!r,children:g.jsx(gt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:me(e.onPointerMove,vf(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,vf(p=>s.onItemLeave(p))),onFocus:me(e.onFocus,()=>d(!0)),onBlur:me(e.onBlur,()=>d(!1))})})})}),Hne="MenuCheckboxItem",CF=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return g.jsx(OF,{scope:e.__scopeMenu,checked:n,children:g.jsx(ov,{role:"menuitemcheckbox","aria-checked":Xm(n)?"mixed":n,...i,ref:t,"data-state":DE(n),onSelect:me(i.onSelect,()=>r==null?void 0:r(Xm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CF.displayName=Hne;var TF="MenuRadioGroup",[Kne,qne]=pl(TF,{value:void 0,onValueChange:()=>{}}),AF=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=mr(r);return g.jsx(Kne,{scope:e.__scopeMenu,value:n,onValueChange:o,children:g.jsx(IE,{...i,ref:t})})});AF.displayName=TF;var PF="MenuRadioItem",_F=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=qne(PF,e.__scopeMenu),o=n===i.value;return g.jsx(OF,{scope:e.__scopeMenu,checked:o,children:g.jsx(ov,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":DE(o),onSelect:me(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});_F.displayName=PF;var RE="MenuItemIndicator",[OF,Gne]=pl(RE,{checked:!1}),MF=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=Gne(RE,n);return g.jsx(fu,{present:r||Xm(o.checked)||o.checked===!0,children:g.jsx(gt.span,{...i,ref:t,"data-state":DE(o.checked)})})});MF.displayName=RE;var Yne="MenuSeparator",NF=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(gt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});NF.displayName=Yne;var Jne="MenuArrow",jF=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=iv(n);return g.jsx(Cte,{...i,...r,ref:t})});jF.displayName=Jne;var Xne="MenuSub",[ICe,IF]=pl(Xne),ld="MenuSubTrigger",RF=x.forwardRef((e,t)=>{const n=ml(ld,e.__scopeMenu),r=rh(ld,e.__scopeMenu),i=IF(ld,e.__scopeMenu),o=NE(ld,e.__scopeMenu),s=x.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),g.jsx(OE,{asChild:!0,...c,children:g.jsx(EF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$F(n.open),...e,ref:Ky(t,i.onTriggerChange),onClick:d=>{var f;(f=e.onClick)==null||f.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,vf(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:me(e.onPointerLeave,vf(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const m=(p=n.content)==null?void 0:p.dataset.side,y=m==="right",v=y?-5:5,b=f[y?"left":"right"],w=f[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:b,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:b,y:f.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,d=>{var h;const f=o.searchRef.current!=="";e.disabled||f&&d.key===" "||Mne[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});RF.displayName=ld;var DF="MenuSubContent",LF=x.forwardRef((e,t)=>{const n=bF(Fr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=ml(Fr,e.__scopeMenu),s=rh(Fr,e.__scopeMenu),a=IF(DF,e.__scopeMenu),l=x.useRef(null),c=wn(t,l);return g.jsx(yf.Provider,{scope:e.__scopeMenu,children:g.jsx(fu,{present:r||o.open,children:g.jsx(yf.Slot,{scope:e.__scopeMenu,children:g.jsx(jE,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:me(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:me(e.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=Nne[s.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});LF.displayName=DF;function $F(e){return e?"open":"closed"}function Xm(e){return e==="indeterminate"}function DE(e){return Xm(e)?"indeterminate":e?"checked":"unchecked"}function Qne(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Zne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ere(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=Zne(e,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function tre(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o],l=t[s],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function nre(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return tre(n,t)}function vf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var rre=xF,ire=OE,ore=wF,sre=SF,are=IE,lre=kF,cre=ov,ure=CF,dre=AF,fre=_F,hre=MF,pre=NF,mre=jF,gre=RF,yre=LF,sv="DropdownMenu",[vre,RCe]=cu(sv,[yF]),$n=yF(),[xre,FF]=vre(sv),BF=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=$n(t),c=x.useRef(null),[u,d]=yE({prop:i,defaultProp:o??!1,onChange:s,caller:sv});return g.jsx(xre,{scope:t,triggerId:o1(),triggerRef:c,contentId:o1(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:a,children:g.jsx(rre,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};BF.displayName=sv;var zF="DropdownMenuTrigger",UF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=FF(zF,n),s=$n(n);return g.jsx(ire,{asChild:!0,...s,children:g.jsx(gt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ky(t,o.triggerRef),onPointerDown:me(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:me(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});UF.displayName=zF;var bre="DropdownMenuPortal",VF=e=>{const{__scopeDropdownMenu:t,...n}=e,r=$n(t);return g.jsx(ore,{...r,...n})};VF.displayName=bre;var WF="DropdownMenuContent",HF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=FF(WF,n),o=$n(n),s=x.useRef(!1);return g.jsx(sre,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:me(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HF.displayName=WF;var wre="DropdownMenuGroup",Sre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(are,{...i,...r,ref:t})});Sre.displayName=wre;var kre="DropdownMenuLabel",KF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(lre,{...i,...r,ref:t})});KF.displayName=kre;var Ere="DropdownMenuItem",qF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(cre,{...i,...r,ref:t})});qF.displayName=Ere;var Cre="DropdownMenuCheckboxItem",GF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(ure,{...i,...r,ref:t})});GF.displayName=Cre;var Tre="DropdownMenuRadioGroup",Are=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(dre,{...i,...r,ref:t})});Are.displayName=Tre;var Pre="DropdownMenuRadioItem",YF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(fre,{...i,...r,ref:t})});YF.displayName=Pre;var _re="DropdownMenuItemIndicator",JF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(hre,{...i,...r,ref:t})});JF.displayName=_re;var Ore="DropdownMenuSeparator",XF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(pre,{...i,...r,ref:t})});XF.displayName=Ore;var Mre="DropdownMenuArrow",Nre=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(mre,{...i,...r,ref:t})});Nre.displayName=Mre;var jre="DropdownMenuSubTrigger",QF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(gre,{...i,...r,ref:t})});QF.displayName=jre;var Ire="DropdownMenuSubContent",ZF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$n(n);return g.jsx(yre,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZF.displayName=Ire;var Rre=BF,Dre=UF,Lre=VF,eB=HF,tB=KF,nB=qF,rB=GF,iB=YF,oB=JF,sB=XF,aB=QF,lB=ZF;const $re=Rre,Fre=Dre,Bre=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>g.jsxs(aB,{ref:i,className:ln("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,g.jsx(uJ,{className:"ml-auto h-4 w-4"})]}));Bre.displayName=aB.displayName;const zre=x.forwardRef(({className:e,...t},n)=>g.jsx(lB,{ref:n,className:ln("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));zre.displayName=lB.displayName;const cB=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(Lre,{children:g.jsx(eB,{ref:r,sideOffset:t,className:ln("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));cB.displayName=eB.displayName;const nm=x.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(nB,{ref:r,className:ln("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));nm.displayName=nB.displayName;const Ure=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>g.jsxs(rB,{ref:i,className:ln("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(oB,{children:g.jsx(cJ,{className:"h-4 w-4"})})}),t]}));Ure.displayName=rB.displayName;const Vre=x.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(iB,{ref:r,className:ln("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(oB,{children:g.jsx(dJ,{className:"h-2 w-2 fill-current"})})}),t]}));Vre.displayName=iB.displayName;const Wre=x.forwardRef(({className:e,inset:t,...n},r)=>g.jsx(tB,{ref:r,className:ln("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Wre.displayName=tB.displayName;const uB=x.forwardRef(({className:e,...t},n)=>g.jsx(sB,{ref:n,className:ln("-mx-1 my-1 h-px bg-muted",e),...t}));uB.displayName=sB.displayName;const Hre=1;let Tx=0;function Kre(){return Tx=(Tx+1)%Number.MAX_VALUE,Tx.toString()}const Cn={state:{toasts:[]},listeners:[],getState:()=>Cn.state,setState:e=>{typeof e=="function"?Cn.state=e(Cn.state):Cn.state={...Cn.state,...e},Cn.listeners.forEach(t=>t(Cn.state))},subscribe:e=>(Cn.listeners.push(e),()=>{Cn.listeners=Cn.listeners.filter(t=>t!==e)})},qre=({...e})=>{const t=Kre(),n=i=>Cn.setState(o=>({...o,toasts:o.toasts.map(s=>s.id===t?{...s,...i}:s)})),r=()=>Cn.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==t)}));return Cn.setState(i=>({...i,toasts:[{...e,id:t,dismiss:r},...i.toasts].slice(0,Hre)})),{id:t,dismiss:r,update:n}};function Xs(){const[e,t]=x.useState(Cn.getState());return x.useEffect(()=>Cn.subscribe(r=>{t(r)}),[]),x.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:qre,toasts:e.toasts}}const Gre=({currentPage:e,setCurrentPage:t})=>{const[n,r]=x.useState(!1),{user:i,logout:o}=Qy(),{theme:s,setTheme:a}=OZ(),{toast:l}=Xs(),c=Gs(),[u,d]=x.useState(""),f="c56e4d07-273c-49c9-86a5-a4445e687ece";x.useEffect(()=>{if(!i){d("");return}Se.from("profiles").select("handle").eq("id",i.id).maybeSingle().then(({data:y,error:v})=>{var b,w,S;v?(console.error("Profile fetch error:",v),d(((b=i.email)==null?void 0:b.split("@")[0])||"me")):d(y?y.handle||((S=i.email)==null?void 0:S.split("@")[0])||"me":((w=i.email)==null?void 0:w.split("@")[0])||"me")}).catch(y=>{var v;console.error("Profile fetch catch:",y),d(((v=i.email)==null?void 0:v.split("@")[0])||"me")})},[i]);const h=[{name:"Home",page:"home",path:"/"},{name:"Live Articles",page:"live-articles",path:"/sections/live-articles"},{name:"Research Notes",page:"research-notes",path:"/sections/research-notes"},{name:"Deal Tracker",page:"deal-tracker",path:"/deal-tracker"},{name:"Markets Dashboard",page:"markets",path:"/markets"},{name:"Opinions & Editorials",page:"opinions-editorials",path:"/sections/opinions-editorials"},{name:"Events & Webinars",page:"events-webinars",path:"/events"},{name:"About Us",page:"about",path:"/about"},{name:"Contact",page:"contact",path:"/contact"}],p=(y,v)=>{if(typeof t=="function")try{t(y)}catch{}v&&c(v),r(!1),window.scrollTo({top:0,behavior:"smooth"})},m=async()=>{try{await o(),c("/"),l==null||l({title:"Logged out",description:"You have been signed out."})}catch(y){console.error("Logout failed",y),l==null||l({title:"Logout failed",description:(y==null?void 0:y.message)||"Try again"})}finally{r(!1)}};return g.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:g.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsx(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center cursor-pointer",onClick:()=>p("home","/"),role:"button",tabIndex:0,onKeyDown:y=>y.key==="Enter"&&p("home","/"),children:g.jsx("span",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-primary to-purple-800 bg-clip-text text-transparent",children:"AGI"})}),g.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[h.map(y=>g.jsx(rt.button,{onClick:()=>p(y.page,y.path),className:`text-sm font-medium transition-colors whitespace-nowrap px-2 py-1 rounded-md ${e===y.page?"text-primary bg-primary/10":"text-foreground/70 hover:text-primary hover:bg-primary/5"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-current":e===y.page?"page":void 0,children:y.name},y.page)),(i==null?void 0:i.id)===f&&g.jsxs(tt,{variant:"secondary",onClick:()=>p("write","/articles/new"),className:"inline-flex items-center gap-2 ml-3","aria-label":"Write new article",children:[g.jsx(wJ,{className:"h-4 w-4"}),"Write"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(tt,{variant:"ghost",size:"icon",onClick:()=>a(s==="dark"?"light":"dark"),title:"Toggle theme","aria-pressed":s==="dark",children:[g.jsxs("span",{className:"relative inline-block",children:[g.jsx(kJ,{className:"h-[1.2rem] w-[1.2rem] transition-all"}),g.jsx(bJ,{className:"absolute inset-0 h-[1.2rem] w-[1.2rem] transition-all"})]}),g.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),g.jsx("div",{className:"hidden lg:block",children:i?g.jsxs($re,{children:[g.jsx(Fre,{asChild:!0,children:g.jsxs(tt,{variant:"outline",className:"flex items-center gap-2",children:[g.jsx(AJ,{className:"h-4 w-4"}),g.jsx("span",{children:(i.email??"User").split("@")[0]})]})}),g.jsxs(cB,{align:"end",children:[g.jsx(nm,{onClick:()=>{r(!1),c("/profile/edit")},children:"Edit Profile"}),u&&g.jsx(nm,{onClick:()=>{r(!1),c(`/u/${u}`)},children:"View My Profile"}),g.jsx(uB,{}),g.jsxs(nm,{onClick:m,children:[g.jsx(yJ,{className:"mr-2 h-4 w-4"}),g.jsx("span",{children:"Log out"})]})]})]}):g.jsx(tt,{onClick:()=>c("/login"),children:"Login / Sign Up"})}),g.jsx("div",{className:"lg:hidden",children:g.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>r(!n),"aria-expanded":n,"aria-controls":"mobile-menu",children:n?g.jsx(HL,{className:"h-6 w-6"}):g.jsx(xJ,{className:"h-6 w-6"})})})]})]}),n&&g.jsx(rt.div,{id:"mobile-menu",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden overflow-hidden",children:g.jsxs("div",{className:"py-4 border-t border-border flex flex-col items-start",children:[h.map(y=>g.jsx("button",{onClick:()=>p(y.page,y.path),className:`block w-full text-left px-4 py-3 text-base font-medium ${e===y.page?"text-primary bg-primary/10":"text-foreground/80 hover:bg-accent"}`,children:y.name},y.page)),g.jsx("div",{className:"px-4 pt-3 w-full",children:i?g.jsxs(g.Fragment,{children:[i.id===f&&g.jsx(tt,{onClick:()=>{r(!1),c("/articles/new")},variant:"secondary",className:"w-full mb-2","aria-label":"Write a new article",children:"✍️ Write a new article"}),g.jsx(tt,{onClick:()=>{r(!1),c("/profile/edit")},variant:"outline",className:"w-full mb-2",children:"Edit Profile"}),u&&g.jsx(tt,{onClick:()=>{r(!1),c(`/u/${u}`)},variant:"outline",className:"w-full mb-2",children:"View My Profile"}),g.jsx(tt,{onClick:()=>{r(!1),m()},variant:"outline",className:"w-full",children:"Log Out"})]}):g.jsx(tt,{onClick:()=>{r(!1),c("/login")},className:"w-full",children:"Login / Sign Up"})})]})})]})})};async function Yre(e){const t=(e||"").trim().toLowerCase();if(!t)throw new Error("Please enter a valid email address.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Please enter a valid email address.");const{data:n,error:r}=await Se.auth.getSession();if(r)throw r;const i=(n==null?void 0:n.session)??null,o=i!=null&&i.user?{email:t,user_id:i.user.id}:{email:t},s=async l=>Se.from("subscribers").upsert([o],{onConflict:l,returning:"representation"});let a=await s("email");if(a.error){const l=(a.error.message||"").toLowerCase();(l.includes("subscribers_email_key_idx")||l.includes("on_conflict")||l.includes("invalid")||l.includes("does not exist"))&&(a=await s("subscribers_email_key_idx"))}if(a.error){const l=(a.error.message||"").toLowerCase();if(l.includes("violates unique constraint")||l.includes("duplicate key"))return{ok:!0,mode:"exists"};throw l.includes("violates row-level security")||l.includes("row-level security")?new Error("Subscription failed due to database security rules. Enable inserts for subscribers in Supabase."):a.error}return{ok:!0,mode:"upserted"}}function Jre({open:e,onOpenChange:t}){const[n,r]=x.useState(""),[i,o]=x.useState(!1),[s,a]=x.useState(""),[l,c]=x.useState(""),u=x.useRef(null);x.useEffect(()=>{if(!e)return;const f=h=>h.key==="Escape"&&(t==null?void 0:t(!1));return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,t]),x.useEffect(()=>{var f,h;e&&((h=(f=u.current)==null?void 0:f.querySelector("input"))==null||h.focus())},[e]);const d=async f=>{var h;(h=f==null?void 0:f.preventDefault)==null||h.call(f),o(!0),a(""),c("");try{const p=await Yre(n);a(p.mode==="exists"?"You are already subscribed.":"You’re all set! Your subscription is active."),p.mode!=="exists"&&r("")}catch(p){const m=((p==null?void 0:p.message)||"").toString();m.toLowerCase().includes("email")?c(m):c("Something went wrong. Please try again."),console.error("Subscribe error:",p)}finally{o(!1)}};return e?g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center","aria-modal":"true",role:"dialog","aria-labelledby":"subscribe-title",onClick:f=>{f.target===f.currentTarget&&(t==null||t(!1))},children:[g.jsx("div",{className:"absolute inset-0 bg-black/50"}),g.jsxs("div",{ref:u,className:"relative z-10 w-full max-w-md rounded-2xl bg-white p-6 shadow-xl dark:bg-neutral-900",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h2",{id:"subscribe-title",className:"text-xl font-semibold",children:"Subscribe for updates"}),g.jsx("p",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-300",children:"Get our latest research and product updates in your inbox."})]}),g.jsxs("form",{onSubmit:d,className:"space-y-3",children:[g.jsx("input",{type:"email",placeholder:"you@example.com",value:n,onChange:f=>r(f.target.value),required:!0,disabled:i,className:"w-full rounded-xl border border-neutral-300 bg-white px-3 py-2 text-sm outline-none ring-0 focus:border-neutral-500 dark:border-neutral-700 dark:bg-neutral-800"}),l?g.jsx("div",{className:"text-sm text-red-600",children:l}):null,s?g.jsx("div",{className:"text-sm text-green-600",children:s}):null,g.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[g.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(!1),disabled:i,className:"rounded-xl border border-neutral-300 px-4 py-2 text-sm hover:bg-neutral-50 disabled:opacity-50 dark:border-neutral-700 dark:hover:bg-neutral-800",children:"Close"}),g.jsx("button",{type:"submit",disabled:i,className:"rounded-xl bg-black px-4 py-2 text-sm text-white hover:opacity-90 disabled:opacity-60 dark:bg-white dark:text-black",children:i?"Submitting…":"Subscribe"})]})]})]})]}):null}const LO=["Insights That Power Investment Decisions","Global Perspectives. Local Expertise.","Actionable Research for Finance, Economics & Deals","Your Daily Edge on Finance, Private Equity & M&A"],Xre=()=>{const[e,t]=x.useState(0),[n,r]=x.useState(!1);return x.useEffect(()=>{const i=setInterval(()=>t(o=>(o+1)%LO.length),4e3);return()=>clearInterval(i)},[]),g.jsxs(g.Fragment,{children:[g.jsxs("section",{className:"relative overflow-hidden bg-background pt-20 pb-24 sm:pt-32 sm:pb-32",children:[g.jsx("div",{className:"absolute inset-0 bg-grid-slate-200 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"}),g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:g.jsxs("div",{className:"text-center",children:[g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[g.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-foreground mb-4",children:"Agarwal Global Investments"}),g.jsx("p",{className:"text-lg sm:text-xl text-foreground/70 mb-6 max-w-3xl mx-auto",children:"Independent research and live insights on finance, economics, private equity & M&A."})]}),g.jsx("div",{className:"h-8 mb-8 flex items-center justify-center",children:g.jsx(tJ,{mode:"wait",children:g.jsx(rt.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.5},className:"text-secondary font-semibold text-base sm:text-lg",children:LO[e]},e)})}),g.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:g.jsx(tt,{size:"lg",className:"bg-primary text-primary-foreground hover:bg-primary/90 px-8 shadow-lg hover:shadow-primary/40 transition-shadow",onClick:()=>r(!0),children:"Subscribe for Free Updates"})})]})})]}),g.jsx(Jre,{open:n,onClose:()=>r(!1)})]})},Qre=["All","Finance","Economics","Private Equity","M&A","Global Markets"];function dB({section:e}){const[t,n]=x.useState("All"),[r,i]=x.useState([]),[o,s]=x.useState(!0),{toast:a}=Xs(),{user:l}=Qy();x.useEffect(()=>{let f=!1;return(async()=>{s(!0);let p=Se.from("articles").select("id,title,slug,excerpt,cover_url,tags,published_at,section,status").eq("status","published").order("published_at",{ascending:!1}).limit(36);e&&(p=p.eq("section",e));const{data:m,error:y}=await p;if(!f){if(y)console.error(y),a({title:"Failed to load articles",description:y.message,variant:"destructive"}),i([]);else{const v=(m||[]).map(b=>({id:b.id,title:b.title,excerpt:b.excerpt,slug:b.slug,image:b.cover_url||"https://images.unsplash.com/photo-1595872018818-97555653a011",category:Array.isArray(b.tags)&&b.tags.length?b.tags[0]:b.section||"General",date:b.published_at,readTime:eie(b.excerpt)}));i(v)}s(!1)}})(),()=>{f=!0}},[e,a]);const c=x.useMemo(()=>{const f=new Set(Qre);return r.forEach(h=>f.add(h.category)),Array.from(f)},[r]),u=t==="All"?r:r.filter(f=>f.category===t),d=f=>{if(!l){a({title:"Authentication Required",description:"Please log in to use this feature.",duration:5e3});return}a({title:`🚧 ${f} coming soon`,description:"We’ll wire this next.",duration:3e3})};return g.jsx("section",{id:"articles",className:"py-20 bg-background",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs(rt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-foreground mb-4",children:"Latest Insights & Analysis"}),g.jsx("p",{className:"text-lg text-foreground/70 max-w-2xl mx-auto",children:"Stay informed with our expert commentary on global finance and investment trends"})]}),g.jsx(rt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"flex flex-wrap justify-center gap-3 mb-12",children:c.map(f=>g.jsx(tt,{variant:t===f?"default":"outline",onClick:()=>n(f),className:"transition-all",children:f},f))}),o?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Array.from({length:6}).map((f,h)=>g.jsx("div",{className:"h-72 rounded-lg bg-muted animate-pulse"},h))}):u.length===0?g.jsx("p",{className:"text-center text-muted-foreground",children:"No articles yet."}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((f,h)=>g.jsxs(rt.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:h*.05},className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow group flex flex-col",children:[g.jsx("a",{href:`/article/${f.slug}`,className:"block",children:g.jsxs("div",{className:"aspect-video bg-muted relative overflow-hidden",children:[g.jsx("img",{className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",alt:f.title,src:f.image}),g.jsx("div",{className:"absolute top-4 left-4",children:g.jsx("span",{className:"bg-primary text-primary-foreground text-xs font-semibold px-3 py-1 rounded-full",children:f.category})})]})}),g.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[g.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(lJ,{className:"h-4 w-4"}),g.jsx("span",{children:Zre(f.date)})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(fJ,{className:"h-4 w-4"}),g.jsx("span",{children:f.readTime})]})]}),g.jsx("a",{href:`/article/${f.slug}`,className:"group",children:g.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-3 group-hover:text-primary transition-colors",children:f.title})}),g.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3 flex-grow",children:f.excerpt}),g.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[g.jsxs("a",{href:`/article/${f.slug}`,className:"text-primary hover:text-primary/90 hover:bg-accent p-0 h-auto font-semibold inline-flex items-center",children:["Read More",g.jsx(iJ,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),g.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>d("Bookmark"),children:g.jsx(sJ,{className:"h-5 w-5 text-muted-foreground hover:text-primary transition-colors"})})]})]})]},f.id))})]})})}function Zre(e){try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return""}}function eie(e=""){const t=(e||"").split(/\s+/).filter(Boolean).length;return`${Math.max(3,Math.round(t/200))} min read`}const tie=()=>g.jsx("section",{className:"py-20 bg-background",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-foreground mb-6",children:"Our Mission"})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[g.jsx(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:g.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:g.jsx("img",{className:"w-full h-full object-cover",alt:"Modern financial office with professionals analyzing data",src:"https://images.unsplash.com/photo-1593630363221-fd977445c8e7"})})}),g.jsxs(rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex flex-col justify-center",children:[g.jsx("p",{className:"text-lg text-foreground/80 mb-6",children:"Agarwal Global Investments is committed to delivering timely, actionable research and insights on global finance, economics, private equity and mergers & acquisitions. Our goal is to empower professionals and investors with high-quality, unbiased information."}),g.jsx("p",{className:"text-lg text-foreground/80",children:"With a commitment to analytical rigor and independent thinking, we cut through the noise to deliver insights that matter."})]})]}),g.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:EJ,title:"Strategic Focus",description:"Deep expertise in finance, economics, and investment strategies"},{icon:PJ,title:"Expert Team",description:"Seasoned analysts with decades of combined experience"},{icon:oJ,title:"Quality Research",description:"Rigorous methodology and independent analysis"},{icon:CJ,title:"Global Perspective",description:"Coverage of markets and trends worldwide"}].map((e,t)=>g.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border hover:shadow-md transition-shadow",children:[g.jsx(e.icon,{className:"h-12 w-12 text-primary mb-4"}),g.jsx("h3",{className:"text-xl font-bold text-card-foreground mb-2",children:e.title}),g.jsx("p",{className:"text-muted-foreground",children:e.description})]},t))})]})}),Nd=Te.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{type:t,className:ln("flex h-10 w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Nd.displayName="Input";const fB=Te.forwardRef(({className:e,...t},n)=>g.jsx("textarea",{className:ln("flex min-h-[80px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));fB.displayName="Textarea";const $O="shivam@agarwalglobalinvestments.com",nie=()=>{const[e,t]=x.useState({name:"",email:"",subject:"",message:""}),[n,r]=x.useState(!1),{toast:i}=Xs(),o=async a=>{var l;if(a.preventDefault(),!e.name.trim()||!e.subject.trim()||!e.message.trim()){i({title:"Missing fields",description:"Please fill out name, subject and message.",duration:3e3});return}try{r(!0);const{error:c}=await Se.from("contact_messages").insert([{name:e.name.trim(),email:((l=e.email)==null?void 0:l.trim())||null,subject:e.subject.trim(),message:e.message.trim()}]);if(c)throw c;i({title:"Message Sent",description:"Thank you — your message has been received.",duration:4e3}),t({name:"",email:"",subject:"",message:""})}catch(c){console.error("Submission failed:",c),i({title:"Submission failed",description:"Unable to send your message. Please try again later.",variant:"destructive",duration:4e3})}finally{r(!1)}},s=a=>t(l=>({...l,[a.target.name]:a.target.value}));return g.jsx("section",{className:"py-20 bg-background",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-foreground mb-6",children:"Get in Touch"}),g.jsx("p",{className:"text-xl text-foreground/70 max-w-3xl mx-auto",children:"We welcome media inquiries, partnerships and feedback. Use the form below to reach out."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[g.jsxs(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:[g.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Contact Information"}),g.jsx("div",{className:"space-y-6 mb-8",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:g.jsx(cE,{className:"h-6 w-6 text-primary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Email"}),g.jsx("p",{className:"text-muted-foreground",children:g.jsx("a",{href:`mailto:${$O}`,className:"underline hover:text-primary",children:$O})})]})]})})]}),g.jsx(rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-card p-8 rounded-lg border border-border",children:g.jsxs("form",{onSubmit:o,className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-card-foreground mb-2",children:"Full Name"}),g.jsx(Nd,{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:s,placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-card-foreground mb-2",children:"Email Address (optional)"}),g.jsx(Nd,{id:"email",name:"email",type:"email",value:e.email,onChange:s,placeholder:"john@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-card-foreground mb-2",children:"Subject"}),g.jsx(Nd,{id:"subject",name:"subject",type:"text",required:!0,value:e.subject,onChange:s,placeholder:"How can we help?"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-card-foreground mb-2",children:"Message"}),g.jsx(fB,{id:"message",name:"message",required:!0,rows:6,value:e.message,onChange:s,placeholder:"Tell us more about your inquiry..."})]}),g.jsxs(tt,{type:"submit",className:"w-full",size:"lg",disabled:n,children:[n?"Sending…":"Send Message",!n&&g.jsx(SJ,{className:"ml-2 h-4 w-4"})]})]})})]})]})})},rie=()=>{const[e,t]=x.useState(""),{toast:n}=Xs(),r=i=>{i.preventDefault(),n({title:"Successfully Subscribed! 🎉",description:"You'll receive our latest insights and updates.",duration:4e3}),t("")};return g.jsx("section",{id:"newsletter",className:"py-20 bg-gradient-to-br from-primary to-purple-800",children:g.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs(rt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:[g.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-3 rounded-full w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:g.jsx(cE,{className:"h-8 w-8 text-white"})}),g.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-4",children:"Stay Ahead of the Markets"}),g.jsx("p",{className:"text-lg text-purple-200 mb-8 max-w-2xl mx-auto",children:"Get our latest finance, private equity & M&A insights delivered straight to your inbox."}),g.jsxs("form",{onSubmit:r,className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[g.jsx(Nd,{type:"email",required:!0,value:e,onChange:i=>t(i.target.value),placeholder:"Enter your email",className:"flex-1 bg-white/95 border-0 text-foreground placeholder:text-muted-foreground"}),g.jsx(tt,{type:"submit",className:"bg-white text-primary hover:bg-gray-200 font-semibold",size:"lg",children:"Join the Newsletter"})]}),g.jsx("p",{className:"text-sm text-purple-300 mt-4",children:"Join 10,000+ professionals receiving our insights"})]})})})},iie=({setCurrentPage:e})=>{const t=r=>{e(r),window.scrollTo({top:0,behavior:"smooth"})},n=r=>{e("live-articles"),window.scrollTo({top:0,behavior:"smooth"})};return g.jsx("footer",{className:"bg-foreground text-background/70 py-12",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[g.jsxs("div",{className:"col-span-1 md:col-span-2",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4 cursor-pointer",onClick:()=>t("home"),children:"Agarwal Global Investments"}),g.jsx("p",{className:"text-background/60 mb-4 max-w-md",children:"Delivering world-class research and analysis to empower informed investment decisions across global markets."}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("a",{href:"#",className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:g.jsx(gJ,{className:"h-5 w-5"})}),g.jsx("a",{href:"#",className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:g.jsx(TJ,{className:"h-5 w-5"})}),g.jsx("a",{href:"#",className:"bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:g.jsx(cE,{className:"h-5 w-5"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx("button",{onClick:()=>t("home"),className:"hover:text-white transition-colors",children:"Home"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>t("live-articles"),className:"hover:text-white transition-colors",children:"Live Articles"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>t("about"),className:"hover:text-white transition-colors",children:"About Us"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>t("contact"),className:"hover:text-white transition-colors",children:"Contact"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-white font-semibold mb-4",children:"Categories"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx("button",{onClick:()=>n(),className:"hover:text-white transition-colors",children:"Finance"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n(),className:"hover:text-white transition-colors",children:"Economics"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n(),className:"hover:text-white transition-colors",children:"Private Equity"})}),g.jsx("li",{children:g.jsx("button",{onClick:()=>n(),className:"hover:text-white transition-colors",children:"M&A"})})]})]})]}),g.jsx("div",{className:"border-t border-white/20 pt-8",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsx("p",{className:"text-background/60 text-sm",children:"© 2025 Agarwal Global Investments. All rights reserved."}),g.jsxs("div",{className:"flex gap-6 text-sm",children:[g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),g.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Disclaimer"})]})]})})]})})},oie=6e4,sie=()=>{const{toast:e}=Xs(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[o,s]=x.useState(null),a=x.useCallback(async()=>{i(!0),s(null);try{const{data:c,error:u}=await Se.from("research_reports").select("id, title, date, description, file_url, created_at").order("created_at",{ascending:!1});if(u)throw u;n(c??[])}catch(c){console.error("Failed to fetch research notes",c),s((c==null?void 0:c.message)||String(c)),e({title:"Error loading reports",description:(c==null?void 0:c.message)||"See console for details",variant:"destructive"})}finally{i(!1)}},[e]);x.useEffect(()=>{a();const c=setInterval(()=>{a()},oie);return()=>clearInterval(c)},[a]);const l=c=>{if(!(c!=null&&c.file_url)){e({title:"File unavailable",description:"This report does not have a downloadable file.",duration:3e3});return}window.open(c.file_url,"_blank","noopener,noreferrer"),e({title:"Download started",description:c.title})};return g.jsx("section",{className:"py-20 bg-background",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-foreground mb-3",children:"In-Depth Research"}),g.jsx("p",{className:"text-lg text-foreground/70 max-w-3xl mx-auto",children:"Download our latest deep-dive reports and investment notes."})]}),g.jsx("div",{className:"mb-6 flex items-center justify-end gap-3",children:g.jsxs(tt,{onClick:()=>{a(),e({title:"Refreshing",description:"Fetching latest reports..."})},className:"inline-flex items-center gap-2",children:[g.jsx(uE,{className:"w-4 h-4"}),"Refresh"]})}),r&&g.jsx("div",{className:"space-y-4 max-w-4xl mx-auto",children:[1,2,3].map(c=>g.jsxs("div",{className:"animate-pulse bg-card border border-border rounded-lg p-6 flex items-center gap-6",children:[g.jsx("div",{className:"bg-primary/10 p-4 rounded-lg h-12 w-12"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded mb-2"}),g.jsx("div",{className:"h-3 w-2/3 bg-gray-200 rounded mb-2"}),g.jsx("div",{className:"h-3 w-1/4 bg-gray-200 rounded"})]}),g.jsx("div",{className:"w-24 h-10 bg-gray-200 rounded"})]},c))}),o&&!r&&g.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-sm text-red-700 mb-6",children:["Error loading research notes: ",o]}),!r&&t.length===0&&!o&&g.jsx("div",{className:"bg-card border border-border rounded-lg p-6 text-center text-muted-foreground",children:"No research notes available yet. Add reports via your admin panel or through Supabase."}),g.jsx("div",{className:"space-y-8 max-w-4xl mx-auto",children:t.map((c,u)=>g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.08},className:"bg-card border border-border rounded-lg p-6 flex flex-col sm:flex-row items-start gap-6 hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"bg-primary/10 p-4 rounded-lg",children:g.jsx(mJ,{className:"h-8 w-8 text-primary"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:c.date?new Date(c.date).toLocaleDateString():c.created_at?new Date(c.created_at).toLocaleDateString():"—"}),g.jsx("h2",{className:"text-2xl font-bold text-card-foreground mb-2",children:c.title??"Untitled"}),g.jsx("p",{className:"text-muted-foreground mb-4",children:c.description??""})]}),g.jsx("div",{className:"flex-shrink-0 self-stretch flex items-center",children:g.jsxs(tt,{onClick:()=>l(c),className:"w-full sm:w-auto",children:[g.jsx(pJ,{className:"mr-2 h-4 w-4"}),"Download"]})})]},c.id))})]})})},aie=3e4,lie=()=>{const{toast:e}=Xs(),[t,n]=x.useState([]),[r,i]=x.useState(!0),[o,s]=x.useState(null),a=x.useCallback(async()=>{i(!0),s(null);try{const{data:c,error:u}=await Se.from("deals").select("id, acquirer, target, value, sector, region, type, created_at").order("created_at",{ascending:!1});if(u)throw u;n(c??[])}catch(c){console.error("Failed to load deals",c),s(c.message||String(c)),e({title:"Failed to load deals",description:(c==null?void 0:c.message)||"Check console for details",variant:"destructive"})}finally{i(!1)}},[e]);x.useEffect(()=>{a();const c=setInterval(()=>{a()},aie);return()=>clearInterval(c)},[a]);const l=c=>c||"—";return g.jsx("section",{className:"py-20 bg-background",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-foreground mb-3",children:"Tracking the World of Deals"}),g.jsx("p",{className:"text-lg text-foreground/70 max-w-3xl mx-auto",children:"Live updates on private equity & M&A activity across sectors and regions."})]}),g.jsx("div",{className:"mb-6 flex items-center justify-end gap-3",children:g.jsxs("button",{onClick:()=>{a(),e({title:"Refreshing",description:"Fetching latest deals..."})},className:"inline-flex items-center gap-2 px-3 py-1.5 border rounded shadow-sm hover:bg-gray-50","aria-label":"Refresh deals",children:[g.jsx(uE,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Refresh"})]})}),r&&g.jsx("div",{className:"space-y-4",children:[1,2,3].map(c=>g.jsxs("div",{className:"animate-pulse bg-card border border-border rounded-lg p-6",children:[g.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded mb-3"}),g.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded mb-4"}),g.jsx("div",{className:"h-3 w-1/5 bg-gray-200 rounded"})]},c))}),o&&!r&&g.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-sm text-red-700 mb-6",children:["Error loading deals: ",o]}),!r&&t.length===0&&!o&&g.jsx("div",{className:"bg-card border border-border rounded-lg p-6 text-center text-muted-foreground",children:"No deals found yet. You can add deals in your admin panel or via Supabase."}),g.jsx("div",{className:"space-y-8",children:t.map((c,u)=>g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.06},className:"bg-card border border-border rounded-lg p-6 hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full ${c.type==="M&A"?"bg-primary/10 text-primary":"bg-green-100 text-green-800"}`,children:c.type??"Deal"}),g.jsx("h2",{className:"text-2xl font-bold text-card-foreground mt-2",children:c.target??"—"}),g.jsxs("p",{className:"text-muted-foreground",children:["acquired by ",c.acquirer??"—"]})]}),g.jsx("div",{className:"mt-4 sm:mt-0 text-3xl font-bold text-primary",children:l(c.value)})]}),g.jsxs("div",{className:"border-t border-border pt-4 mt-4 flex flex-wrap gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(aJ,{className:"h-4 w-4"}),g.jsx("span",{children:c.sector??"—"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(vJ,{className:"h-4 w-4"}),g.jsx("span",{children:c.region??"—"})]}),g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",children:new Date(c.created_at).toLocaleDateString()})})]})]},c.id))})]})})},cie=({title:e,subtitle:t})=>g.jsx("section",{className:"py-20 sm:py-32 bg-white",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[g.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-20 h-20 mx-auto mb-8 flex items-center justify-center",children:g.jsx(hJ,{className:"h-10 w-10 text-blue-600"})}),g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-slate-900 mb-6",children:e}),g.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:t}),g.jsx("p",{className:"text-lg text-slate-500 mt-4 max-w-2xl mx-auto",children:"This page is currently under construction. Check back soon for exciting updates! 🚀"})]})})});var hB={exports:{}},pB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=x;function uie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var die=typeof Object.is=="function"?Object.is:uie,fie=Fc.useState,hie=Fc.useEffect,pie=Fc.useLayoutEffect,mie=Fc.useDebugValue;function gie(e,t){var n=t(),r=fie({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return pie(function(){i.value=n,i.getSnapshot=t,Ax(i)&&o({inst:i})},[e,n,t]),hie(function(){return Ax(i)&&o({inst:i}),e(function(){Ax(i)&&o({inst:i})})},[e]),mie(n),n}function Ax(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!die(e,n)}catch{return!0}}function yie(e,t){return t()}var vie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yie:gie;pB.useSyncExternalStore=Fc.useSyncExternalStore!==void 0?Fc.useSyncExternalStore:vie;hB.exports=pB;var LE=hB.exports;function Zt(e){this.content=e}Zt.prototype={constructor:Zt,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Zt(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Zt(n)},addToStart:function(e,t){return new Zt([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Zt(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Zt(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Zt.from(e),e.size?new Zt(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Zt.from(e),e.size?new Zt(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Zt.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Zt.from=function(e){if(e instanceof Zt)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Zt(t)};function mB(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=mB(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function gB(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=gB(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class F{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new F(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new F(r,i)}cutByIndex(t,n){return t==n?F.empty:t==0&&n==this.content.length?this:new F(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new F(i,o)}addToStart(t){return new F([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new F(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return mB(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return gB(this,t,n,r)}findIndex(t){if(t==0)return sp(0,t);if(t==this.size)return sp(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?sp(n+1,o):sp(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return F.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return F.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new F(n||t,r)}static from(t){if(!t)return F.empty;if(t instanceof F)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new F([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Px={index:0,offset:0};function sp(e,t){return Px.index=e,Px.offset=t,Px}function Qm(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Qm(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Qm(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let $e=class f1{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Qm(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return f1.none;if(t instanceof f1)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};$e.none=[];class Zm extends Error{}class X{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=vB(this.content,t+this.openStart,n);return r&&new X(r,this.openStart,this.openEnd)}removeBetween(t,n){return new X(yB(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return X.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new X(F.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new X(t,r,i)}}X.empty=new X(F.empty,0,0);function yB(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(yB(o.content,t-i-1,n-i-1)))}function vB(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=vB(s.content,t-o-1,n,s);return a&&e.replaceChild(i,s.copy(a))}function xie(e,t,n){if(n.openStart>e.depth)throw new Zm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Zm("Inconsistent open depths");return xB(e,t,n,0)}function xB(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=xB(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return $a(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=bie(n,e);return $a(o,wB(e,s,a,t,r))}else return $a(o,eg(e,t,r))}function bB(e,t){if(!t.type.compatibleContent(e.type))throw new Zm("Cannot join "+t.type.name+" onto "+e.type.name)}function h1(e,t,n){let r=e.node(n);return bB(r,t.node(n)),r}function La(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function jd(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(La(e.nodeAfter,r),o++));for(let a=o;a<s;a++)La(i.child(a),r);t&&t.depth==n&&t.textOffset&&La(t.nodeBefore,r)}function $a(e,t){return e.type.checkContent(t),e.copy(t)}function wB(e,t,n,r,i){let o=e.depth>i&&h1(e,t,i+1),s=r.depth>i&&h1(n,r,i+1),a=[];return jd(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(bB(o,s),La($a(o,wB(e,t,n,r,i+1)),a)):(o&&La($a(o,eg(e,t,i+1)),a),jd(t,n,i,a),s&&La($a(s,eg(n,r,i+1)),a)),jd(r,null,i,a),new F(a)}function eg(e,t,n){let r=[];if(jd(null,e,n,r),e.depth>n){let i=h1(e,t,n+1);La($a(i,eg(e,t,n+1)),r)}return jd(t,null,n,r),new F(r)}function bie(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(F.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class xf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return $e.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new tg(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new xf(n,r,o)}static resolveCached(t,n){let r=FO.get(t);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else FO.set(t,r=new wie);let i=r.elts[r.i]=xf.resolve(t,n);return r.i=(r.i+1)%Sie,i}}class wie{constructor(){this.elts=[],this.i=0}}const Sie=12,FO=new WeakMap;class tg{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const kie=Object.create(null);let _s=class p1{constructor(t,n,r,i=$e.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||F.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Qm(this.attrs,n||t.defaultAttrs||kie)&&$e.sameSet(this.marks,r||$e.none)}copy(t=null){return t==this.content?this:new p1(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new p1(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return X.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new X(c,i.depth-s,o.depth-s)}replace(t,n,r){return xie(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return xf.resolveCached(this,t)}resolveNoCache(t){return xf.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),SB(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=F.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=$e.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!$e.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=F.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};_s.prototype.text=void 0;class ng extends _s{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):SB(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new ng(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new ng(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function SB(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Qa{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Eie(t,n);if(r.next==null)return Qa.empty;let i=kB(r);r.next&&r.err("Unexpected trailing text");let o=Mie(Oie(i));return Nie(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return F.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}Qa.empty=new Qa(!0);class Eie{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function kB(e){let t=[];do t.push(Cie(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Cie(e){let t=[];do t.push(Tie(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Tie(e){let t=_ie(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Aie(e,t);else break;return t}function BO(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Aie(e,t){let n=BO(e),r=n;return e.eat(",")&&(e.next!="}"?r=BO(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Pie(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(t)&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function _ie(e){if(e.eat("(")){let t=kB(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Pie(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Oie(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function EB(e,t){return t-e}function zO(e,t){let n=[];return r(t),n.sort(EB);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Mie(e){let t=Object.create(null);return n(zO(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);zO(e,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[r.join(",")]=new Qa(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(EB);o.next.push({type:i[s][0],next:t[a.join(",")]||n(a)})}return o}}function Nie(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CB(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function TB(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function AB(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function PB(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Iie(e,r,t[r]);return n}let UO=class _B{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=PB(t,r.attrs),this.defaultAttrs=CB(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:TB(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _s(this,this.computeAttrs(t),F.from(n),$e.setFrom(r))}createChecked(t=null,n,r){return n=F.from(n),this.checkContent(n),new _s(this,this.computeAttrs(t),n,$e.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=F.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(F.empty,!0);return o?new _s(this,t,n.append(o),$e.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){AB(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:$e.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new _B(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function jie(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class Iie{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?jie(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class av{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=PB(t,i.attrs),this.excluded=null;let o=CB(this.attrs);this.instance=o?new $e(this,o):null}create(t=null){return!t&&this.instance?this.instance:new $e(this,TB(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new av(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){AB(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class OB{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Zt.from(t.nodes),n.marks=Zt.from(t.marks||{}),this.nodes=UO.compile(this.spec.nodes,this),this.marks=av.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Qa.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?VO(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:VO(this,s.split(" "))}this.nodeFromJSON=i=>_s.fromJSON(this,i),this.markFromJSON=i=>$e.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof UO){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new ng(r,r.defaultAttrs,t,$e.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function VO(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Rie(e){return e.tag!=null}function Die(e){return e.style!=null}class Os{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Rie(i))this.tags.push(i);else if(Die(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new HO(this,n,!1);return r.addAll(t,$e.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new HO(this,n,!0);return r.addAll(t,$e.none,n.from,n.to),X.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Fie(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=KO(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=KO(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Os(t,Os.schemaRules(t)))}}const MB={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Lie={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},NB={ol:!0,ul:!0},bf=1,m1=2,Id=4;function WO(e,t,n){return t!=null?(t?bf:0)|(t==="full"?m1:0):e&&e.whitespace=="pre"?bf|m1:n&~Id}class ap{constructor(t,n,r,i,o,s){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=$e.none,this.match=o||(s&Id?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(F.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&bf)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=F.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!MB.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class HO{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=WO(null,n.preserveWhitespace,0)|(r?Id:0);i?o=new ap(i.type,i.attrs,$e.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new ap(null,null,$e.none,!0,null,s):o=new ap(t.schema.topNodeType,null,$e.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&m1?"full":this.localPreserveWS||(i.options&bf)>0;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;NB.hasOwnProperty(s)&&this.parser.normalizeLists&&$ie(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:Lie.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(MB.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let s=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+a)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=$e.none;for(let a of i.concat(t.marks))(o.type?o.type.allowsMarkType(a.type):qO(a.type,t.type))&&(s=a.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=WO(t,o,s.options);s.options&Id&&s.content.length==0&&(a|=Id);let l=$e.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):qO(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ap(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=bf)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function $ie(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&NB.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Fie(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function KO(e){let t={};for(let n in e)t[n]=e[n];return t}function qO(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class gl{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=_x(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=rm(_x(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&rm(_x(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return rm(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new gl(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=GO(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return GO(t.marks)}}function GO(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function _x(e){return e.document||window.document}const YO=new WeakMap;function Bie(e){let t=YO.get(e);return t===void 0&&YO.set(e,t=zie(e)),t}function zie(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function rm(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Bie(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=rm(e,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const jB=65535,IB=Math.pow(2,16);function Uie(e,t){return e+t*IB}function JO(e){return e&jB}function Vie(e){return(e-(e&jB))/IB}const RB=1,DB=2,im=4,LB=8;class g1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&LB)>0}get deletedBefore(){return(this.delInfo&(RB|im))>0}get deletedAfter(){return(this.delInfo&(DB|im))>0}get deletedAcross(){return(this.delInfo&im)>0}}class ar{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ar.empty)return ar.empty}recover(t){let n=0,r=JO(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Vie(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(t<=d){let f=c?t==l?-1:t==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=t==(n<0?l:d)?null:Uie(a/3,t-l),m=t==l?DB:t==d?RB:im;return(n<0?t!=l:t!=d)&&(m|=LB),new g1(h,m,p)}i+=u-c}return r?t+i:new g1(t+i,0,null)}touches(t,n){let r=0,i=JO(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],u=l+c;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];t(a,a+c,l,l+u),o+=u-c}}invert(){return new ar(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ar.empty:new ar(t<0?[0,-t,0]:[0,0,t])}}ar.empty=new ar([]);class wf{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new wf(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new wf;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new g1(t,i,null)}}const Ox=Object.create(null);let Sn=class{getMap(){return ar.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ox[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Ox)throw new RangeError("Duplicate use of step JSON ID "+t);return Ox[t]=n,n.prototype.jsonID=t,n}};class Ct{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Ct(t,null)}static fail(t){return new Ct(null,t)}static fromReplace(t,n,r,i){try{return Ct.ok(t.replace(n,r,i))}catch(o){if(o instanceof Zm)return Ct.fail(o.message);throw o}}}function $E(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy($E(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return F.fromArray(r)}class gs extends Sn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new X($E(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Ct.fromReplace(t,this.from,this.to,o)}invert(){return new fi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gs(n.pos,r.pos,this.mark)}merge(t){return t instanceof gs&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new gs(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new gs(n.from,n.to,t.markFromJSON(n.mark))}}Sn.jsonID("addMark",gs);class fi extends Sn{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new X($E(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Ct.fromReplace(t,this.from,this.to,r)}invert(){return new gs(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new fi(n.pos,r.pos,this.mark)}merge(t){return t instanceof fi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new fi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fi(n.from,n.to,t.markFromJSON(n.mark))}}Sn.jsonID("removeMark",fi);class ys extends Sn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ct.fromReplace(t,this.pos,this.pos+1,new X(F.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ys(this.pos,n.marks[i]);return new ys(this.pos,this.mark)}}return new Za(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ys(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ys(n.pos,t.markFromJSON(n.mark))}}Sn.jsonID("addNodeMark",ys);class Za extends Sn{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ct.fromReplace(t,this.pos,this.pos+1,new X(F.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ys(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Za(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Za(n.pos,t.markFromJSON(n.mark))}}Sn.jsonID("removeNodeMark",Za);class zt extends Sn{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&y1(t,this.from,this.to)?Ct.fail("Structure replace would overwrite content"):Ct.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ar([this.from,this.to-this.from,this.slice.size])}invert(t){return new zt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new zt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof zt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?X.empty:new X(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new zt(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?X.empty:new X(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new zt(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new zt(n.from,n.to,X.fromJSON(t,n.slice),!!n.structure)}}Sn.jsonID("replace",zt);class Vt extends Sn{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(y1(t,this.from,this.gapFrom)||y1(t,this.gapTo,this.to)))return Ct.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ct.fromReplace(t,this.from,this.to,r):Ct.fail("Content does not fit in gap")}getMap(){return new ar([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Vt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Vt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vt(n.from,n.to,n.gapFrom,n.gapTo,X.fromJSON(t,n.slice),n.insert,!!n.structure)}}Sn.jsonID("replaceAround",Vt);function y1(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Wie(e,t,n,r){let i=[],o=[],s,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[m])?s.to=h:i.push(s=new fi(f,h,d[m])));a&&a.to==f?a.to=h:o.push(a=new gs(f,h,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function Hie(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof av){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,t),to:c,step:o})}}}),i.forEach(s=>e.step(new fi(s.from,s.to,s.style)))}function FE(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new zt(a,u,X.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new fi(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new X(F.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new zt(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(F.empty,!0);e.replace(a,a,new X(l,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function Kie(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function hu(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Kie(i,o,s))break}return null}function qie(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=F.empty,d=0;for(let p=o,m=!1;p>n;p--)m||r.index(p)>0?(m=!0,u=F.from(r.node(p).copy(u)),d++):l--;let f=F.empty,h=0;for(let p=o,m=!1;p>n;p--)m||i.after(p+1)<i.end(p)?(m=!0,f=F.from(i.node(p).copy(f)),h++):c++;e.step(new Vt(l,c,s,a,new X(u.append(f),d,h),u.size-d,!0))}function BE(e,t,n=null,r=e){let i=Gie(e,t),o=i&&Yie(r,t);return o?i.map(XO).concat({type:t,attrs:n}).concat(o.map(XO)):null}function XO(e){return{type:e,attrs:null}}function Gie(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function Yie(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function Jie(e,t,n){let r=F.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=F.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new Vt(i,o,i,o,new X(r,0,0),n.length,!0))}function Xie(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&Qie(e.doc,e.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&FB(e,s,a,o),FE(e,e.mapping.slice(o).map(a,1),r,void 0,c===null);let u=e.mapping.slice(o),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return e.step(new Vt(d,f,d+1,f-1,new X(F.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&$B(e,s,a,o),!1}})}function $B(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+s.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function FB(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+o);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function Qie(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Zie(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Vt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new X(F.from(s),0,0),1,!0))}function Sc(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function eoe(e,t,n=1,r){let i=e.doc.resolve(t),o=F.empty,s=F.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=F.from(i.node(a).copy(o));let u=r&&r[c];s=F.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}e.step(new zt(t,t,new X(o.append(s),n,n),!0))}function Qs(e,t){let n=e.resolve(t),r=n.index();return BB(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function toe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),s=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function BB(e,t){return!!(e&&t&&!e.isLeaf&&toe(e,t))}function lv(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&BB(o,s)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function noe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);FB(e,u.node(),u.before(),a)}s.inlineContent&&FE(e,t+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new zt(c,l.map(t+n,-1),X.empty,!0)),r===!0){let u=e.doc.resolve(c);$B(e,u.node(),u.before(),e.steps.length)}return e}function roe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function zB(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function cv(e,t,n=t,r=X.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return UB(i,o,r)?new zt(t,n,r):new ioe(i,o,r).fit()}function UB(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class ioe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=F.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=F.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new X(o,s,a);return t>-1?new Vt(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new zt(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Mx(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(F.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Mx(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new X(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Mx(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new X(cd(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new X(cd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)u.push(i.child(m));d=d.matchFragment(i)}let h=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let m=a.child(c),y=d.matchType(m.type);if(!y)break;c++,(c>1||l==0||m.content.size)&&(d=y,u.push(VB(m.mark(f.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=ud(this.placed,n,F.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=a;m<h;m++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=p?t==0?X.empty:new X(cd(s.content,t-1,1),t-1,h<0?s.openEnd:t-1):new X(cd(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Nx(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=Nx(t,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Nx(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ud(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=ud(this.placed,this.depth,F.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(F.empty,!0);n.childCount&&(this.placed=ud(this.placed,this.frontier.length,n))}}function cd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(cd(e.firstChild.content,t-1,n)))}function ud(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ud(e.lastChild.content,t-1,n)))}function Mx(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function VB(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,VB(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(F.empty,!0)))),e.copy(r)}function Nx(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!ooe(n,o.content,s)?a:null}function ooe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function soe(e){return e.spec.defining||e.spec.definingForContent}function aoe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(UB(i,o,r))return e.step(new zt(t,n,r));let s=HB(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=soe(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let m=0;m<s.length;m++){let y=s[(m+l)%s.length],v=!0;y<0&&(v=!1,y=-y);let b=i.node(y-1),w=i.index(y-1);if(b.canReplaceWith(w,w,p.type,p.marks))return e.replace(i.before(y),v?o.after(y):n,new X(WB(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=s.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=s[f];h<0||(t=i.before(h),n=o.after(h))}}function WB(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(WB(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(F.empty,!0))}return e}function loe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=roe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new X(F.from(r),0,0))}function coe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=HB(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function HB(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class kc extends Sn{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Ct.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ct.fromReplace(t,this.pos,this.pos+1,new X(F.from(i),0,n.isLeaf?0:1))}getMap(){return ar.empty}invert(t){return new kc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new kc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new kc(n.pos,n.attr,n.value)}}Sn.jsonID("attr",kc);class Sf extends Sn{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Ct.ok(r)}getMap(){return ar.empty}invert(t){return new Sf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Sf(n.attr,n.value)}}Sn.jsonID("docAttr",Sf);let Bc=class extends Error{};Bc=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Bc.prototype=Object.create(Error.prototype);Bc.prototype.constructor=Bc;Bc.prototype.name="TransformError";class KB{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new wf}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Bc(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=X.empty){let i=cv(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new X(F.from(r),0,0))}delete(t,n){return this.replace(t,n,X.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return aoe(this,t,n,r),this}replaceRangeWith(t,n,r){return loe(this,t,n,r),this}deleteRange(t,n){return coe(this,t,n),this}lift(t,n){return qie(this,t,n),this}join(t,n=1){return noe(this,t,n),this}wrap(t,n){return Jie(this,t,n),this}setBlockType(t,n=t,r,i=null){return Xie(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Zie(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new kc(t,n,r)),this}setDocAttribute(t,n){return this.step(new Sf(t,n)),this}addNodeMark(t,n){return this.step(new ys(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof $e)n.isInSet(r.marks)&&this.step(new Za(t,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new Za(t,o)),i=o.removeFromSet(i);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,n=1,r){return eoe(this,t,n,r),this}addMark(t,n,r){return Wie(this,t,n,r),this}removeMark(t,n,r){return Hie(this,t,n,r),this}clearIncompatible(t,n,r){return FE(this,t,n,r),this}}const jx=Object.create(null);class xe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new uoe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=X.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),a?X.empty:n),a==0&&eM(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=t.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),eM(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new pe(t):Vl(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?Vl(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):Vl(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Br(t.node(0))}static atStart(t){return Vl(t,t,0,0,1)||new Br(t)}static atEnd(t){return Vl(t,t,t.content.size,t.childCount,-1)||new Br(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=jx[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in jx)throw new RangeError("Duplicate use of selection JSON ID "+t);return jx[t]=n,n.prototype.jsonID=t,n}getBookmark(){return pe.between(this.$anchor,this.$head).getBookmark()}}xe.prototype.visible=!0;class uoe{constructor(t,n){this.$from=t,this.$to=n}}let QO=!1;function ZO(e){!QO&&!e.parent.inlineContent&&(QO=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class pe extends xe{constructor(t,n=t){ZO(t),ZO(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return xe.near(r);let i=t.resolve(n.map(this.anchor));return new pe(i.parent.inlineContent?i:r,r)}replace(t,n=X.empty){if(super.replace(t,n),n==X.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof pe&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new uv(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new pe(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=xe.findFrom(n,r,!0)||xe.findFrom(n,-r,!0);if(o)n=o.$head;else return xe.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(xe.findFrom(t,-r,!0)||xe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new pe(t,n)}}xe.jsonID("text",pe);class uv{constructor(t,n){this.anchor=t,this.head=n}map(t){return new uv(t.map(this.anchor),t.map(this.head))}resolve(t){return pe.between(t.resolve(this.anchor),t.resolve(this.head))}}class ae extends xe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?xe.near(o):new ae(o)}content(){return new X(F.from(this.node),0,0)}eq(t){return t instanceof ae&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new zE(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ae(t.resolve(n.anchor))}static create(t,n){return new ae(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ae.prototype.visible=!1;xe.jsonID("node",ae);class zE{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new uv(r,r):new zE(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ae.isSelectable(r)?new ae(n):xe.near(n)}}class Br extends xe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=X.empty){if(n==X.empty){t.delete(0,t.doc.content.size);let r=xe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Br(t)}map(t){return new Br(t)}eq(t){return t instanceof Br}getBookmark(){return doe}}xe.jsonID("all",Br);const doe={map(){return this},resolve(e){return new Br(e)}};function Vl(e,t,n,r,i,o=!1){if(t.inlineContent)return pe.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let a=t.child(s);if(a.isAtom){if(!o&&ae.isSelectable(a))return ae.create(e,n-(i<0?a.nodeSize:0))}else{let l=Vl(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function eM(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof zt||i instanceof Vt))return;let o=e.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),e.setSelection(xe.near(e.doc.resolve(s),n))}const tM=1,lp=2,nM=4;class foe extends KB{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|tM)&~lp,this.storedMarks=null,this}get selectionSet(){return(this.updated&tM)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=lp,this}ensureMarks(t){return $e.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&lp)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~lp,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||$e.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(xe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=nM,this}get scrolledIntoView(){return(this.updated&nM)>0}}function rM(e,t){return!t||!e?e:e.bind(t)}class dd{constructor(t,n,r){this.name=t,this.init=rM(n.init,r),this.apply=rM(n.apply,r)}}const hoe=[new dd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new dd("selection",{init(e,t){return e.selection||xe.atStart(t.doc)},apply(e){return e.selection}}),new dd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new dd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Ix{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=hoe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new dd(r.key,r.spec.state,r))})}}class cc{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new cc(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new foe(this)}static create(t){let n=new Ix(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new cc(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Ix(this.schema,t.plugins),r=n.fields,i=new cc(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ix(t.schema,t.plugins),o=new cc(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=_s.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=xe.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,t,n[a],o);return}}o[s.name]=s.init(t,o)}}),o}}function qB(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=qB(i,t,{})),n[r]=i}return n}class yt{constructor(t){this.spec=t,this.props={},t.props&&qB(t.props,this,this.props),this.key=t.key?t.key.key:GB("plugin")}getState(t){return t[this.key]}}const Rx=Object.create(null);function GB(e){return e in Rx?e+"$"+ ++Rx[e]:(Rx[e]=0,e+"$")}class Kt{constructor(t="key"){this.key=GB(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const tn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},zc=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let v1=null;const io=function(e,t,n){let r=v1||(v1=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},poe=function(){v1=null},el=function(e,t,n,r){return n&&(iM(e,t,n,r,-1)||iM(e,t,n,r,1))},moe=/^(img|br|input|textarea|hr)$/i;function iM(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Ir(e))){let s=e.parentNode;if(!s||s.nodeType!=1||ih(e)||moe.test(e.nodeName)||e.contentEditable=="false")return!1;t=tn(e)+(i<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=s,t=i<0?Ir(e):0}else return!1}}function Ir(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function goe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ir(e)}else if(e.parentNode&&!ih(e))t=tn(e),e=e.parentNode;else return null}}function yoe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!ih(e))t=tn(e)+1,e=e.parentNode;else return null}}function voe(e,t,n){for(let r=t==0,i=t==Ir(e);r||i;){if(e==n)return!0;let o=tn(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==Ir(e)}}function ih(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const dv=function(e){return e.focusNode&&el(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function wa(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function xoe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function boe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ir(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ir(r.startContainer),r.startOffset)}}}const Ui=typeof navigator<"u"?navigator:null,oM=typeof document<"u"?document:null,Zs=Ui&&Ui.userAgent||"",x1=/Edge\/(\d+)/.exec(Zs),YB=/MSIE \d/.exec(Zs),b1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zs),Xn=!!(YB||b1||x1),Ms=YB?document.documentMode:b1?+b1[1]:x1?+x1[1]:0,zr=!Xn&&/gecko\/(\d+)/i.test(Zs);zr&&+(/Firefox\/(\d+)/.exec(Zs)||[0,0])[1];const w1=!Xn&&/Chrome\/(\d+)/.exec(Zs),xn=!!w1,JB=w1?+w1[1]:0,Mn=!Xn&&!!Ui&&/Apple Computer/.test(Ui.vendor),Uc=Mn&&(/Mobile\/\w+/.test(Zs)||!!Ui&&Ui.maxTouchPoints>2),Or=Uc||(Ui?/Mac/.test(Ui.platform):!1),woe=Ui?/Win/.test(Ui.platform):!1,ho=/Android \d/.test(Zs),oh=!!oM&&"webkitFontSmoothing"in oM.documentElement.style,Soe=oh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function koe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ji(e,t){return typeof e=="number"?e:e[t]}function Eoe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function sM(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=zc(s);continue}let a=s,l=a==o.body,c=l?koe(o):Eoe(a),u=0,d=0;if(t.top<c.top+Ji(r,"top")?d=-(c.top-t.top+Ji(i,"top")):t.bottom>c.bottom-Ji(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+Ji(i,"top")-c.top:t.bottom-c.bottom+Ji(i,"bottom")),t.left<c.left+Ji(r,"left")?u=-(c.left-t.left+Ji(i,"left")):t.right>c.right-Ji(r,"right")&&(u=t.right-c.right+Ji(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,y=a.scrollTop-p;t={left:t.left-m,top:t.top-y,right:t.right-m,bottom:t.bottom-y}}let f=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:zc(s)}}function Coe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(o,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:XB(e.dom)}}function XB(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=zc(r));return t}function Toe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;QB(n,r==0?0:r-t)}function QB(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let $l=null;function Aoe(e){if(e.setActive)return e.setActive();if($l)return e.focus($l);let t=XB(e);e.focus($l==null?{get preventScroll(){return $l={preventScroll:!0},!0}}:void 0),$l||($l=!1,QB(t,0))}function ZB(e,t){let n,r=2e8,i,o=0,s=t.top,a=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=io(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);let m=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(m<r){n=u,r=m,i=m&&n.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,u.nodeType==1&&m&&(o=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?Poe(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:ZB(n,i)}function Poe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Qo(r,1);if(o.top!=o.bottom&&UE(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function UE(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function _oe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Ooe(e,t,n){let{node:r,offset:i}=ZB(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function Moe(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function ez(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(UE(t,c))return ez(s,t,c)}}if((o=(o+1)%r)==i)break}return e}function Noe(e,t){let n=e.dom.ownerDocument,r,i=0,o=boe(n,t.left,t.top);o&&({node:r,offset:i}=o);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!UE(t,c)||(s=ez(e.dom,t,c),!s))return null}if(Mn)for(let c=s;r&&c;c=zc(c))c.draggable&&(r=void 0);if(s=_oe(s,t),r){if(zr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;oh&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Moe(e,r,i,t))}a==null&&(a=Ooe(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function aM(e){return e.top<e.bottom||e.left<e.right}function Qo(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(aM(r))return r}return Array.prototype.find.call(n,aM)||e.getBoundingClientRect()}const joe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tz(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=oh||zr;if(r.nodeType==3)if(s&&(joe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Qo(io(r,i,i),n);if(zr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Qo(io(r,i-1,i-1),-1);if(c.top==l.top){let u=Qo(io(r,i,i+1),-1);if(u.top!=l.top)return Uu(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Uu(Qo(io(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Ir(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Dx(l.getBoundingClientRect(),!1)}if(o==null&&i<Ir(r)){let l=r.childNodes[i];if(l.nodeType==1)return Dx(l.getBoundingClientRect(),!0)}return Dx(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Ir(r))){let l=r.childNodes[i-1],c=l.nodeType==3?io(l,Ir(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Uu(Qo(c,1),!1)}if(o==null&&i<Ir(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?io(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Uu(Qo(c,-1),!0)}return Uu(Qo(r.nodeType==3?io(r):r,-n),n>=0)}function Uu(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Dx(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function nz(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function Ioe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return nz(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=tz(e,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=io(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const Roe=/[\u0590-\u08ac]/;function Doe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return a?!Roe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:nz(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:p,focusOffset:m}=e.domSelectionRange(),y=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let lM=null,cM=null,uM=!1;function Loe(e,t,n){return lM==t&&cM==n?uM:(lM=t,cM=n,uM=n=="up"||n=="down"?Ioe(e,t,n):Doe(e,t,n))}const Ur=0,dM=1,Aa=2,Vi=3;class sh{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ur,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>tn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>t||s instanceof iz){i=t-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof rz&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?tn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?tn(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&t<=c){let u=s+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=tn(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=tn(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],y=p+m.size;if(o>p&&s<y)return m.setSelection(t-p-m.border,n-p-m.border,r,i);p=y}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((zr||Mn)&&t==n){let{node:h,offset:p}=a;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let m=h,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:tn(y)+1});break}let v=m.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let m=h.childNodes[p-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(zr&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&Mn)&&el(a.node,a.offset,u.anchorNode,u.anchorOffset)&&el(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||t==n)&&!(d&&zr)){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+o.border,l=s-o.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?Aa:dM,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Vi:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Aa:Vi}r=s}this.dirty=Aa}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Aa:dM;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class rz extends sh{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==Ur&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $oe extends sh{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class tl extends sh{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=gl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new tl(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Vi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Vi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ur){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ur}}slice(t,n,r){let i=tl.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=k1(o,n,s,r)),t>0&&(o=k1(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ns extends sh{constructor(t,n,r,i,o,s,a,l,c){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=gl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=az(u,r,n),c?l=new Foe(t,n,r,i,u,d||null,f,c,o,s+1):n.isText?new fv(t,n,r,i,u,f,o):new Ns(t,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>F.empty)}return t}matchesNode(t,n,r){return this.dirty==Ur&&t.eq(this.node)&&rg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new zoe(this,s&&s.node,t);Woe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?$e.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,t);let h;l.findNodeMatch(c,u,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,t)||l.updateNextNode(c,u,d,t,f,i)||l.addNode(c,u,d,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Aa)&&(s&&this.protectLocalComposition(t,s),oz(this.contentDOM,this.children,t),Uc&&Hoe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof pe)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=Koe(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new $oe(this,o,n,i);t.input.compositionNodes.push(s),this.children=k1(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==Vi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ur}updateOuterDeco(t){if(rg(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=sz(this.dom,this.nodeDOM,S1(this.outerDeco,this.node,n),S1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function fM(e,t,n,r,i){az(r,t,e);let o=new Ns(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class fv extends Ns{constructor(t,n,r,i,o,s,a){super(t,n,r,i,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Vi||this.dirty!=Ur&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ur||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Ur,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new fv(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Vi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class iz extends sh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ur&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Foe extends Ns{constructor(t,n,r,i,o,s,a,l,c,u){super(t,n,r,i,o,s,a,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==Vi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function oz(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=hM(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof tl){let l=r?r.previousSibling:e.lastChild;oz(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=hM(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Rd=function(e){e&&(this.nodeName=e)};Rd.prototype=Object.create(null);const Pa=[new Rd];function S1(e,t,n){if(e.length==0)return Pa;let r=n?Pa[0]:new Rd,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new Rd(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Rd(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function sz(e,t,n,r){if(n==Pa&&r==Pa)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Pa[0]),i=l}Boe(i,a||Pa[0],s)}return i}function Boe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function az(e,t,n){return sz(e,e,Pa,S1(t,n,e.nodeType!=1))}function rg(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function hM(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class zoe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Uoe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ur,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=tl.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==Vi&&s.dom==s.contentDOM&&(s.dirty=Aa),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Ns){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Vi&&rg(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Aa,d.updateChildren(i,s+1),d.dirty=Ur),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!rg(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=Ns.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,o){let s=Ns.create(this.top,t,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new rz(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof tl;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof fv)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Mn||xn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new iz(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Uoe(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof tl)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function Voe(e,t){return e.type.side-t.type.side}function Woe(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let y=i[s++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(Voe);for(let y=0;y<d.length;y++)n(d[y],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<e.childCount)h=c,f=e.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=o&&a.splice(y--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let y=p;s<i.length&&i[s].from<y&&(y=i[s].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<p&&(l=f.cut(y-o),f=f.cut(0,y-o),p=y,h=-1)}else for(;s<i.length&&i[s].to<p;)s++;let m=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();r(f,m,t.forChild(o,f),h),o=p}}function Hoe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Koe(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function k1(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function VE(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(dv(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ae.isSelectable(d)&&i.parent&&!(d.isInline&&voe(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new ae(s==f?a:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,e.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,s]=f==e.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;c=WE(e,u,a,d)}return c}function lz(e){return e.editable?e.hasFocus():uz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function bo(e,t=!1){let n=e.state.selection;if(cz(e,n),!!lz(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&xn){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&el(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Goe(e);else{let{anchor:r,head:i}=n,o,s;pM&&!(n instanceof pe)&&(n.$from.parent.inlineContent||(o=mM(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=mM(e,n.to))),e.docView.setSelection(r,i,e,t),pM&&(o&&gM(o),s&&gM(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qoe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const pM=Mn||xn&&JB<63;function mM(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Mn&&i&&i.contentEditable=="false")return Lx(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Lx(i);if(o)return Lx(o)}}function Lx(e){return e.contentEditable="true",Mn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function gM(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function qoe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!lz(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Goe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,tn(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Xn&&Ms<=11&&(n.disabled=!0,n.disabled=!1)}function cz(e,t){if(t instanceof ae){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(yM(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else yM(e)}function yM(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function WE(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||pe.between(t,n,r)}function vM(e){return e.editable&&!e.hasFocus()?!1:uz(e)}function uz(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Yoe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return el(t.node,t.offset,n.anchorNode,n.anchorOffset)}function E1(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&xe.findFrom(o,t)}function ns(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function xM(e,t,n){let r=e.state.selection;if(r instanceof pe)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return ns(e,new pe(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=E1(e.state,t);return i&&i instanceof ae?ns(e,i):!1}else if(!(Or&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?ae.isSelectable(o)?ns(e,new ae(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):oh?ns(e,new pe(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ae&&r.node.isInline)return ns(e,new pe(t>0?r.$to:r.$from));{let i=E1(e.state,t);return i?ns(e,i):!1}}}function ig(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Dd(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Fl(e,t){return t<0?Joe(e):Xoe(e)}function Joe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(zr&&n.nodeType==1&&r<ig(n)&&Dd(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Dd(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(dz(n))break;{let a=n.previousSibling;for(;a&&Dd(a,-1);)i=n.parentNode,o=tn(a),a=a.previousSibling;if(a)n=a,r=ig(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?C1(e,n,r):i&&C1(e,i,o)}function Xoe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=ig(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Dd(a,1))o=n,s=++r;else break}else{if(dz(n))break;{let a=n.nextSibling;for(;a&&Dd(a,1);)o=a.parentNode,s=tn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=ig(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&C1(e,o,s)}function dz(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Qoe(e,t){for(;e&&t==e.childNodes.length&&!ih(e);)t=tn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function Zoe(e,t){for(;e&&!t&&!ih(e);)t=tn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function C1(e,t,n){if(t.nodeType!=3){let o,s;(s=Qoe(t,n))?(t=s,n=0):(o=Zoe(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(dv(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&bo(e)},50)}function bM(e,t){let n=e.state.doc.resolve(t);if(!(xn||woe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function wM(e,t,n){let r=e.state.selection;if(r instanceof pe&&!r.empty||n.indexOf("s")>-1||Or&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=E1(e.state,t);if(s&&s instanceof ae)return ns(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,a=r instanceof Br?xe.near(s,t):xe.findFrom(s,t);return a?ns(e,a):!1}return!1}function SM(e,t){if(!(e.state.selection instanceof pe))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function kM(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ese(e){if(!Mn||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;kM(e,r,"true"),setTimeout(()=>kM(e,r,"false"),20)}return!1}function tse(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function nse(e,t){let n=t.keyCode,r=tse(t);if(n==8||Or&&n==72&&r=="c")return SM(e,-1)||Fl(e,-1);if(n==46&&!t.shiftKey||Or&&n==68&&r=="c")return SM(e,1)||Fl(e,1);if(n==13||n==27)return!0;if(n==37||Or&&n==66&&r=="c"){let i=n==37?bM(e,e.state.selection.from)=="ltr"?-1:1:-1;return xM(e,i,r)||Fl(e,i)}else if(n==39||Or&&n==70&&r=="c"){let i=n==39?bM(e,e.state.selection.from)=="ltr"?1:-1:1;return xM(e,i,r)||Fl(e,i)}else{if(n==38||Or&&n==80&&r=="c")return wM(e,-1,r)||Fl(e,-1);if(n==40||Or&&n==78&&r=="c")return ese(e)||wM(e,1,r)||Fl(e,1);if(r==(Or?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function HE(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=e.someProp("clipboardSerializer")||gl.fromSchema(e.state.schema),a=yz(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=gz[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function fz(e,t,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,o||r,e)}),o)return a=new X(F.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",f=>{a=f(a,e,!0)}),a;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:h}=e.state,p=gl.fromSchema(h);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=s.appendChild(document.createElement("p"));m&&y.appendChild(p.serializeNode(h.text(m,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),s=sse(n),oh&&ase(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Os.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!rse.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=lse(EM(a,+u[1],+u[2]),u[4]);else if(a=X.maxOpen(ise(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=EM(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e,l)}),a}const rse=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ise(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&pz(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=mz(s[s.length-1],o.length));let u=hz(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return F.from(s)}return e}function hz(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,F.from(e));return e}function pz(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=pz(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(F.from(hz(n,e,i+1))))}}function mz(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,mz(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(F.empty,!0);return e.copy(n.append(r))}function T1(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),i<r-1&&(a=T1(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(F.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function EM(e,t,n){return t<e.openStart&&(e=new X(T1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new X(T1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const gz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let CM=null;function yz(){return CM||(CM=document.implementation.createHTMLDocument("title"))}let $x=null;function ose(e){let t=window.trustedTypes;return t?($x||($x=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),$x.createHTML(e)):e}function sse(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=yz().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&gz[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=ose(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function ase(e){let t=e.querySelectorAll(xn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function lse(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=F.from(l.create(r[a+1],i)),o++,s++}return new X(i,o,s)}const Nn={},jn={},cse={touchstart:!0,touchmove:!0};class use{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dse(e){for(let t in Nn){let n=Nn[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{hse(e,r)&&!KE(e,r)&&(e.editable||!(r.type in jn))&&n(e,r)},cse[t]?{passive:!0}:void 0)}Mn&&e.dom.addEventListener("input",()=>null),A1(e)}function vs(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function fse(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function A1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>KE(e,r))})}function KE(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function hse(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function pse(e,t){!KE(e,t)&&Nn[t.type]&&(e.editable||!(t.type in jn))&&Nn[t.type](e,t)}jn.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!xz(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(ho&&xn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Uc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,wa(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||nse(e,n)?n.preventDefault():vs(e,"key")};jn.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};jn.keypress=(e,t)=>{let n=t;if(xz(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Or&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof pe)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function hv(e){return{left:e.clientX,top:e.clientY}}function mse(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function qE(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,a=>s>o.depth?a(e,n,o.nodeAfter,o.before(s),i,!0):a(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ec(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function gse(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ae.isSelectable(r)?(Ec(e,new ae(n),"pointer"),!0):!1}function yse(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ae&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(ae.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Ec(e,ae.create(e.state.doc,i),"pointer"),!0):!1}function vse(e,t,n,r,i){return qE(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?yse(e,n):gse(e,n))}function xse(e,t,n,r){return qE(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function bse(e,t,n,r){return qE(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||wse(e,n,r)}function wse(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Ec(e,pe.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ec(e,pe.create(r,a+1,a+1+s.content.size),"pointer");else if(ae.isSelectable(s))Ec(e,ae.create(r,a),"pointer");else continue;return!0}}function GE(e){return og(e)}const vz=Or?"metaKey":"ctrlKey";Nn.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=GE(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&mse(n,e.input.lastClick)&&!n[vz]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=e.posAtCoords(hv(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Sse(e,s,n,!!r)):(o=="doubleClick"?xse:bse)(e,s.pos,s.inside,n)?n.preventDefault():vs(e,"pointer"))};class Sse{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[vz],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof ae&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),vs(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>bo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(hv(t))),this.updateAllowDefault(t),this.allowDefault||!n?vs(this.view,"pointer"):vse(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Mn&&this.mightDrag&&!this.mightDrag.node.isAtom||xn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ec(this.view,xe.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):vs(this.view,"pointer")}move(t){this.updateAllowDefault(t),vs(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Nn.touchstart=e=>{e.input.lastTouch=Date.now(),GE(e),vs(e,"pointer")};Nn.touchmove=e=>{e.input.lastTouch=Date.now(),vs(e,"pointer")};Nn.contextmenu=e=>GE(e);function xz(e,t){return e.composing?!0:Mn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const kse=ho?5e3:-1;jn.compositionstart=jn.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof pe&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),og(e,!0),e.markCursor=null;else if(og(e,!t.selection.empty),zr&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=e.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}bz(e,kse)};jn.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,bz(e,20))};function bz(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>og(e),t))}function wz(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Cse());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Ese(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=goe(t.focusNode,t.focusOffset),r=yoe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function Cse(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function og(e,t=!1){if(!(ho&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),wz(e),t||e.docView&&e.docView.dirty){let n=VE(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Tse(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const kf=Xn&&Ms<15||Uc&&Soe<604;Nn.copy=jn.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=kf?null:n.clipboardData,s=r.content(),{dom:a,text:l}=HE(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Tse(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ase(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Pse(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ef(e,r.value,null,i,t):Ef(e,r.textContent,r.innerHTML,i,t)},50)}function Ef(e,t,n,r,i){let o=fz(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||X.empty)))return!0;if(!o)return!1;let s=Ase(o),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Sz(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}jn.paste=(e,t)=>{let n=t;if(e.composing&&!ho)return;let r=kf?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Ef(e,Sz(r),r.getData("text/html"),i,n)?n.preventDefault():Pse(e,n)};class kz{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const _se=Or?"altKey":"ctrlKey";function Ez(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[_se]}Nn.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(hv(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ae?i.to-1:i.to))){if(r&&r.mightDrag)s=ae.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(s=ae.create(e.state.doc,d.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:c,slice:u}=HE(e,a);(!n.dataTransfer.files.length||!xn||JB>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(kf?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",kf||n.dataTransfer.setData("text/plain",c),e.dragging=new kz(u,Ez(e,n),s)};Nn.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};jn.dragover=jn.dragenter=(e,t)=>t.preventDefault();jn.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(hv(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",p=>{s=p(s,e,!1)}):s=fz(e,Sz(n.dataTransfer),kf?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&Ez(e,n));if(e.someProp("handleDrop",p=>p(e,n,s||X.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?zB(e.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=e.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&ae.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ae(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,y,v,b)=>p=b),c.setSelection(WE(e,h,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Nn.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&bo(e)},20))};Nn.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Nn.beforeinput=(e,t)=>{if(xn&&ho&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,wa(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in jn)Nn[e]=jn[e];function Cf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class sg{constructor(t,n){this.toDOM=t,this.spec=n||Fa,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new An(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof sg&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Cf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class js{constructor(t,n){this.attrs=t,this.spec=n||Fa}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new An(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof js&&Cf(this.attrs,t.attrs)&&Cf(this.spec,t.spec)}static is(t){return t.type instanceof js}destroy(){}}class YE{constructor(t,n){this.attrs=t,this.spec=n||Fa}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new An(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof YE&&Cf(this.attrs,t.attrs)&&Cf(this.spec,t.spec)}destroy(){}}class An{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new An(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new An(t,t,new sg(n,r))}static inline(t,n,r,i){return new An(t,n,new js(r,i))}static node(t,n,r,i){return new An(t,n,new YE(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof js}get widget(){return this.type instanceof sg}}const Wl=[],Fa={};class at{constructor(t,n){this.local=t.length?t:Wl,this.children=n.length?n:Wl}static create(t,n){return n.length?ag(n,t,0,Fa):mn}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,i+a,o)}}map(t,n,r){return this==mn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Fa)}mapInner(t,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Ose(this.children,s||[],t,n,r,i,o):s?new at(s.sort(Ba),Wl):mn}add(t,n){return n.length?this==mn?at.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((a,l)=>{let c=l+r,u;if(u=Tz(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,ag(u,a,c+1,Fa)),o+=3}});let s=Cz(o?Az(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new at(s.length?this.local.concat(s).sort(Ba):this.local,i||this.children)}remove(t){return t.length==0||this==mn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<l&&(t[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=mn?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new at(i,r):mn}forChild(t,n){if(this==mn)return this;if(n.isLeaf)return at.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof js){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new at(i.sort(Ba),Wl);return r?new ds([a,r]):a}return r||mn}eq(t){if(this==t)return!0;if(!(t instanceof at)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return JE(this.localsInner(t))}localsInner(t){if(this==mn)return Wl;if(t.inlineContent||!this.local.some(js.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof js||n.push(this.local[r]);return n}forEachSet(t){t(this)}}at.empty=new at([],[]);at.removeOverlap=JE;const mn=at.empty;class ds{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Fa));return ds.from(r)}forChild(t,n){if(n.isLeaf)return at.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=mn&&(o instanceof ds?r=r.concat(o.members):r.push(o))}return ds.from(r)}eq(t){if(!(t instanceof ds)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?JE(r?n:n.sort(Ba)):Wl}static from(t){switch(t.length){case 0:return mn;case 1:return t[0];default:return new ds(t.every(n=>n instanceof at)?t:t.reduce((n,r)=>n.concat(r instanceof at?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function Ose(e,t,n,r,i,o,s){let a=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,m)=>{let y=m-p-(h-f);for(let v=0;v<a.length;v+=3){let b=a[v+1];if(b<0||f>b+u-d)continue;let w=a[v]+u-d;h>=w?a[v+1]=f<=w?-2:-1:f>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[c+1]+o,-1),h=f-i,{index:p,offset:m}=r.content.findIndex(d),y=r.maybeChild(p);if(y&&m==d&&m+y.nodeSize==h){let v=a[c+2].mapInner(n,y,u+1,e[c]+o+1,s);v!=mn?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Mse(a,e,t,n,i,o,s),u=ag(c,r,0,s);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new at(t.sort(Ba),a)}function Cz(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new An(i.from+t,i.to+t,i.type))}return n}function Mse(e,t,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function Tz(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function Az(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function ag(e,t,n,r){let i=[],o=!1;t.forEach((a,l)=>{let c=Tz(e,a,l+n);if(c){o=!0;let u=ag(c,a,n+l+1,r);u!=mn&&i.push(l,l+a.nodeSize,u)}});let s=Cz(o?Az(e):e,-n).sort(Ba);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new at(s,i):mn}function Ba(e,t){return e.from-t.from||e.to-t.to}function JE(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),TM(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),TM(t,i,r.copy(o.from,r.to)));break}}}return t}function TM(e,t,n){for(;t<e.length&&Ba(n,e[t])>0;)t++;e.splice(t,0,n)}function Fx(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=mn&&t.push(r)}),e.cursorWrapper&&t.push(at.create(e.state.doc,[e.cursorWrapper.deco])),ds.from(t)}const Nse={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jse=Xn&&Ms<=11;class Ise{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Rse{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ise,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Xn&&Ms<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jse&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Nse)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(vM(this.view)){if(this.suppressingSelectionUpdates)return bo(this.view);if(Xn&&Ms<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&el(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=zc(o))n.add(o);for(let o=t.anchorNode;o;o=zc(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&vM(t)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(zr&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||$se(t,d)!=h)&&f.remove()}}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&dv(r)&&(c=VE(t))&&c.eq(xe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,bo(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),Dse(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||bo(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Xn&&Ms<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==t.target?tn(i)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?tn(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let AM=new WeakMap,PM=!1;function Dse(e){if(!AM.has(e)&&(AM.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=zr,PM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),PM=!0}}function _M(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return el(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Lse(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return _M(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?_M(e,n):null}function $se(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Fse(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],dv(l)||c.push({node:l.focusNode,offset:l.focusOffset})),xn&&e.input.lastKeyCode===8)for(let y=o;y>i;y--){let v=r.childNodes[y-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=y;break}if(!b||b.size)break}let d=e.state.doc,f=e.someProp("domParser")||Os.fromSchema(e.state.schema),h=d.resolve(s),p=null,m=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Bse,context:h});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),p={anchor:y+s,head:v+s}}return{doc:m,sel:p,from:s,to:a}}function Bse(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Mn&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Mn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zse=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Use(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let k=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,C=VE(e,k);if(C&&!e.state.selection.eq(C)){if(xn&&ho&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",O=>O(e,wa(13,"Enter"))))return;let A=e.state.tr.setSelection(C);k=="pointer"?A.setMeta("pointer",!0):k=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),e.dispatch(A)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=Fse(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let p=Hse(d.content,c.doc.content,c.from,f,h);if(p&&e.input.domChangeCount++,(Uc&&e.input.lastIOSEnter>Date.now()-225||ho)&&i.some(k=>k.nodeType==1&&!zse.test(k.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",k=>k(e,wa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof pe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let k=OM(e,e.state.doc,c.sel);if(k&&!k.eq(e.state.selection)){let C=e.state.tr.setSelection(k);o&&C.setMeta("composition",o),e.dispatch(C)}}return}e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof pe&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),Xn&&Ms<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),y=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),b=m.sameParent(y)&&m.parent.inlineContent&&v.end()>=p.endA;if((Uc&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(k=>k.nodeName=="DIV"||k.nodeName=="P"))||!b&&m.pos<c.doc.content.size&&(!m.sameParent(y)||!m.parent.inlineContent)&&m.pos<y.pos&&!/\S/.test(c.doc.textBetween(m.pos,y.pos,"","")))&&e.someProp("handleKeyDown",k=>k(e,wa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>p.start&&Wse(u,p.start,p.endA,m,y)&&e.someProp("handleKeyDown",k=>k(e,wa(8,"Backspace")))){ho&&xn&&e.domObserver.suppressSelectionUpdates();return}xn&&p.endB==p.start&&(e.input.lastChromeDelete=Date.now()),ho&&!b&&m.start()!=y.start()&&y.parentOffset==0&&m.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,y=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(k){return k(e,wa(13,"Enter"))})},20));let w=p.start,S=p.endA,E=k=>{let C=k||e.state.tr.replace(w,S,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let A=OM(e,C.doc,c.sel);A&&!(xn&&e.composing&&A.empty&&(p.start!=p.endB||e.input.lastChromeDelete<Date.now()-100)&&(A.head==w||A.head==C.mapping.map(S)-1)||Xn&&A.empty&&A.head==w)&&C.setSelection(A)}return o&&C.setMeta("composition",o),C.scrollIntoView()},T;if(b){if(m.pos==y.pos){Xn&&Ms<=11&&m.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>bo(e),20));let k=E(e.state.tr.delete(w,S)),C=u.resolve(p.start).marksAcross(u.resolve(p.endA));C&&k.ensureMarks(C),e.dispatch(k)}else if(p.endA==p.endB&&(T=Vse(m.parent.content.cut(m.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let k=E(e.state.tr);T.type=="add"?k.addMark(w,S,T.mark):k.removeMark(w,S,T.mark),e.dispatch(k)}else if(m.parent.child(m.index()).isText&&m.index()==y.index()-(y.textOffset?0:1)){let k=m.parent.textBetween(m.parentOffset,y.parentOffset),C=()=>E(e.state.tr.insertText(k,w,S));e.someProp("handleTextInput",A=>A(e,w,S,k,C))||e.dispatch(C())}}else e.dispatch(E())}function OM(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:WE(e,t.resolve(n.anchor),t.resolve(n.head))}function Vse(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(F.from(c).eq(e))return{mark:a,type:s}}function Wse(e,t,n,r,i){if(n-t<=i.pos-r.pos||Bx(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(Bx(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Bx(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Bx(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Hse(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&e.size<t.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&MM(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&MM(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function MM(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Pz{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new use,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(DM),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=IM(this),jM(this),this.nodeViews=RM(this),this.docView=fM(this.state.doc,NM(this),Fx(this),this.dom,this),this.domObserver=new Rse(this,(r,i,o,s)=>Use(this,r,i,o,s)),this.domObserver.start(),dse(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&A1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(DM),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(wz(this),s=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=RM(this);qse(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&A1(this),this.editable=IM(this),jM(this);let l=Fx(this),c=NM(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(i.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Coe(this);if(s){this.domObserver.stop();let h=d&&(Xn||xn)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Kse(i.selection,t.selection);if(d){let p=xn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ese(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=fM(t.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Yoe(this))?bo(this,h):(cz(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&Toe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ae){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&sM(this,n.getBoundingClientRect(),t)}else sM(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new kz(t.slice,t.move,i<0?void 0:ae.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Xn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Aoe(this.dom),bo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Noe(this,t)}coordsAtPos(t,n=1){return tz(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Loe(this,n||this.state,t)}pasteHTML(t,n){return Ef(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Ef(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return HE(this,t)}destroy(){this.docView&&(fse(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Fx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,poe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return pse(this,t)}domSelectionRange(){let t=this.domSelection();return t?Mn&&this.root.nodeType===11&&xoe(this.dom.ownerDocument)==this.dom&&Lse(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Pz.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function NM(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[An.node(0,e.state.doc.content.size,t)]}function jM(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:An.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function IM(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Kse(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function RM(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function qse(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function DM(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var zs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},lg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Gse=typeof navigator<"u"&&/Mac/.test(navigator.platform),Yse=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var nn=0;nn<10;nn++)zs[48+nn]=zs[96+nn]=String(nn);for(var nn=1;nn<=24;nn++)zs[nn+111]="F"+nn;for(var nn=65;nn<=90;nn++)zs[nn]=String.fromCharCode(nn+32),lg[nn]=String.fromCharCode(nn);for(var zx in zs)lg.hasOwnProperty(zx)||(lg[zx]=zs[zx]);function Jse(e){var t=Gse&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Yse&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?lg:zs)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Xse=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Qse=typeof navigator<"u"&&/Win/.test(navigator.platform);function Zse(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Xse?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function eae(e){let t=Object.create(null);for(let n in e)t[Zse(n)]=e[n];return t}function Ux(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function tae(e){return new yt({props:{handleKeyDown:_z(e)}})}function _z(e){let t=eae(e);return function(n,r){let i=Jse(r),o,s=t[Ux(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[Ux(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Qse&&r.ctrlKey&&r.altKey)&&(o=zs[r.keyCode])&&o!=i){let a=t[Ux(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const nae=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Oz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const rae=(e,t,n)=>{let r=Oz(e,n);if(!r)return!1;let i=XE(r);if(!i){let s=r.blockRange(),a=s&&hu(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(Iz(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Vc(o,"end")||ae.isSelectable(o)))for(let s=r.depth;;s--){let a=cv(e.doc,r.before(s),r.after(s),X.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(Vc(o,"end")?xe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ae.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},iae=(e,t,n)=>{let r=Oz(e,n);if(!r)return!1;let i=XE(r);return i?Mz(e,i,t):!1},oae=(e,t,n)=>{let r=Nz(e,n);if(!r)return!1;let i=QE(r);return i?Mz(e,i,t):!1};function Mz(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=cv(e.doc,o,l,X.empty);if(!c||c.from!=o||c instanceof zt&&c.slice.size>=l-o)return!1;if(n){let u=e.tr.step(c);u.setSelection(pe.create(u.doc,o)),n(u.scrollIntoView())}return!0}function Vc(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const sae=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=XE(r)}let s=o&&o.nodeBefore;return!s||!ae.isSelectable(s)?!1:(t&&t(e.tr.setSelection(ae.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function XE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Nz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const aae=(e,t,n)=>{let r=Nz(e,n);if(!r)return!1;let i=QE(r);if(!i)return!1;let o=i.nodeAfter;if(Iz(e,i,t,1))return!0;if(r.parent.content.size==0&&(Vc(o,"start")||ae.isSelectable(o))){let s=cv(e.doc,r.before(),r.after(),X.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(Vc(o,"start")?xe.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ae.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},lae=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=QE(r)}let s=o&&o.nodeAfter;return!s||!ae.isSelectable(s)?!1:(t&&t(e.tr.setSelection(ae.create(e.doc,o.pos)).scrollIntoView()),!0)};function QE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const cae=(e,t)=>{let n=e.selection,r=n instanceof ae,i;if(r){if(n.node.isTextblock||!Qs(e.doc,n.from))return!1;i=n.from}else if(i=lv(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(ae.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},uae=(e,t)=>{let n=e.selection,r;if(n instanceof ae){if(n.node.isTextblock||!Qs(e.doc,n.to))return!1;r=n.to}else if(r=lv(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},dae=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&hu(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},fae=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function jz(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const hae=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=jz(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(xe.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},pae=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Br||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=jz(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(pe.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},mae=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Sc(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&hu(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},gae=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(ae.create(e.doc,i))),!0)};function yae(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||Qs(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Iz(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&yae(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=t.pos+o.nodeSize,p=F.empty;for(let v=s.length-1;v>=0;v--)p=F.from(s[v].create(null,p));p=F.from(i.copy(p));let m=e.tr.step(new Vt(t.pos-1,h,t.pos,h,new X(p,1,0),s.length,!0)),y=m.doc.resolve(h+2*s.length);y.nodeAfter&&y.nodeAfter.type==i.type&&Qs(m.doc,y.pos)&&m.join(y.pos),n(m.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:xe.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),f=d&&hu(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(c&&Vc(o,"start",!0)&&Vc(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=o,y=1;for(;!m.isTextblock;m=m.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(n){let v=F.empty;for(let w=p.length-1;w>=0;w--)v=F.from(p[w].copy(v));let b=e.tr.step(new Vt(t.pos-p.length,t.pos+o.nodeSize,t.pos+y,t.pos+o.nodeSize-y,new X(v,p.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function Rz(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(pe.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const vae=Rz(-1),xae=Rz(1);function bae(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&BE(s,e,t);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function LM(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,e,t)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wae(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return Sae(a,s,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function Sae(e,t,n,r=null){let i=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new tg(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new tg(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let a=BE(o,n,r,t);return a?(e&&kae(e,t,a,i,n),!0):!1}function kae(e,t,n,r,i){let o=F.empty;for(let u=n.length-1;u>=0;u--)o=F.from(n[u].type.create(n[u].attrs,o));e.step(new Vt(t.start-(r?2:0),t.end,t.start,t.end,new X(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,f=!0;u<d;u++,f=!1)!f&&Sc(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function Eae(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?Cae(t,n,e,o):Tae(t,n,o):!0:!1}}function Cae(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Vt(o-1,s,o,s,new X(F.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new tg(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=hu(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return Qs(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function Tae(e,t,n){let r=e.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?F.empty:F.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Vt(d-(a?1:0),f+(l?1:0),d+1,f-1,new X((a?F.empty:F.from(i.copy(F.empty))).append(l?F.empty:F.from(i.copy(F.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function Aae(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=F.from(c?e.create():null),d=new X(F.from(e.create(null,F.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(t.tr.step(new Vt(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}var Pae=Object.defineProperty,Dz=(e,t)=>{for(var n in t)Pae(e,n,{get:t[n],enumerable:!0})};function pv(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var mv=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([s,a])=>[s,(...c)=>{const u=a(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s=[],a=!!e,l=e||i.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),s.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>{const m=this.buildProps(l,t),y=f(...p)(m);return s.push(y),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s={tr:e,editor:r,view:o,state:pv({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(s)]))}};return s}},_ae=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const r=(...i)=>{this.off(t,r),n.apply(this,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}};function Lz(e,t){const n=new KB(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var $z=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&$z(r)}return e};function cp(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return $z(n)}function Tf(e,t,n){if(e instanceof _s||e instanceof F)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return F.fromArray(e.map(a=>t.nodeFromJSON(a)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Tf("",t,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new OB({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Os.fromSchema(l).parseSlice(cp(e),n.parseOptions):Os.fromSchema(l).parse(cp(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Os.fromSchema(t);return n.slice?o.parseSlice(cp(e),n.parseOptions).content:o.parse(cp(e),n.parseOptions)}return Tf("",t,n)}function P1(e,t,n={},r={}){return Tf(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function Oae(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Mae(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function Nae(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function gv(e){return t=>Nae(t.$from,e)}function ie(e,t,n){return e.config[t]===void 0&&e.parent?ie(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?ie(e.parent,t,n):null}):e.config[t]}function ZE(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=ie(t,"addExtensions",n);return r?[t,...ZE(r())]:t}).flat(10)}function eC(e,t){const n=gl.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Fz(e){return typeof e=="function"}function Ne(e,t=void 0,...n){return Fz(e)?t?e.bind(t)(...n):e(...n):e}function jae(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Af(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Bz(e){const t=[],{nodeExtensions:n,markExtensions:r}=Af(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=ie(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=ie(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:s.name,name:u,attribute:f})})}),t}function bt(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function cg(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>bt(n,r),{})}function Iae(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function $M(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):Iae(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function FM(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&jae(n)?!1:n!=null))}function Rae(e,t){var n;const r=Bz(e),{nodeExtensions:i,markExtensions:o}=Af(e),s=(n=i.find(c=>ie(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((v,b)=>{const w=ie(b,"extendNodeSchema",d);return{...v,...w?w(c):{}}},{}),h=FM({...f,content:Ne(ie(c,"content",d)),marks:Ne(ie(c,"marks",d)),group:Ne(ie(c,"group",d)),inline:Ne(ie(c,"inline",d)),atom:Ne(ie(c,"atom",d)),selectable:Ne(ie(c,"selectable",d)),draggable:Ne(ie(c,"draggable",d)),code:Ne(ie(c,"code",d)),whitespace:Ne(ie(c,"whitespace",d)),linebreakReplacement:Ne(ie(c,"linebreakReplacement",d)),defining:Ne(ie(c,"defining",d)),isolating:Ne(ie(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var b,w;return[v.name,{default:(b=v==null?void 0:v.attribute)==null?void 0:b.default,validate:(w=v==null?void 0:v.attribute)==null?void 0:w.validate}]}))}),p=Ne(ie(c,"parseHTML",d));p&&(h.parseDOM=p.map(v=>$M(v,u)));const m=ie(c,"renderHTML",d);m&&(h.toDOM=v=>m({node:v,HTMLAttributes:cg(v,u)}));const y=ie(c,"renderText",d);return y&&(h.toText=y),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((y,v)=>{const b=ie(v,"extendMarkSchema",d);return{...y,...b?b(c):{}}},{}),h=FM({...f,inclusive:Ne(ie(c,"inclusive",d)),excludes:Ne(ie(c,"excludes",d)),group:Ne(ie(c,"group",d)),spanning:Ne(ie(c,"spanning",d)),code:Ne(ie(c,"code",d)),attrs:Object.fromEntries(u.map(y=>{var v,b;return[y.name,{default:(v=y==null?void 0:y.attribute)==null?void 0:v.default,validate:(b=y==null?void 0:y.attribute)==null?void 0:b.validate}]}))}),p=Ne(ie(c,"parseHTML",d));p&&(h.parseDOM=p.map(y=>$M(y,u)));const m=ie(c,"renderHTML",d);return m&&(h.toDOM=y=>m({mark:y,HTMLAttributes:cg(y,u)})),[c.name,h]}));return new OB({topNode:s,nodes:a,marks:l})}function Dae(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function tC(e){return e.sort((n,r)=>{const i=ie(n,"priority")||100,o=ie(r,"priority")||100;return i>o?-1:i<o?1:0})}function zz(e){const t=tC(ZE(e)),n=Dae(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function Uz(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function Lae(e,t){const n={from:0,to:e.content.size};return Uz(e,n,t)}function Vz(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Lo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function Wz(e,t){const n=Lo(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function At(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function $ae(e,t){const n=At(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function yv(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Hz(e,t){const n=yv(typeof t=="string"?t:t.name,e.schema);return n==="node"?$ae(e,t):n==="mark"?Wz(e,t):{}}function Fae(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Bae(e){const t=Fae(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function Kz(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=t.slice(o).map(a,-1),u=t.slice(o).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),Bae(r)}function nC(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function ug(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:nC(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function qz(e,t,n={}){return e.find(r=>r.type===t&&ug(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function BM(e,t,n={}){return!!qz(e,t,n)}function rC(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!qz([...i.node.marks],t,n)))return;let s=i.index,a=e.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&BM([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&BM([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function iC(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),s=rC(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(e,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}var zae=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let o=r,s=null;for(;o>0&&s===null;){const a=i.node(o);(a==null?void 0:a.type.name)===t?s=a:o-=1}return[s,o]};function Vx(e,t){return t.nodes[e]||t.marks[e]||null}function om(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var Uae=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function _1(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?Lo(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>ug(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;e.doc.nodesBetween(h,p,(m,y)=>{if(!m.isText&&!m.marks.length)return;const v=Math.max(h,y),b=Math.min(p,y+m.nodeSize),w=b-v;s+=w,a.push(...m.marks.map(S=>({mark:S,from:v,to:b})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>ug(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function Us(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?At(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>ug(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}function Vae(e,t,n={}){if(!t)return Us(e,null,n)||_1(e,null,n);const r=yv(t,e.schema);return r==="node"?Us(e,t,n):r==="mark"?_1(e,t,n):!1}var Wae=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const o=gv(a=>a.type.name===t)(e.selection);if(!o)return!1;const s=e.doc.resolve(o.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},Hae=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function zM(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function UM(e,t){const{nodeExtensions:n}=Af(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ne(ie(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function vv(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(vv(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function Gz(e){return e instanceof ae}function Yz(e){return e instanceof pe}function _a(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Jz(e,t=null){if(!t)return null;const n=xe.atStart(e),r=xe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?pe.create(e,_a(0,i,o),_a(e.content.size,i,o)):pe.create(e,_a(t,i,o),_a(t,i,o))}function Kae(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof zt||i instanceof Vt))return;const o=e.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),e.setSelection(xe.near(e.doc.resolve(s),n))}var xv=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},qae=(e,t)=>{if(nC(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function up(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=Uae(c)+o;return s.forEach(f=>{if(u)return;const h=qae(d,f.find);if(!h)return;const p=l.state.tr,m=pv({state:l.state,transaction:p}),y={from:r-(h[0].length-o.length),to:i},{commands:v,chain:b,can:w}=new mv({editor:n,state:m});f.handler({state:m,range:y,match:h,commands:v,chain:b,can:w})===null||!p.steps.length||(f.undoable&&p.setMeta(a,{transform:p,from:r,to:i,text:o}),l.dispatch(p),u=!0)}),u}function Gae(e){const{editor:t,rules:n}=e,r=new yt({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=eC(F.from(u),s.schema);const{from:d}=l,f=d+u.length;up({editor:t,from:d,to:f,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return up({editor:t,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&up({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?up({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Yae(e){return Object.prototype.toString.call(e).slice(8,-1)}function dp(e){return Yae(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Xz(e,t){const n={...e};return dp(e)&&dp(t)&&Object.keys(t).forEach(r=>{dp(t[r])&&dp(e[r])?n[r]=Xz(e[r],t[r]):n[r]=t[r]}),n}var oC=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...Ne(ie(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ne(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Xz(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},yl=class Qz extends oC{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new Qz(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Jae(e){return typeof e=="number"}var Xae=class{constructor(e){this.find=e.find,this.handler=e.handler}},Qae=(e,t,n)=>{if(nC(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function Zae(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new mv({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,p)=>{var m,y,v,b,w;if((y=(m=h.type)==null?void 0:m.spec)!=null&&y.code||!(h.isText||h.isTextblock||h.isInline))return;const S=(w=(b=(v=h.content)==null?void 0:v.size)!=null?b:h.nodeSize)!=null?w:0,E=Math.max(r,p),T=Math.min(i,p+S);if(E>=T)return;const k=h.isText?h.text||"":h.textBetween(E-p,T-p,void 0,"￼");Qae(k,o.find,s).forEach(A=>{if(A.index===void 0)return;const O=E+A.index+1,M=O+A[0].length,N={from:n.tr.mapping.map(O),to:n.tr.mapping.map(M)},L=o.handler({state:n,range:N,match:A,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(L)})}),d.every(h=>h!==null)}var fp=null,ele=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function tle(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const m=u.tr,y=pv({state:u,transaction:m});if(!(!Zae({editor:t,state:y,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new yt({view(d){const f=p=>{var m;r=(m=d.dom.parentElement)!=null&&m.contains(p.target)?d.dom.parentElement:null,r&&(fp=t)},h=()=>{fp&&(fp=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(o=r===d.dom.parentElement,a=f,!o){const h=fp;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)==null?void 0:h.getData("text/html");return s=f,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],m=p.getMeta("uiEvent")==="paste"&&!i,y=p.getMeta("uiEvent")==="drop"&&!o,v=p.getMeta("applyPasteRules"),b=!!v;if(!m&&!y&&!b)return;if(b){let{text:E}=v;typeof E=="string"?E=E:E=eC(F.from(E),h.schema);const{from:T}=v,k=T+E.length,C=ele(E);return l({rule:u,state:h,from:T,to:{b:k},pasteEvt:C})}const w=f.doc.content.findDiffStart(h.doc.content),S=f.doc.content.findDiffEnd(h.doc.content);if(!(!Jae(w)||!S||w===S.b))return l({rule:u,state:h,from:w,to:S,pasteEvt:s})}}))}var bv=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=zz(e),this.schema=Rae(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Vx(t.name,this.schema)},r=ie(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return tC([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:Vx(r.name,this.schema)},o=[],s=ie(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&ie(r,"exitable",i)&&(a.ArrowRight=()=>yl.handleExit({editor:e,mark:r})),s){const f=Object.fromEntries(Object.entries(s()).map(([h,p])=>[h,()=>p({editor:e})]));a={...a,...f}}const l=tae(a);o.push(l);const c=ie(r,"addInputRules",i);if(zM(r,e.options.enableInputRules)&&c){const f=c();if(f&&f.length){const h=Gae({editor:e,rules:f}),p=Array.isArray(h)?h:[h];o.push(...p)}}const u=ie(r,"addPasteRules",i);if(zM(r,e.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const h=tle({editor:e,rules:f});o.push(...h)}}const d=ie(r,"addProseMirrorPlugins",i);if(d){const f=d();o.push(...f)}return o})}get attributes(){return Bz(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Af(this.extensions);return Object.fromEntries(t.filter(n=>!!ie(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:At(n.name,this.schema)},o=ie(n,"addNodeView",i);if(!o)return[];const s=(a,l,c,u,d)=>{const f=cg(a,r);return o()({node:a,view:l,getPos:c,decorations:u,innerDecorations:d,editor:e,extension:n,HTMLAttributes:f})};return[n.name,s]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Af(this.extensions);return Object.fromEntries(t.filter(n=>!!ie(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Lo(n.name,this.schema)},o=ie(n,"addMarkView",i);if(!o)return[];const s=(a,l,c)=>{const u=cg(a,r);return o()({mark:a,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:d=>{gce(a,e,d)}})};return[n.name,s]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:Vx(t.name,this.schema)};t.type==="mark"&&((n=Ne(ie(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=ie(t,"onBeforeCreate",r),o=ie(t,"onCreate",r),s=ie(t,"onUpdate",r),a=ie(t,"onSelectionUpdate",r),l=ie(t,"onTransaction",r),c=ie(t,"onFocus",r),u=ie(t,"onBlur",r),d=ie(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};bv.resolve=zz;bv.sort=tC;bv.flatten=ZE;var nle={};Dz(nle,{ClipboardTextSerializer:()=>e3,Commands:()=>r3,Delete:()=>i3,Drop:()=>o3,Editable:()=>s3,FocusEvents:()=>l3,Keymap:()=>c3,Paste:()=>u3,Tabindex:()=>d3,focusEventsPluginKey:()=>a3});var Pt=class Zz extends oC{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Zz(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},e3=Pt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new yt({key:new Kt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=Vz(n);return Uz(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),t3={};Dz(t3,{blur:()=>rle,clearContent:()=>ile,clearNodes:()=>ole,command:()=>sle,createParagraphNear:()=>ale,cut:()=>lle,deleteCurrentNode:()=>cle,deleteNode:()=>ule,deleteRange:()=>dle,deleteSelection:()=>fle,enter:()=>hle,exitCode:()=>ple,extendMarkRange:()=>mle,first:()=>gle,focus:()=>vle,forEach:()=>xle,insertContent:()=>ble,insertContentAt:()=>Sle,joinBackward:()=>Cle,joinDown:()=>Ele,joinForward:()=>Tle,joinItemBackward:()=>Ale,joinItemForward:()=>Ple,joinTextblockBackward:()=>_le,joinTextblockForward:()=>Ole,joinUp:()=>kle,keyboardShortcut:()=>Nle,lift:()=>jle,liftEmptyBlock:()=>Ile,liftListItem:()=>Rle,newlineInCode:()=>Dle,resetAttributes:()=>Lle,scrollIntoView:()=>$le,selectAll:()=>Fle,selectNodeBackward:()=>Ble,selectNodeForward:()=>zle,selectParentNode:()=>Ule,selectTextblockEnd:()=>Vle,selectTextblockStart:()=>Wle,setContent:()=>Hle,setMark:()=>qle,setMeta:()=>Gle,setNode:()=>Yle,setNodeSelection:()=>Jle,setTextSelection:()=>Xle,sinkListItem:()=>Qle,splitBlock:()=>Zle,splitListItem:()=>ece,toggleList:()=>tce,toggleMark:()=>nce,toggleNode:()=>rce,toggleWrap:()=>ice,undoInputRule:()=>oce,unsetAllMarks:()=>sce,unsetMark:()=>ace,updateAttributes:()=>lce,wrapIn:()=>cce,wrapInList:()=>uce});var rle=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),ile=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),ole=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=hu(h);if(a.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,m)}(p||p===0)&&t.lift(h,p)})}),!0},sle=e=>t=>e(t),ale=()=>({state:e,dispatch:t})=>pae(e,t),lle=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,o.content),r.setSelection(new pe(r.doc.resolve(Math.max(s-1,0)))),!0},cle=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const a=i.before(o),l=i.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1},ule=e=>({tr:t,state:n,dispatch:r})=>{const i=At(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},dle=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},fle=()=>({state:e,dispatch:t})=>nae(e,t),hle=()=>({commands:e})=>e.keyboardShortcut("Enter"),ple=()=>({state:e,dispatch:t})=>hae(e,t),mle=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=Lo(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=rC(l,o,t);if(d&&d.from<=c&&d.to>=u){const f=pe.create(s,d.from,d.to);n.setSelection(f)}}return!0},gle=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function yle(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function sC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var vle=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{(sC()||yle())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!Yz(n.state.selection))return s(),!0;const a=Jz(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},xle=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),ble=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),wle=e=>!("type"in e),Sle=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Tf(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=Tf(t,o.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:o.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,h=!0;if((wle(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,h=h?y.isBlock:!1}),u===d&&h){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,d+=1)}let m;if(f){if(Array.isArray(t))m=t.map(y=>y.text||"").join("");else if(t instanceof F){let y="";t.forEach(v=>{v.text&&(y+=v.text)}),m=y}else typeof t=="object"&&t&&t.text?m=t.text:m=t;r.insertText(m,u,d)}else{m=a;const y=r.doc.resolve(u),v=y.node(),b=y.parentOffset===0,w=v.isText||v.isTextblock,S=v.content.size>0;b&&w&&S&&(u=Math.max(0,u-1)),r.replaceWith(u,d,m)}n.updateSelection&&Kae(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:m})}return!0},kle=()=>({state:e,dispatch:t})=>cae(e,t),Ele=()=>({state:e,dispatch:t})=>uae(e,t),Cle=()=>({state:e,dispatch:t})=>rae(e,t),Tle=()=>({state:e,dispatch:t})=>aae(e,t),Ale=()=>({state:e,dispatch:t,tr:n})=>{try{const r=lv(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Ple=()=>({state:e,dispatch:t,tr:n})=>{try{const r=lv(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},_le=()=>({state:e,dispatch:t})=>iae(e,t),Ole=()=>({state:e,dispatch:t})=>oae(e,t);function n3(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Mle(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))sC()||n3()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var Nle=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=Mle(e).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0},jle=(e,t={})=>({state:n,dispatch:r})=>{const i=At(e,n.schema);return Us(n,i,t)?dae(n,r):!1},Ile=()=>({state:e,dispatch:t})=>mae(e,t),Rle=e=>({state:t,dispatch:n})=>{const r=At(e,t.schema);return Eae(r)(t,n)},Dle=()=>({state:e,dispatch:t})=>fae(e,t);function VM(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var Lle=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=yv(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(o=At(e,r.schema)),a==="mark"&&(s=Lo(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,VM(c.attrs,t)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(VM(d.attrs,t)))})})}),!0):!1},$le=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Fle=()=>({tr:e,dispatch:t})=>{if(t){const n=new Br(e.doc);e.setSelection(n)}return!0},Ble=()=>({state:e,dispatch:t})=>sae(e,t),zle=()=>({state:e,dispatch:t})=>lae(e,t),Ule=()=>({state:e,dispatch:t})=>gae(e,t),Vle=()=>({state:e,dispatch:t})=>xae(e,t),Wle=()=>({state:e,dispatch:t})=>vae(e,t),Hle=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=P1(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return s&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return s&&o.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function Kle(e,t,n){var r;const{selection:i}=t;let o=null;if(Yz(i)&&(o=i.$cursor),o){const a=(r=e.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=h&&p}return!c}),c})}var qle=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=Lo(e,r.schema);if(i)if(s){const c=Wz(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),m=Math.min(h+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(p,m,l.create({...v.attrs,...t}))}):n.addMark(p,m,l.create(t))})});return Kle(r,n,l)},Gle=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Yle=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=At(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>LM(o,{...s,...t})(n)?!0:a.clearNodes()).command(({state:a})=>LM(o,{...s,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Jle=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=_a(e,0,r.content.size),o=ae.create(r,i);t.setSelection(o)}return!0},Xle=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,s=pe.atStart(r).from,a=pe.atEnd(r).to,l=_a(i,s,a),c=_a(o,s,a),u=pe.create(r,l,c);t.setSelection(u)}return!0},Qle=e=>({state:t,dispatch:n})=>{const r=At(e,t.schema);return Aae(r)(t,n)};function WM(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var Zle=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=om(c,a.node().type.name,a.node().attrs);if(o instanceof ae&&o.node.isBlock)return!a.parentOffset||!Sc(s,a.pos)?!1:(r&&(e&&WM(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:Oae(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=Sc(t.doc,t.mapping.map(a.pos),1,h);if(!h&&!p&&Sc(t.doc,t.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(p&&(o instanceof pe&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const m=t.mapping.map(a.before()),y=t.doc.resolve(m);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&t.setNodeMarkup(t.mapping.map(a.before()),f)}e&&WM(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return p},ece=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=At(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=F.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-b;C>=l.depth-3;C-=1)v=F.from(l.node(C).copy(v));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...om(f,l.node().type.name,l.node().attrs),...t},E=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(S))||void 0;v=v.append(F.from(a.createAndFill(null,E)||void 0));const T=l.before(l.depth-(b-1));n.replace(T,l.after(-w),new X(v,4-b,0));let k=-1;n.doc.nodesBetween(T,n.doc.content.size,(C,A)=>{if(k>-1)return!1;C.isTextblock&&C.content.size===0&&(k=A+1)}),k>-1&&n.setSelection(pe.near(n.doc.resolve(k))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...om(f,d.type.name,d.attrs),...t},m={...om(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const y=h?[{type:a,attrs:p},{type:h,attrs:m}]:[{type:a,attrs:p}];if(!Sc(n.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=r,{splittableMarks:w}=o.extensionManager,S=b||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!S||!i)return!0;const E=S.filter(T=>w.includes(T.type.name));n.ensureMarks(E)}return!0},Wx=(e,t)=>{const n=gv(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Qs(e.doc,n.pos)&&e.join(n.pos),!0},Hx=(e,t)=>{const n=gv(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Qs(e.doc,r)&&e.join(r),!0},tce=(e,t,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=At(e,s.schema),p=At(t,s.schema),{selection:m,storedMarks:y}=s,{$from:v,$to:b}=m,w=v.blockRange(b),S=y||m.$to.parentOffset&&m.$from.marks();if(!w)return!1;const E=gv(T=>UM(T.type.name,d))(m);if(w.depth>=1&&E&&w.depth-E.depth<=1){if(E.node.type===h)return c.liftListItem(p);if(UM(E.node.type.name,d)&&h.validContent(E.node.content)&&a)return l().command(()=>(o.setNodeMarkup(E.pos,h),!0)).command(()=>Wx(o,h)).command(()=>Hx(o,h)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>Wx(o,h)).command(()=>Hx(o,h)).run():l().command(()=>{const T=u().wrapInList(h,r),k=S.filter(C=>f.includes(C.type.name));return o.ensureMarks(k),T?!0:c.clearNodes()}).wrapInList(h,r).command(()=>Wx(o,h)).command(()=>Hx(o,h)).run()},nce=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Lo(e,r.schema);return _1(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},rce=(e,t,n={})=>({state:r,commands:i})=>{const o=At(e,r.schema),s=At(t,r.schema),a=Us(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},ice=(e,t={})=>({state:n,commands:r})=>{const i=At(e,n.schema);return Us(n,i,t)?r.lift(i):r.wrapIn(i,t)},oce=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const s=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},sce=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},ace=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=Lo(e,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:h}=a;const p=(o=c.marks().find(y=>y.type===l))==null?void 0:o.attrs,m=rC(c,l,p);m&&(f=m.from,h=m.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},lce=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=yv(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(o=At(e,r.schema)),a==="mark"&&(s=Lo(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,p;n.selection.empty?r.doc.nodesBetween(c,u,(m,y)=>{o&&o===m.type&&(h=Math.max(y,c),p=Math.min(y+m.nodeSize,u),d=y,f=m)}):r.doc.nodesBetween(c,u,(m,y)=>{y<c&&o&&o===m.type&&(h=Math.max(y,c),p=Math.min(y+m.nodeSize,u),d=y,f=m),y>=c&&y<=u&&(o&&o===m.type&&n.setNodeMarkup(y,void 0,{...m.attrs,...t}),s&&m.marks.length&&m.marks.forEach(v=>{if(s===v.type){const b=Math.max(y,c),w=Math.min(y+m.nodeSize,u);n.addMark(b,w,s.create({...v.attrs,...t}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...t}),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&n.addMark(h,p,s.create({...m.attrs,...t}))}))}),!0):!1},cce=(e,t={})=>({state:n,dispatch:r})=>{const i=At(e,n.schema);return bae(i,t)(n,r)},uce=(e,t={})=>({state:n,dispatch:r})=>{const i=At(e,n.schema);return wae(i,t)(n,r)},r3=Pt.create({name:"commands",addCommands(){return{...t3}}}),i3=Pt.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const o=()=>{var s,a,l,c;if((c=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?c:e.getMeta("y-sync$"))return;const u=Lz(e.before,[e,...t]);Kz(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,m)=>{const y=m+p.nodeSize-2,v=h.oldRange.from<=m&&y<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:m,to:y,newFrom:u.mapping.map(m),newTo:u.mapping.map(y),deletedRange:h.oldRange,newRange:h.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((h,p)=>{var m,y;if(h instanceof fi){const v=f.slice(p).map(h.from,-1),b=f.slice(p).map(h.to),w=f.invert().map(v,-1),S=f.invert().map(b),E=(m=u.doc.nodeAt(v-1))==null?void 0:m.marks.some(k=>k.eq(h.mark)),T=(y=u.doc.nodeAt(b))==null?void 0:y.marks.some(k=>k.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:w,to:S},newRange:{from:v,to:b},partial:!!(T||E),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),o3=Pt.create({name:"drop",addProseMirrorPlugins(){return[new yt({key:new Kt("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),s3=Pt.create({name:"editable",addProseMirrorPlugins(){return[new yt({key:new Kt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),a3=new Kt("focusEvents"),l3=Pt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new yt({key:a3,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),c3=Pt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=m&&p.parent.childCount===1?y===d.pos:xe.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return sC()||n3()?o:i},addProseMirrorPlugins(){return[new yt({key:new Kt("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(m=>m.getMeta("composition")))return;const r=e.some(m=>m.docChanged)&&!t.doc.eq(n.doc),i=e.some(m=>m.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=t.selection,l=xe.atStart(t.doc).from,c=xe.atEnd(t.doc).to;if(o||!(s===l&&a===c)||!vv(n.doc))return;const f=n.tr,h=pv({state:n,transaction:f}),{commands:p}=new mv({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),u3=Pt.create({name:"paste",addProseMirrorPlugins(){return[new yt({key:new Kt("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),d3=Pt.create({name:"tabindex",addProseMirrorPlugins(){return[new yt({key:new Kt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),dce=class Hl{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Hl(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Hl(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Hl(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new Hl(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new Hl(a,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===t&&o.every(l=>n[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},fce=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function hce(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var pce=class extends _ae{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Jz(t,this.options.autofocus);this.editorState=cc.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=hce(fce,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Fz(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(s=>!s.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[s3,e3.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),r3,l3,c3,d3,o3,u3,i3].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new bv(r,this)}createCommandManager(){this.commandManager=new mv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=P1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=P1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new Pz(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=s==null?void 0:s.getMeta("focus"),l=s==null?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return Hz(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return Vae(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return eC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return Lae(this.state.doc,{blockSeparator:t,textSerializers:{...Vz(this.schema),...n}})}get isEmpty(){return vv(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new dce(t,this)}get $doc(){return this.$pos(0)}};function Wc(e){return new xv({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Ne(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(iC(n.from,n.to,t.doc).filter(h=>h.mark.type.excluded.find(m=>m===e.type&&m!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const f=n.from+l+s.length;o.addMark(n.from+l,f,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}function f3(e){return new xv({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Ne(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let a=n.to;const l=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else if(r[0]){const c=e.type.isInline?s:s-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()},undoable:e.undoable})}function O1(e){return new xv({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=Ne(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)},undoable:e.undoable})}function Hc(e){return new xv({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=Ne(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&BE(l,e.type,o);if(!c)return null;if(s.wrap(l,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:h}=e.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const m=p.filter(y=>h.includes(y.type.name));s.ensureMarks(m)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Qs(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&s.join(n.from-1)},undoable:e.undoable})}function mce(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof ae){const o=r.index();return r.parent.canReplaceWith(o,o+1,t)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}function gce(e,t,n={}){const{state:r}=t,{doc:i,tr:o}=r,s=e;i.descendants((a,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(h=>{if(h!==s)return!1;d=h}),!d)return;let f=!1;if(Object.keys(n).forEach(h=>{n[h]!==d.attrs[h]&&(f=!0)}),f){const h=e.type.create({...e.attrs,...n});o.removeMark(c,u,e.type),o.addMark(c,u,h)}}),o.docChanged&&t.view.dispatch(o)}var Zn=class h3 extends oC{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new h3(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function nl(e){return new Xae({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=Ne(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(iC(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(y=>y===e.type&&y!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}var yce=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const vce=yr(yce);var p3={exports:{}},m3={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=x,xce=LE;function bce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wce=typeof Object.is=="function"?Object.is:bce,Sce=xce.useSyncExternalStore,kce=wv.useRef,Ece=wv.useEffect,Cce=wv.useMemo,Tce=wv.useDebugValue;m3.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=kce(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Cce(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,wce(u,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(u=h,p):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=Sce(e,o[0],o[1]);return Ece(function(){s.hasValue=!0,s.value=a},[a]),Tce(a),a};p3.exports=m3;var g3=p3.exports,Ace=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Pce=({contentComponent:e})=>{const t=LE.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(t)})};function _ce(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:e2.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var Oce=class extends Te.Component{constructor(e){var t;super(e),this.editorContentRef=Te.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=_ce(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:Ace(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&g.jsx(Pce,{contentComponent:e.contentComponent})]})}},Mce=x.forwardRef((e,t)=>{const n=Te.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Te.createElement(Oce,{key:n,innerRef:t,...e})}),Nce=Te.memo(Mce),jce=typeof window<"u"?x.useLayoutEffect:x.useEffect,Ice=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function Rce(e){var t;const[n]=x.useState(()=>new Ice(e.editor)),r=g3.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:vce);return jce(()=>n.watch(e.editor),[e.editor,n]),x.useDebugValue(r),r}var Dce=!1,M1=typeof window>"u",Lce=M1||!!(typeof window<"u"&&window.next),$ce=class y3{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return M1||Lce?null:this.createEditor();if(this.options.current.immediatelyRender&&M1&&Dce)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new pce(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,o)=>{var s;return i===((s=n.extensions)==null?void 0:s[o])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?y3.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function Fce(e={},t=[]){const n=x.useRef(e);n.current=e;const[r]=x.useState(()=>new $ce(n)),i=LE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(i),x.useEffect(r.onRender(t)),Rce({editor:i,selector:({transactionNumber:o})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&o===0?0:o+1}),i}var Bce=x.createContext({editor:null});Bce.Consumer;var zce=x.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Uce=()=>x.useContext(zce);Te.forwardRef((e,t)=>{const{onDragStart:n}=Uce(),r=e.as||"div";return g.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});Te.createContext({markViewContentRef:()=>{}});var dg=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},Vce=/^\s*>\s$/,Wce=Zn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return dg("blockquote",{...bt(this.options.HTMLAttributes,e),children:dg("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Hc({find:Vce,type:this.type})]}}),Hce=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Kce=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,qce=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Gce=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Yce=yl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return dg("strong",{...bt(this.options.HTMLAttributes,e),children:dg("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Wc({find:Hce,type:this.type}),Wc({find:qce,type:this.type})]},addPasteRules(){return[nl({find:Kce,type:this.type}),nl({find:Gce,type:this.type})]}}),Jce=/(^|[^`])`([^`]+)`(?!`)$/,Xce=/(^|[^`])`([^`]+)`(?!`)/g,Qce=yl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Wc({find:Jce,type:this.type})]},addPasteRules(){return[nl({find:Xce,type:this.type})]}}),Kx=4,Zce=/^```([a-z]+)?[\s\n]$/,eue=/^~~~([a-z]+)?[\s\n]$/,tue=Zn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Kx,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",bt(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:Kx,{state:r}=e,{selection:i}=r,{$from:o,empty:s}=i;if(o.parent.type!==this.type)return!1;const a=" ".repeat(n);return s?e.commands.insertContent(a):e.commands.command(({tr:l})=>{const{from:c,to:u}=i,h=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>a+p).join(`
`);return l.replaceWith(c,u,r.schema.text(h)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:Kx,{state:r}=e,{selection:i}=r,{$from:o,empty:s}=i;return o.parent.type!==this.type?!1:s?e.commands.command(({tr:a})=>{var l;const{pos:c}=o,u=o.start(),d=o.end(),h=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let p=0,m=0;const y=c-u;for(let T=0;T<h.length;T+=1){if(m+h[T].length>=y){p=T;break}m+=h[T].length+1}const b=((l=h[p].match(/^ */))==null?void 0:l[0])||"",w=Math.min(b.length,n);if(w===0)return!0;let S=u;for(let T=0;T<p;T+=1)S+=h[T].length+1;return a.delete(S,S+w),c-S<=w&&a.setSelection(pe.create(a.doc,S)),!0}):e.commands.command(({tr:a})=>{const{from:l,to:c}=i,f=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var p;const m=((p=h.match(/^ */))==null?void 0:p[0])||"",y=Math.min(m.length,n);return h.slice(y)}).join(`
`);return a.replaceWith(l,c,r.schema.text(f)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?e.commands.command(({tr:c})=>(c.setSelection(xe.near(r.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[O1({find:Zce,type:this.type,getAttributes:e=>({language:e[1]})}),O1({find:eue,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new yt({key:new Kt("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(pe.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),nue=Zn.create({name:"doc",topNode:!0,content:"block+"}),rue=Zn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",bt(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),iue=Zn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,bt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>O1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),oue=Zn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",bt(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!mce(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return Gz(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:s,dispatch:a})=>{if(a){const{$to:l}=s.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection(pe.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(ae.create(s.doc,l.pos)):s.setSelection(pe.create(s.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(s.insert(c,d),s.setSelection(pe.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[f3({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),sue=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,aue=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,lue=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,cue=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,uue=yl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Wc({find:sue,type:this.type}),Wc({find:lue,type:this.type})]},addPasteRules(){return[nl({find:aue,type:this.type}),nl({find:cue,type:this.type})]}});const due="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",fue="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",N1="numeric",j1="ascii",I1="alpha",Ld="asciinumeric",fd="alphanumeric",R1="domain",v3="emoji",hue="scheme",pue="slashscheme",qx="whitespace";function mue(e,t){return e in t||(t[e]=[]),t[e]}function Oa(e,t,n){t[N1]&&(t[Ld]=!0,t[fd]=!0),t[j1]&&(t[Ld]=!0,t[I1]=!0),t[Ld]&&(t[fd]=!0),t[I1]&&(t[fd]=!0),t[fd]&&(t[R1]=!0),t[v3]&&(t[R1]=!0);for(const r in t){const i=mue(r,n);i.indexOf(e)<0&&i.push(e)}}function gue(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Hn(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Hn.groups={};Hn.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Hn.groups;let i;return t&&t.j?i=t:(i=new Hn(t),n&&r&&Oa(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(e[s]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Hn.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,a=i.go(e);if(a?(s=new Hn,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Hn,o){if(r)if(s.t&&typeof s.t=="string"){const l=Object.assign(gue(s.t,r),n);Oa(o,l,r)}else n&&Oa(o,n,r);s.t=o}return i.j[e]=s,s}};const ve=(e,t,n,r,i)=>e.ta(t,n,r,i),dt=(e,t,n,r,i)=>e.tr(t,n,r,i),HM=(e,t,n,r,i)=>e.ts(t,n,r,i),V=(e,t,n,r,i)=>e.tt(t,n,r,i),eo="WORD",D1="UWORD",x3="ASCIINUMERICAL",b3="ALPHANUMERICAL",Pf="LOCALHOST",L1="TLD",$1="UTLD",sm="SCHEME",Kl="SLASH_SCHEME",aC="NUM",F1="WS",lC="NL",$d="OPENBRACE",Fd="CLOSEBRACE",fg="OPENBRACKET",hg="CLOSEBRACKET",pg="OPENPAREN",mg="CLOSEPAREN",gg="OPENANGLEBRACKET",yg="CLOSEANGLEBRACKET",vg="FULLWIDTHLEFTPAREN",xg="FULLWIDTHRIGHTPAREN",bg="LEFTCORNERBRACKET",wg="RIGHTCORNERBRACKET",Sg="LEFTWHITECORNERBRACKET",kg="RIGHTWHITECORNERBRACKET",Eg="FULLWIDTHLESSTHAN",Cg="FULLWIDTHGREATERTHAN",Tg="AMPERSAND",Ag="APOSTROPHE",Pg="ASTERISK",rs="AT",_g="BACKSLASH",Og="BACKTICK",Mg="CARET",fs="COLON",cC="COMMA",Ng="DOLLAR",_i="DOT",jg="EQUALS",uC="EXCLAMATION",Pr="HYPHEN",Bd="PERCENT",Ig="PIPE",Rg="PLUS",Dg="POUND",zd="QUERY",dC="QUOTE",w3="FULLWIDTHMIDDLEDOT",fC="SEMI",Oi="SLASH",Ud="TILDE",Lg="UNDERSCORE",S3="EMOJI",$g="SYM";var k3=Object.freeze({__proto__:null,ALPHANUMERICAL:b3,AMPERSAND:Tg,APOSTROPHE:Ag,ASCIINUMERICAL:x3,ASTERISK:Pg,AT:rs,BACKSLASH:_g,BACKTICK:Og,CARET:Mg,CLOSEANGLEBRACKET:yg,CLOSEBRACE:Fd,CLOSEBRACKET:hg,CLOSEPAREN:mg,COLON:fs,COMMA:cC,DOLLAR:Ng,DOT:_i,EMOJI:S3,EQUALS:jg,EXCLAMATION:uC,FULLWIDTHGREATERTHAN:Cg,FULLWIDTHLEFTPAREN:vg,FULLWIDTHLESSTHAN:Eg,FULLWIDTHMIDDLEDOT:w3,FULLWIDTHRIGHTPAREN:xg,HYPHEN:Pr,LEFTCORNERBRACKET:bg,LEFTWHITECORNERBRACKET:Sg,LOCALHOST:Pf,NL:lC,NUM:aC,OPENANGLEBRACKET:gg,OPENBRACE:$d,OPENBRACKET:fg,OPENPAREN:pg,PERCENT:Bd,PIPE:Ig,PLUS:Rg,POUND:Dg,QUERY:zd,QUOTE:dC,RIGHTCORNERBRACKET:wg,RIGHTWHITECORNERBRACKET:kg,SCHEME:sm,SEMI:fC,SLASH:Oi,SLASH_SCHEME:Kl,SYM:$g,TILDE:Ud,TLD:L1,UNDERSCORE:Lg,UTLD:$1,UWORD:D1,WORD:eo,WS:F1});const Xi=/[a-z]/,Vu=/\p{L}/u,Gx=/\p{Emoji}/u,Qi=/\d/,Yx=/\s/,KM="\r",Jx=`
`,yue="️",vue="‍",Xx="￼";let hp=null,pp=null;function xue(e=[]){const t={};Hn.groups=t;const n=new Hn;hp==null&&(hp=qM(due)),pp==null&&(pp=qM(fue)),V(n,"'",Ag),V(n,"{",$d),V(n,"}",Fd),V(n,"[",fg),V(n,"]",hg),V(n,"(",pg),V(n,")",mg),V(n,"<",gg),V(n,">",yg),V(n,"（",vg),V(n,"）",xg),V(n,"「",bg),V(n,"」",wg),V(n,"『",Sg),V(n,"』",kg),V(n,"＜",Eg),V(n,"＞",Cg),V(n,"&",Tg),V(n,"*",Pg),V(n,"@",rs),V(n,"`",Og),V(n,"^",Mg),V(n,":",fs),V(n,",",cC),V(n,"$",Ng),V(n,".",_i),V(n,"=",jg),V(n,"!",uC),V(n,"-",Pr),V(n,"%",Bd),V(n,"|",Ig),V(n,"+",Rg),V(n,"#",Dg),V(n,"?",zd),V(n,'"',dC),V(n,"/",Oi),V(n,";",fC),V(n,"~",Ud),V(n,"_",Lg),V(n,"\\",_g),V(n,"・",w3);const r=dt(n,Qi,aC,{[N1]:!0});dt(r,Qi,r);const i=dt(r,Xi,x3,{[Ld]:!0}),o=dt(r,Vu,b3,{[fd]:!0}),s=dt(n,Xi,eo,{[j1]:!0});dt(s,Qi,i),dt(s,Xi,s),dt(i,Qi,i),dt(i,Xi,i);const a=dt(n,Vu,D1,{[I1]:!0});dt(a,Xi),dt(a,Qi,o),dt(a,Vu,a),dt(o,Qi,o),dt(o,Xi),dt(o,Vu,o);const l=V(n,Jx,lC,{[qx]:!0}),c=V(n,KM,F1,{[qx]:!0}),u=dt(n,Yx,F1,{[qx]:!0});V(n,Xx,u),V(c,Jx,l),V(c,Xx,u),dt(c,Yx,u),V(u,KM),V(u,Jx),dt(u,Yx,u),V(u,Xx,u);const d=dt(n,Gx,S3,{[v3]:!0});V(d,"#"),dt(d,Gx,d),V(d,yue,d);const f=V(d,vue);V(f,"#"),dt(f,Gx,d);const h=[[Xi,s],[Qi,i]],p=[[Xi,null],[Vu,a],[Qi,o]];for(let m=0;m<hp.length;m++)Go(n,hp[m],L1,eo,h);for(let m=0;m<pp.length;m++)Go(n,pp[m],$1,D1,p);Oa(L1,{tld:!0,ascii:!0},t),Oa($1,{utld:!0,alpha:!0},t),Go(n,"file",sm,eo,h),Go(n,"mailto",sm,eo,h),Go(n,"http",Kl,eo,h),Go(n,"https",Kl,eo,h),Go(n,"ftp",Kl,eo,h),Go(n,"ftps",Kl,eo,h),Oa(sm,{scheme:!0,ascii:!0},t),Oa(Kl,{slashscheme:!0,ascii:!0},t),e=e.sort((m,y)=>m[0]>y[0]?1:-1);for(let m=0;m<e.length;m++){const y=e[m][0],b=e[m][1]?{[hue]:!0}:{[pue]:!0};y.indexOf("-")>=0?b[R1]=!0:Xi.test(y)?Qi.test(y)?b[Ld]=!0:b[j1]=!0:b[N1]=!0,HM(n,y,y,b)}return HM(n,"localhost",Pf,{ascii:!0}),n.jd=new Hn($g),{start:n,tokens:Object.assign({groups:t},k3)}}function E3(e,t){const n=bue(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=e,l=null,c=0,u=null,d=-1,f=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[s].length,f++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=f,c-=d,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function bue(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function Go(e,t,n,r,i){let o;const s=t.length;for(let a=0;a<s-1;a++){const l=t[a];e.j[l]?o=e.j[l]:(o=new Hn(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new Hn(n),o.jr=i.slice(),e.j[t[s-1]]=o,o}function qM(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(e[r]),r++}return t}const _f={defaultProtocol:"http",events:null,format:GM,formatHref:GM,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function hC(e,t=null){let n=Object.assign({},_f);e&&(n=Object.assign(n,e instanceof hC?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}hC.prototype={o:_f,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:_f[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function GM(e){return e}function C3(e,t){this.t="token",this.v=e,this.tk=t}C3.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=_f.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:i,attributes:s,content:o,eventListeners:d}}};function Sv(e,t){class n extends C3{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const YM=Sv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),JM=Sv("text"),wue=Sv("nl"),mp=Sv("url",{isLink:!0,toHref(e=_f.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Pf&&e[1].t===fs}}),Er=e=>new Hn(e);function Sue({groups:e}){const t=e.domain.concat([Tg,Pg,rs,_g,Og,Mg,Ng,jg,Pr,aC,Bd,Ig,Rg,Dg,Oi,$g,Ud,Lg]),n=[Ag,fs,cC,_i,uC,Bd,zd,dC,fC,gg,yg,$d,Fd,hg,fg,pg,mg,vg,xg,bg,wg,Sg,kg,Eg,Cg],r=[Tg,Ag,Pg,_g,Og,Mg,Ng,jg,Pr,$d,Fd,Bd,Ig,Rg,Dg,zd,Oi,$g,Ud,Lg],i=Er(),o=V(i,Ud);ve(o,r,o),ve(o,e.domain,o);const s=Er(),a=Er(),l=Er();ve(i,e.domain,s),ve(i,e.scheme,a),ve(i,e.slashscheme,l),ve(s,r,o),ve(s,e.domain,s);const c=V(s,rs);V(o,rs,c),V(a,rs,c),V(l,rs,c);const u=V(o,_i);ve(u,r,o),ve(u,e.domain,o);const d=Er();ve(c,e.domain,d),ve(d,e.domain,d);const f=V(d,_i);ve(f,e.domain,d);const h=Er(YM);ve(f,e.tld,h),ve(f,e.utld,h),V(c,Pf,h);const p=V(d,Pr);V(p,Pr,p),ve(p,e.domain,d),ve(h,e.domain,d),V(h,_i,f),V(h,Pr,p);const m=V(h,fs);ve(m,e.numeric,YM);const y=V(s,Pr),v=V(s,_i);V(y,Pr,y),ve(y,e.domain,s),ve(v,r,o),ve(v,e.domain,s);const b=Er(mp);ve(v,e.tld,b),ve(v,e.utld,b),ve(b,e.domain,s),ve(b,r,o),V(b,_i,v),V(b,Pr,y),V(b,rs,c);const w=V(b,fs),S=Er(mp);ve(w,e.numeric,S);const E=Er(mp),T=Er();ve(E,t,E),ve(E,n,T),ve(T,t,E),ve(T,n,T),V(b,Oi,E),V(S,Oi,E);const k=V(a,fs),C=V(l,fs),A=V(C,Oi),O=V(A,Oi);ve(a,e.domain,s),V(a,_i,v),V(a,Pr,y),ve(l,e.domain,s),V(l,_i,v),V(l,Pr,y),ve(k,e.domain,E),V(k,Oi,E),V(k,zd,E),ve(O,e.domain,E),ve(O,t,E),V(O,Oi,E);const M=[[$d,Fd],[fg,hg],[pg,mg],[gg,yg],[vg,xg],[bg,wg],[Sg,kg],[Eg,Cg]];for(let N=0;N<M.length;N++){const[L,I]=M[N],J=V(E,L);V(T,L,J),V(J,I,E);const $=Er(mp);ve(J,t,$);const K=Er();ve(J,n),ve($,t,$),ve($,n,K),ve(K,t,$),ve(K,n,K),V($,I,E),V(K,I,E)}return V(i,Pf,b),V(i,lC,wue),{start:i,tokens:k3}}function kue(e,t,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=e,l=null,c=null,u=0,d=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,i++,u++;if(f<0)i-=u,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Qx(JM,t,s)),s=[]),i-=f,u-=f;const h=d.t,p=n.slice(i-u,i);o.push(Qx(h,t,p))}}return s.length>0&&o.push(Qx(JM,t,s)),o}function Qx(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const Eue=typeof console<"u"&&console&&console.warn||(()=>{}),Cue="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ye={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Tue(){return Hn.groups={},Ye.scanner=null,Ye.parser=null,Ye.tokenQueue=[],Ye.pluginQueue=[],Ye.customSchemes=[],Ye.initialized=!1,Ye}function XM(e,t=!1){if(Ye.initialized&&Eue(`linkifyjs: already initialized - will not register custom scheme "${e}" ${Cue}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ye.customSchemes.push([e,t])}function Aue(){Ye.scanner=xue(Ye.customSchemes);for(let e=0;e<Ye.tokenQueue.length;e++)Ye.tokenQueue[e][1]({scanner:Ye.scanner});Ye.parser=Sue(Ye.scanner.tokens);for(let e=0;e<Ye.pluginQueue.length;e++)Ye.pluginQueue[e][1]({scanner:Ye.scanner,parser:Ye.parser});return Ye.initialized=!0,Ye}function pC(e){return Ye.initialized||Aue(),kue(Ye.parser.start,e,E3(Ye.scanner.start,e))}pC.scan=E3;function T3(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new hC(n),i=pC(e),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!t||a.t===t)&&r.check(a)&&o.push(a.toFormattedObject(r))}return o}var mC="[\0-   ᠎ -\u2029 　]",Pue=new RegExp(mC),_ue=new RegExp(`${mC}$`),Oue=new RegExp(mC,"g");function Mue(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Nue(e){return new yt({key:new Kt("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=Lz(n.doc,[...t]);if(Kz(a).forEach(({newRange:c})=>{const u=Mae(r.doc,c,h=>h.isTextblock);let d,f;if(u.length>1)d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const h=r.doc.textBetween(c.from,c.to," "," ");if(!_ue.test(h))return;d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const h=f.split(Pue).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],m=d.pos+f.lastIndexOf(p);if(!p)return!1;const y=pC(p).map(v=>v.toObject(e.defaultProtocol));if(!Mue(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:m+v.start+1,to:m+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{iC(v.from,v.to,r.doc).some(b=>b.mark.type===e.type)||s.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!s.steps.length)return s}})}function jue(e){return new yt({key:new Kt("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(r.button!==0||!t.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;s=d.find(f=>f.nodeName==="A")}if(!s)return!1;const a=Hz(t.state,e.type.name),l=(i=s==null?void 0:s.href)!=null?i:a.href,c=(o=s==null?void 0:s.target)!=null?o:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),s&&l?(window.open(l,c),!0):!1}}})}function Iue(e){return new yt({key:new Kt("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=T3(a,{defaultProtocol:e.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:e.editor.commands.setMark(e.type,{href:l.href})}}})}function ca(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(Oue,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var A3=yl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){XM(e);return}XM(e.scheme,e.optionalSlashes)})},onDestroy(){Tue()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!ca(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!ca(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!ca(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",bt(this.options.HTMLAttributes,e),0]:["a",bt(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ca(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ca(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[nl({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=T3(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:s=>!!ca(s,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>t.push({text:o.value,data:{href:o.href},index:o.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(Nue({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ca(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(jue({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(Iue({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),Rue=A3,Due=Object.defineProperty,Lue=(e,t)=>{for(var n in t)Due(e,n,{get:t[n],enumerable:!0})},$ue="listItem",QM="textStyle",ZM=/^\s*([-+*])\s$/,P3=Zn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($ue,this.editor.getAttributes(QM)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Hc({find:ZM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Hc({find:ZM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(QM),editor:this.editor})),[e]}}),_3=Zn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",bt(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Fue={};Lue(Fue,{findListItemPos:()=>ah,getNextListDepth:()=>gC,handleBackspace:()=>B1,handleDelete:()=>z1,hasListBefore:()=>O3,hasListItemAfter:()=>Bue,hasListItemBefore:()=>M3,listItemHasSubList:()=>N3,nextListIsDeeper:()=>j3,nextListIsHigher:()=>I3});var ah=(e,t)=>{const{$from:n}=t.selection,r=At(e,t.schema);let i=null,o=n.depth,s=n.pos,a=null;for(;o>0&&a===null;)i=n.node(o),i.type===r?a=o:(o-=1,s-=1);return a===null?null:{$pos:t.doc.resolve(s),depth:a}},gC=(e,t)=>{const n=ah(e,t);if(!n)return!1;const[,r]=zae(t,e,n.$pos.pos+4);return r},O3=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),o=e.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},M3=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},N3=(e,t,n)=>{if(!n)return!1;const r=At(e,t.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},B1=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Us(e.state,t)&&O3(e.state,t,n)){const{$anchor:a}=e.state.selection,l=e.state.doc.resolve(a.before()-1),c=[];l.node().descendants((f,h)=>{f.type.name===t&&c.push({node:f,pos:h})});const u=c.at(-1);if(!u)return!1;const d=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Us(e.state,t)||!Hae(e.state))return!1;const r=ah(t,e.state);if(!r)return!1;const o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=N3(t,e.state,o);return M3(t,e.state)&&!s?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},j3=(e,t)=>{const n=gC(e,t),r=ah(e,t);return!r||!n?!1:n>r.depth},I3=(e,t)=>{const n=gC(e,t),r=ah(e,t);return!r||!n?!1:n<r.depth},z1=(e,t)=>{if(!Us(e.state,t)||!Wae(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:j3(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():I3(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},Bue=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},R3=Pt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&z1(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&z1(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&B1(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&B1(e,n,r)&&(t=!0)}),t}}}}),zue="listItem",eN="textStyle",tN=/^(\d+)\.\s$/,D3=Zn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",bt(this.options.HTMLAttributes,n),0]:["ol",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(zue,this.editor.getAttributes(eN)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Hc({find:tN,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Hc({find:tN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(eN)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Uue=/^\s*(\[([( |x])?\])\s$/,Vue=Zn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",bt(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const h=n();if(typeof h!="number")return!1;const p=f.doc.nodeAt(h);return f.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{i.setAttribute(u,d)}),i.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,o.append(a,s),i.append(o,l),Object.entries(t).forEach(([u,d])=>{i.setAttribute(u,d)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Hc({find:Uue,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Wue=Zn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",bt(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Pt.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(P3.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(_3.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(R3.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(D3.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(Vue.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(Wue.configure(this.options.taskList)),e}});var Hue=Zn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Kue=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,que=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Gue=yl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Wc({find:Kue,type:this.type})]},addPasteRules(){return[nl({find:que,type:this.type})]}}),Yue=Zn.create({name:"text",group:"inline"}),Jue=yl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",bt(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Xue(e={}){return new yt({view(t){return new Que(t,e)}})}class Que{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,a=o.height/i.offsetHeight;if(n){let d=t.nodeBefore,f=t.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let p=h.getBoundingClientRect(),m=d?p.bottom:p.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;r={left:p.left,right:p.right,top:m-y,bottom:m+y}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*s;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,h=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*h}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=zB(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class pt extends xe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return pt.valid(r)?new pt(r):xe.near(r)}content(){return X.empty}eq(t){return t instanceof pt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new pt(t.resolve(n.pos))}getBookmark(){return new yC(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Zue(t)||!ede(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&pt.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let l=t.doc.resolve(i);if(pt.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ae.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=t.doc.resolve(i);if(pt.valid(a))return a}return null}}}pt.prototype.visible=!1;pt.findFrom=pt.findGapCursorFrom;xe.jsonID("gapcursor",pt);class yC{constructor(t){this.pos=t}map(t){return new yC(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return pt.valid(n)?new pt(n):xe.near(n)}}function Zue(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function ede(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tde(){return new yt({props:{decorations:ode,createSelectionBetween(e,t,n){return t.pos==n.pos&&pt.valid(n)?new pt(n):null},handleClick:rde,handleKeyDown:nde,handleDOMEvents:{beforeinput:ide}}})}const nde=_z({ArrowLeft:gp("horiz",-1),ArrowRight:gp("horiz",1),ArrowUp:gp("vert",-1),ArrowDown:gp("vert",1)});function gp(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof pe){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=pt.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new pt(c))),!0):!1}}function rde(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!pt.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ae.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new pt(r))),!0)}function ide(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof pt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=F.empty;for(let s=r.length-1;s>=0;s--)i=F.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new X(i,0,0));return o.setSelection(pe.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function ode(e){if(!(e.selection instanceof pt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",at.create(e.doc,[An.widget(e.selection.head,t,{key:"gapcursor"})])}var Fg=200,Wt=function(){};Wt.prototype.append=function(t){return t.length?(t=Wt.from(t),!this.length&&t||t.length<Fg&&this.leafAppend(t)||this.length<Fg&&t.leafPrepend(this)||this.appendInner(t)):this};Wt.prototype.prepend=function(t){return t.length?Wt.from(t).append(this):this};Wt.prototype.appendInner=function(t){return new sde(this,t)};Wt.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Wt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Wt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Wt.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Wt.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(t(o,s))},n,r),i};Wt.from=function(t){return t instanceof Wt?t:t&&t.length?new L3(t):Wt.empty};var L3=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Fg)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Fg)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Wt);Wt.empty=new L3([]);var sde=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Wt);const ade=500;class li{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Mi(d.map));let h=d.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new Mi(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new li(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new Mi(t.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>cde&&(a=lde(a,c),s-=c),new li(a.append(o),s)}remapping(t,n){let r=new wf;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new li(this.items.append(t.map(n=>new Mi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let m=t.steps[h].invert(t.docs[h]),y=f.selection&&f.selection.map(o.slice(l+1,h));y&&a++,r.push(new Mi(p,m,y))}else r.push(new Mi(p))},i);let c=[];for(let f=n;f<s;f++)c.push(new Mi(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new li(u,a);return d.emptyItemCount()>ade&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new Mi(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new li(Wt.from(i.reverse()),o)}}li.empty=new li(Wt.empty,0);function lde(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Mi{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Mi(n.getMap().invert(),n,this.selection)}}}class is{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const cde=20;function ude(e,t,n,r){let i=n.getMeta(za),o;if(i)return i.historyState;n.getMeta(hde)&&(e=new is(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(za))return s.getMeta(za).redo?new is(e.done.addTransform(n,void 0,r,am(t)),e.undone,nN(n.mapping.maps),e.prevTime,e.prevComposition):new is(e.done,e.undone.addTransform(n,void 0,r,am(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!dde(n,e.prevRanges)),c=s?Zx(e.prevRanges,n.mapping):nN(n.mapping.maps);return new is(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,am(t)),li.empty,c,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new is(e.done.rebased(n,o),e.undone.rebased(n,o),Zx(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new is(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Zx(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function dde(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function nN(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,s)=>t.push(o,s));return t}function Zx(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function fde(e,t,n){let r=am(t),i=za.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new is(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(za,{redo:n,historyState:l})}let eb=!1,rN=null;function am(e){let t=e.plugins;if(rN!=t){eb=!1,rN=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){eb=!0;break}}return eb}const za=new Kt("history"),hde=new Kt("closeHistory");function pde(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new yt({key:za,state:{init(){return new is(li.empty,li.empty,null,0,-1)},apply(t,n,r){return ude(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?F3:r=="historyRedo"?B3:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function $3(e,t){return(n,r)=>{let i=za.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=fde(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const F3=$3(!1,!0),B3=$3(!0,!0);Pt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new yt({key:new Kt("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const s=o-i,a=0,l=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:t.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!t.getMeta("paste"))return!1;const a=t.selection.$head.pos,l=o-r,c=a-l,u=a;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>r)}})]}});var mde=Pt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Xue(this.options)]}});Pt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new yt({key:new Kt("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return at.create(e,[]);let s=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;s+=1});let a=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";o.push(An.node(c,c+l.nodeSize,{class:this.options.className}))}),at.create(e,o)}}})]}});var gde=Pt.create({name:"gapCursor",addProseMirrorPlugins(){return[tde()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ne(ie(e,"allowGapCursor",n)))!=null?t:null}}}),yde=Pt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new yt({key:new Kt("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((s,a)=>{const l=r>=a&&r<=a+s.nodeSize,c=!s.isLeaf&&vv(s);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const d=An.node(a,a+s.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),at.create(e,i)}}})]}});Pt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new yt({key:new Kt("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||Gz(n.selection)||e.view.dragging?null:at.create(n.doc,[An.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function iN({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var vde=Pt.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const e=new Kt(this.name),t=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new yt({key:e,appendTransaction:(n,r,i)=>{const{doc:o,tr:s,schema:a}=i,l=e.getState(i),c=o.content.size,u=a.nodes[this.options.node];if(l)return s.insert(c,u.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!iN({node:i,types:t})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!iN({node:i,types:t})}}})]}}),xde=Pt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>F3(e,t),redo:()=>({state:e,dispatch:t})=>B3(e,t)}},addProseMirrorPlugins(){return[pde(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),bde=Pt.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(Yce.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Wce.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(P3.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Qce.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(tue.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(nue.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(mde.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(gde.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(rue.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(iue.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(xde.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(oue.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(uue.configure(this.options.italic)),this.options.listItem!==!1&&i.push(_3.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(R3.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(A3.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(D3.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(Hue.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Gue.configure(this.options.strike)),this.options.text!==!1&&i.push(Yue.configure(this.options.text)),this.options.underline!==!1&&i.push(Jue.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(vde.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),wde=bde,Sde=yde,kde=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Ede=Zn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",bt(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[f3({find:kde,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),Cde=Ede;const oN="covers",Tde="images",he="agib:draft:",Ade={"live-articles":"Live Articles","research-notes":"Research Notes","deal-tracker":"Deal Tracker",markets:"Markets","opinions-editorials":"Opinions & Editorials",uncategorized:"Uncategorized"};function sN(e){return Ade[e]??e}function Zi({label:e,onClick:t,title:n,className:r=""}){return g.jsx("button",{type:"button",onClick:t,title:n||e,className:`px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none text-sm ${r}`,children:e})}function Pde(e=[]){const t=new Set,n=[];for(const r of e){const i=(r==null?void 0:r.name)??((r==null?void 0:r.constructor)&&r.constructor.name)??String(r);t.has(i)||(t.add(i),n.push(r))}return n}function _de(e="",t=300){const n=String(e).replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return n.length>t?n.slice(0,t).trim()+"…":n}function aN(){const e=Gs(),[t,n]=x.useState(()=>localStorage.getItem(`${he}title`)||""),[r,i]=x.useState(()=>{try{const R=localStorage.getItem(`${he}tags`);return R?JSON.parse(R):[]}catch{return[]}}),[o,s]=x.useState(()=>localStorage.getItem(`${he}section`)||"live-articles"),[a,l]=x.useState(null),[c,u]=x.useState(()=>localStorage.getItem(`${he}coverPreview`)||""),[d,f]=x.useState(()=>localStorage.getItem(`${he}coverPublicUrl`)||""),[h,p]=x.useState(!1),[m,y]=x.useState(()=>Number(localStorage.getItem(`${he}coverHeight`))||320),[v,b]=x.useState(()=>Number(localStorage.getItem(`${he}coverPosX`))||50),[w,S]=x.useState(()=>localStorage.getItem(`${he}coverFitMode`)||"fill"),[E,T]=x.useState(()=>Number(localStorage.getItem(`${he}coverZoom`))||100),[k,C]=x.useState(()=>{try{const R=localStorage.getItem(`${he}sectionsSelected`);return R?JSON.parse(R):["live-articles"]}catch{return["live-articles"]}}),[A,O]=x.useState(()=>{try{const R=localStorage.getItem(`${he}lockImageSize`);return R?JSON.parse(R):!0}catch{return!0}}),[M,N]=x.useState(!1),[L,I]=x.useState(null),[J,$]=x.useState(null),K=x.useMemo(()=>Pde([wde.configure({heading:{levels:[1,2,3]}}),Sde.configure({placeholder:"Write your article. Use the image button to insert visuals."}),Cde.configure({inline:!1,allowBase64:!1}),Rue.configure({openOnClick:!0})]),[]),P=Fce({extensions:K,content:localStorage.getItem(`${he}content`)||"<p></p>",editorProps:{attributes:{class:"prose lg:prose-lg focus:outline-none dark:prose-invert"}}});x.useEffect(()=>{if(!P)return;let R;const G=()=>{try{localStorage.setItem(`${he}content`,P.getHTML()),localStorage.setItem(`${he}title`,t),localStorage.setItem(`${he}tags`,JSON.stringify(r)),localStorage.setItem(`${he}section`,o),localStorage.setItem(`${he}coverPreview`,c||""),localStorage.setItem(`${he}coverPublicUrl`,d||""),localStorage.setItem(`${he}coverHeight`,String(m)),localStorage.setItem(`${he}coverPosX`,String(v)),localStorage.setItem(`${he}coverFitMode`,w),localStorage.setItem(`${he}coverZoom`,String(E)),localStorage.setItem(`${he}sectionsSelected`,JSON.stringify(k)),localStorage.setItem(`${he}lockImageSize`,JSON.stringify(A))}catch(ee){console.warn("Autosave failed",ee)}},se=()=>{clearTimeout(R),R=setTimeout(G,700)};return P.on("update",se),P.on("selectionUpdate",se),()=>{clearTimeout(R),P.off("update",se),P.off("selectionUpdate",se)}},[P,t,r,o,c,d,m,v,w,E,k,A]);const j=x.useCallback(async(R,G)=>{var He,Si,Sr,El;if(!G)return null;const se=G.name.split(".").pop(),ee=`${Date.now()}-${Math.random().toString(36).slice(2)}.${se}`,{data:ye,error:Le}=await Se.storage.from(R).upload(ee,G,{cacheControl:"3600",upsert:!1});if(Le)throw console.error("Supabase upload error",Le),Le;try{const Ke=await Se.storage.from(R).getPublicUrl(ee);return((He=Ke==null?void 0:Ke.data)==null?void 0:He.publicUrl)??((Si=Ke==null?void 0:Ke.data)==null?void 0:Si.publicURL)??(Ke==null?void 0:Ke.publicUrl)??(Ke==null?void 0:Ke.publicURL)??(Ke==null?void 0:Ke.public_url)??null}catch(Ke){console.warn("getPublicUrl returned an unexpected shape",Ke);const be=Se.storage.from(R).getPublicUrl(ee);return((Sr=be==null?void 0:be.data)==null?void 0:Sr.publicUrl)??((El=be==null?void 0:be.data)==null?void 0:El.publicURL)??(be==null?void 0:be.publicUrl)??(be==null?void 0:be.publicURL)??(be==null?void 0:be.public_url)??null}},[]),q=async R=>{var se;const G=((se=R.target.files)==null?void 0:se[0])||null;if(G){l(G);try{const ee=new FileReader;ee.onload=ye=>{u(ye.target.result),localStorage.setItem(`${he}coverPreview`,ye.target.result)},ee.readAsDataURL(G)}catch(ee){console.warn("Preview generation failed",ee)}p(!0),I(null);try{const ee=await j(oN,G);ee&&(f(ee),u(ee),localStorage.setItem(`${he}coverPublicUrl`,ee),localStorage.setItem(`${he}coverPreview`,ee))}catch(ee){console.error("Cover upload failed",ee),I((ee==null?void 0:ee.message)||"Cover upload failed")}finally{p(!1),R.target.value=""}}},z=()=>{l(null),u(""),f(""),localStorage.removeItem(`${he}coverPreview`),localStorage.removeItem(`${he}coverPublicUrl`)},U=x.useCallback(async R=>{if(!(!P||!R)){I(null);try{const G=await j(Tde,R);if(!G)throw new Error("Image upload returned no URL");const se=A?"max-width:800px;width:100%;height:auto;":"width:100%;";P.chain().focus().setImage({src:G,alt:R.name,title:R.name,style:se,"data-mode":"full"}).run(),localStorage.setItem(`${he}content`,P.getHTML())}catch(G){console.error("Insert image failed",G),I((G==null?void 0:G.message)||"Image upload failed")}}},[P,A,j]),ne=R=>{var se;const G=((se=R.target.files)==null?void 0:se[0])||null;G&&U(G),R.target.value=""};x.useEffect(()=>{if(!P)return;const R=P.view;if(!R)return;const G=ee=>{const ye=ee.dataTransfer;ye&&ye.files&&ye.files.length&&(ee.preventDefault(),Array.from(ye.files).forEach(Le=>{Le.type.startsWith("image/")&&U(Le)}))},se=ee=>{const ye=ee.clipboardData;ye&&ye.files&&ye.files.length&&Array.from(ye.files).forEach(Le=>{Le.type.startsWith("image/")&&U(Le)})};return R.dom.addEventListener("drop",G),R.dom.addEventListener("paste",se),()=>{R.dom.removeEventListener("drop",G),R.dom.removeEventListener("paste",se)}},[P,U,A]);const Oe=()=>{var G,se;if(!P)return null;const{node:R}=P.state.selection;if(R&&((G=R.type)==null?void 0:G.name)==="image")return R.attrs||null;try{const{$from:ee}=P.state.selection,ye=ee.nodeAfter;if(ye&&((se=ye.type)==null?void 0:se.name)==="image")return ye.attrs||null}catch{}return null};x.useEffect(()=>{if(!P)return;const R=()=>{$(Oe())};return P.on("selectionUpdate",R),P.on("update",R),R(),()=>{P.off("selectionUpdate",R),P.off("update",R)}},[P]);const le=R=>{var Le;if(!P)return;const G=Oe();if(G&&G.src){P.chain().focus().updateAttributes("image",{...G,...R}).run(),localStorage.setItem(`${he}content`,P.getHTML()),$({...G,...R});return}const se=P.getJSON();let ee=null;const ye=He=>{He&&(He.type==="image"&&(ee=He),He.content&&He.content.forEach(ye))};ye(se),(Le=ee==null?void 0:ee.attrs)!=null&&Le.src&&(P.chain().focus().updateAttributes("image",{...ee.attrs,...R}).run(),localStorage.setItem(`${he}content`,P.getHTML()))},Ae=R=>{R==="full"?le({style:A?"max-width:800px;width:100%;height:auto;":"width:100%;","data-mode":"full"}):R==="center"?le({style:(A?"max-width:800px;":"")+"display:block;margin-left:auto;margin-right:auto;width:75%;height:auto;","data-mode":"center"}):R==="compact"&&le({style:"width:300px;height:auto;display:block;margin-left:auto;margin-right:0;float:left;margin-right:16px;","data-mode":"compact"})},We=R=>{le({style:`${A?"max-width:800px;":""}width:${R}%;height:auto;`})},Dt=()=>{var Le;if(!P)return;const R=P.state.selection.node;if(R&&((Le=R.type)==null?void 0:Le.name)==="image"){P.chain().focus().deleteSelection().run(),localStorage.setItem(`${he}content`,P.getHTML()),$(null);return}const G=P.getJSON();let se=!1;const ee=He=>{if(!He||se)return He;if(He.type==="image")return se=!0,null;if(He.content){const Si=He.content.map(ee).filter(Boolean);return{...He,content:Si}}return He},ye=ee(G);se&&(P.commands.setContent(ye),localStorage.setItem(`${he}content`,P.getHTML()),$(null))},Y=()=>{const R=!A;O(R),localStorage.setItem(`${he}lockImageSize`,JSON.stringify(R)),R&&le({style:"max-width:800px;width:100%;height:auto;"})},oe=async(R="draft")=>{N(!0),I(null);try{const G=P?P.getHTML():"";let se=d||c||null;if(a&&!d)try{const un=await j(oN,a);un&&(se=un,f(un),localStorage.setItem(`${he}coverPublicUrl`,un),localStorage.setItem(`${he}coverPreview`,un))}catch(un){console.warn("Cover upload during publish failed",un)}const ee=Array.from(new Set([...k&&k.length?k:[o||"live-articles"],"live-articles"])),ye=ee.map(un=>sN(un)),Le=ye[ye.length-1]||sN("live-articles");console.debug("Publishing article payload sections:",ee,ye);const{data:He,error:Si}=await Se.auth.getUser();Si&&console.warn("supabase.auth.getUser error",Si);const Sr=(He==null?void 0:He.user)??null,El=_de(G,320),Ke={title:t||"Untitled",content:G,content_md:G,excerpt:El,status:R,cover_url:se,cover_height:m,cover_pos_x:v,tags:r.length?r:null,sections:ye,section:Le,author_id:(Sr==null?void 0:Sr.id)??null,author:(Sr==null?void 0:Sr.email)??null};console.debug("Inserting article payload:",Ke);const{data:be,error:Zr}=await Se.from("articles").insert(Ke).select("id,slug").single();if(Zr)throw console.error("Insert error",Zr),Zr;if(R==="published")try{await fetch("/api/notify-subscribers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articleId:(be==null?void 0:be.id)??null,title:Ke.title,slug:(be==null?void 0:be.slug)??(be==null?void 0:be.id),body:G})})}catch(un){console.warn("Failed to notify subscribers",un)}["content","title","tags","coverPreview","coverPublicUrl","section","coverHeight","coverPosX","coverFitMode","coverZoom","sectionsSelected","lockImageSize"].forEach(un=>localStorage.removeItem(`${he}${un}`));const Wo=(be==null?void 0:be.slug)||(be==null?void 0:be.id);R==="published"?e(`/article/${Wo}`):N(!1)}catch(G){console.error("Publish failed",G),I((G==null?void 0:G.message)||String(G)),N(!1)}},de=R=>{const G=R.trim().toLowerCase();if(!G||r.includes(G))return;const se=[...r,G].slice(0,6);i(se),localStorage.setItem(`${he}tags`,JSON.stringify(se))},B=()=>{if(!P)return;const R=window.prompt("Enter URL (https://...)");R&&P.chain().focus().extendMarkRange("link").setLink({href:R}).run()},Me=x.useMemo(()=>!!t.trim()&&P&&P.getText().trim().length>50&&!h,[t,P,h]);return g.jsx("div",{className:"max-w-5xl mx-auto px-4 md:px-6 py-10",children:g.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg overflow-hidden shadow-sm",children:[g.jsxs("div",{className:"relative bg-gray-50 dark:bg-gray-800 border-b",children:[c?g.jsxs("div",{className:"w-full relative overflow-hidden",style:{height:w==="compact"?120:`${m}px`},children:[g.jsx("img",{src:c,alt:"cover",className:"w-full h-full object-center transition-transform",style:{objectFit:w==="contain"?"contain":"cover",objectPosition:`${v}% center`,transform:`scale(${w==="fill"?E/100:1})`}}),h&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:g.jsx("div",{className:"bg-white dark:bg-gray-800 px-3 py-2 rounded shadow text-sm",children:"Uploading cover..."})})]}):g.jsx("div",{className:"w-full h-80 flex items-center justify-center text-gray-400 dark:text-gray-400",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-3 text-lg md:text-2xl text-gray-700 dark:text-gray-200",children:"Add a cover image to your article"}),g.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden"}),g.jsx("span",{className:"px-4 py-2 rounded-full border text-sm bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200",children:"Upload cover"})]})]})}),g.jsx("div",{className:"absolute right-4 bottom-4 flex gap-2",children:g.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200",children:"Draft"})})]}),g.jsxs("div",{className:"p-6",children:[g.jsx("input",{value:t,onChange:R=>{n(R.target.value),localStorage.setItem(`${he}title`,R.target.value)},placeholder:"Write a compelling headline...",className:"w-full text-4xl md:text-5xl font-extrabold outline-none placeholder-gray-400 dark:placeholder-gray-500 mb-4 text-gray-900 dark:text-gray-100"}),g.jsxs("div",{className:"mb-4 flex items-start justify-between gap-4",children:[g.jsxs("div",{className:"flex-1 flex items-center gap-2 bg-white dark:bg-gray-800 rounded-md px-2 py-1 shadow-sm",children:[g.jsx(Zi,{label:"B",onClick:()=>P==null?void 0:P.chain().focus().toggleBold().run(),title:"Bold"}),g.jsx(Zi,{label:"I",onClick:()=>P==null?void 0:P.chain().focus().toggleItalic().run(),title:"Italic"}),g.jsx(Zi,{label:"H1",onClick:()=>P==null?void 0:P.chain().focus().toggleHeading({level:1}).run(),title:"H1"}),g.jsx(Zi,{label:"H2",onClick:()=>P==null?void 0:P.chain().focus().toggleHeading({level:2}).run(),title:"H2"}),g.jsx(Zi,{label:"•",onClick:()=>P==null?void 0:P.chain().focus().toggleBulletList().run(),title:"Bullet list"}),g.jsx(Zi,{label:"1.",onClick:()=>P==null?void 0:P.chain().focus().toggleOrderedList().run(),title:"Numbered list"}),g.jsx(Zi,{label:"❝",onClick:()=>P==null?void 0:P.chain().focus().toggleBlockquote().run(),title:"Quote"}),g.jsx(Zi,{label:"</>",onClick:()=>P==null?void 0:P.chain().focus().toggleCodeBlock().run(),title:"Code block"}),g.jsx(Zi,{label:"Link",onClick:B,title:"Insert link"}),g.jsxs("label",{className:"cursor-pointer ml-1 inline-flex items-center",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:"hidden"}),g.jsx("span",{className:"px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:"Image"})]})]}),g.jsxs("div",{className:"flex flex-col items-end gap-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"mr-2",children:[g.jsx("div",{className:"text-sm font-medium mb-1 text-gray-700 dark:text-gray-200",children:"Post to"}),g.jsx("div",{className:"flex gap-2 items-center flex-wrap text-gray-700 dark:text-gray-200 text-sm",children:["live-articles","research-notes","deal-tracker","markets","opinions-editorials","uncategorized"].map(R=>{const G=R==="live-articles"?"Live Articles":R==="research-notes"?"Research Notes":R==="deal-tracker"?"Deal Tracker":R==="markets"?"Markets":R==="opinions-editorials"?"Opinions & Editorials":"Other";return g.jsxs("label",{className:"inline-flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:k.includes(R),onChange:se=>{let ee=[];se.target.checked?ee=Array.from(new Set([...k,R])):ee=k.filter(ye=>ye!==R),ee.includes("live-articles")||(ee=["live-articles",...ee]),C(ee),localStorage.setItem(`${he}sectionsSelected`,JSON.stringify(ee))},disabled:R==="live-articles"}),g.jsx("span",{children:G})]},R)})})]}),g.jsx("input",{type:"text",placeholder:"Add a tag and press Enter (e.g. macro, deals)",onKeyDown:R=>{R.key==="Enter"&&(R.preventDefault(),de(R.target.value),R.target.value="")},className:"border rounded-md px-3 py-2 text-sm text-gray-800 dark:text-gray-100 bg-white dark:bg-gray-800"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>oe("draft"),disabled:M||h,className:"px-4 py-2 rounded-md border hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-60 text-gray-800 dark:text-gray-100",children:"Save draft"}),g.jsx("button",{onClick:()=>oe("published"),disabled:!Me||M,className:"px-4 py-2 rounded-md bg-blue-600 text-white font-medium disabled:opacity-60",children:M?"Saving...":h?"Uploading cover...":"Publish"})]})]})]}),g.jsx("div",{children:g.jsx(Nce,{editor:P})}),J&&g.jsx("div",{className:"mt-4 border-t pt-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:"Selected image:"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>Ae("full"),className:"px-2 py-1 rounded border text-sm",children:"Full"}),g.jsx("button",{onClick:()=>Ae("center"),className:"px-2 py-1 rounded border text-sm",children:"Center"}),g.jsx("button",{onClick:()=>Ae("compact"),className:"px-2 py-1 rounded border text-sm",children:"Compact"})]}),g.jsx("div",{className:"flex gap-2 ml-4",children:[25,50,75,100].map(R=>g.jsxs("button",{onClick:()=>We(R),className:"px-2 py-1 rounded border text-sm",children:[R,"%"]},R))}),g.jsx("div",{className:"ml-4",children:g.jsxs("label",{className:"inline-flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:A,onChange:Y}),g.jsx("span",{className:"text-sm",children:"Lock image size"})]})}),g.jsx("div",{className:"ml-auto",children:g.jsx("button",{onClick:Dt,className:"px-3 py-1 rounded border text-sm text-red-600 dark:text-red-400",children:"Remove"})})]})}),g.jsxs("div",{className:"mt-6 border-t pt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[g.jsx("div",{className:"col-span-2 space-y-2",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-200",children:"Cover height (px)"}),g.jsx("input",{type:"range",min:120,max:600,value:m,onChange:R=>{const G=Number(R.target.value);y(G),localStorage.setItem(`${he}coverHeight`,String(G))},disabled:w==="compact"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-200",children:"Fit mode"}),g.jsxs("select",{value:w,onChange:R=>{S(R.target.value),localStorage.setItem(`${he}coverFitMode`,R.target.value)},className:"border rounded px-2 py-1",children:[g.jsx("option",{value:"fill",children:"Fill (cover)"}),g.jsx("option",{value:"contain",children:"Fit (contain)"}),g.jsx("option",{value:"compact",children:"Compact (minimized)"})]})]}),w==="fill"&&g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-200",children:"Zoom (%)"}),g.jsx("input",{type:"range",min:100,max:150,value:E,onChange:R=>{const G=Number(R.target.value);T(G),localStorage.setItem(`${he}coverZoom`,String(G))}})]})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-200",children:"Cover focus (X %)"}),g.jsx("input",{type:"range",min:0,max:100,value:v,onChange:R=>{const G=Number(R.target.value);b(G),localStorage.setItem(`${he}coverPosX`,String(G))}})]}),g.jsxs("div",{className:"col-span-3 flex gap-2",children:[g.jsxs("label",{className:"inline-flex items-center",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"hidden"}),g.jsx("span",{className:"px-3 py-1 rounded border bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200",children:"Change cover"})]}),g.jsx("button",{type:"button",className:"px-3 py-1 rounded border bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200",onClick:z,children:"Remove cover"}),g.jsx("button",{type:"button",onClick:()=>window.open("/sections/opinions-editorials","_blank"),className:"ml-auto px-3 py-1 rounded border bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200",children:"Preview in Opinions"})]})]}),g.jsx("div",{className:"mt-6 hidden lg:block",children:g.jsxs("div",{className:"border rounded-xl p-4 bg-white dark:bg-gray-800",children:[g.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Article preview"}),g.jsx("p",{className:"text-sm mt-2 text-gray-600 dark:text-gray-300",children:"Live preview of metadata & cover"}),g.jsx("div",{className:"mt-4",children:c?g.jsx("img",{src:c,alt:"cover preview",className:"w-full rounded-lg object-cover h-40",style:{objectPosition:`${v}% center`}}):g.jsx("div",{className:"w-full h-40 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-sm text-gray-400 dark:text-gray-300",children:"Cover preview"})}),g.jsxs("div",{className:"mt-3",children:[g.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:"Title"}),g.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 truncate",children:t||"—"})]}),g.jsxs("div",{className:"mt-3",children:[g.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:"Tags"}),g.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:r.map(R=>g.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-800 dark:text-gray-100",children:["#",R]},R))})]})]})}),L&&g.jsxs("p",{className:"mt-4 text-sm text-red-600 dark:text-red-400",children:["Error: ",L]})]})]})})}var Ode=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Mde="VisuallyHidden",vC=x.forwardRef((e,t)=>g.jsx(gt.span,{...e,ref:t,style:{...Ode,...e.style}}));vC.displayName=Mde;var xC="ToastProvider",[bC,Nde,jde]=xE("Toast"),[z3,$Ce]=cu("Toast",[jde]),[Ide,kv]=z3(xC),U3=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,l]=x.useState(null),[c,u]=x.useState(0),d=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xC}\`. Expected non-empty \`string\`.`),g.jsx(bC.Provider,{scope:t,children:g.jsx(Ide,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(h=>h+1),[]),onToastRemove:x.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};U3.displayName=xC;var V3="ToastViewport",Rde=["F8"],U1="toast.viewportPause",V1="toast.viewportResume",W3=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=Rde,label:i="Notifications ({hotkey})",...o}=e,s=kv(V3,n),a=Nde(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=wn(t,d,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;x.useEffect(()=>{const y=v=>{var w;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=l.current,v=d.current;if(p&&y&&v){const b=()=>{if(!s.isClosePausedRef.current){const T=new CustomEvent(U1);v.dispatchEvent(T),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const T=new CustomEvent(V1);v.dispatchEvent(T),s.isClosePausedRef.current=!1}},S=T=>{!y.contains(T.relatedTarget)&&w()},E=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",b),y.addEventListener("focusout",S),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",E),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[p,s.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:y})=>{const b=a().map(w=>{const S=w.ref.current,E=[S,...Gde(S)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?b.reverse():b).flat()},[a]);return x.useEffect(()=>{const y=d.current;if(y){const v=b=>{var E,T,k;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const C=document.activeElement,A=b.shiftKey;if(b.target===y&&A){(E=c.current)==null||E.focus();return}const N=m({tabbingDirection:A?"backwards":"forwards"}),L=N.findIndex(I=>I===C);tb(N.slice(L+1))?b.preventDefault():A?(T=c.current)==null||T.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,m]),g.jsxs(KZ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&g.jsx(W1,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});tb(y)}}),g.jsx(bC.Slot,{scope:n,children:g.jsx(gt.ol,{tabIndex:-1,...o,ref:f})}),p&&g.jsx(W1,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});tb(y)}})]})});W3.displayName=V3;var H3="ToastFocusProxy",W1=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=kv(H3,n);return g.jsx(vC,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});W1.displayName=H3;var lh="Toast",Dde="toast.swipeStart",Lde="toast.swipeMove",$de="toast.swipeCancel",Fde="toast.swipeEnd",K3=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[a,l]=yE({prop:r,defaultProp:i??!0,onChange:o,caller:lh});return g.jsx(fu,{present:n||a,children:g.jsx(Ude,{open:a,...s,ref:t,onClose:()=>l(!1),onPause:mr(e.onPause),onResume:mr(e.onResume),onSwipeStart:me(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:me(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});K3.displayName=lh;var[Bde,zde]=z3(lh,{onClose(){}}),Ude=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=e,m=kv(lh,n),[y,v]=x.useState(null),b=wn(t,I=>v(I)),w=x.useRef(null),S=x.useRef(null),E=i||m.duration,T=x.useRef(0),k=x.useRef(E),C=x.useRef(0),{onToastAdd:A,onToastRemove:O}=m,M=mr(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),s()}),N=x.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),T.current=new Date().getTime(),C.current=window.setTimeout(M,I))},[M]);x.useEffect(()=>{const I=m.viewport;if(I){const J=()=>{N(k.current),c==null||c()},$=()=>{const K=new Date().getTime()-T.current;k.current=k.current-K,window.clearTimeout(C.current),l==null||l()};return I.addEventListener(U1,$),I.addEventListener(V1,J),()=>{I.removeEventListener(U1,$),I.removeEventListener(V1,J)}}},[m.viewport,E,l,c,N]),x.useEffect(()=>{o&&!m.isClosePausedRef.current&&N(E)},[o,E,m.isClosePausedRef,N]),x.useEffect(()=>(A(),()=>O()),[A,O]);const L=x.useMemo(()=>y?Z3(y):null,[y]);return m.viewport?g.jsxs(g.Fragment,{children:[L&&g.jsx(Vde,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:L}),g.jsx(Bde,{scope:n,onClose:M,children:nu.createPortal(g.jsx(bC.ItemSlot,{scope:n,children:g.jsx(HZ,{asChild:!0,onEscapeKeyDown:me(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||M(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(gt.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:me(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:me(e.onPointerMove,I=>{if(!w.current)return;const J=I.clientX-w.current.x,$=I.clientY-w.current.y,K=!!S.current,P=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,q=P?j(0,J):0,z=P?0:j(0,$),U=I.pointerType==="touch"?10:2,ne={x:q,y:z},Oe={originalEvent:I,delta:ne};K?(S.current=ne,yp(Lde,d,Oe,{discrete:!1})):lN(ne,m.swipeDirection,U)?(S.current=ne,yp(Dde,u,Oe,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(J)>U||Math.abs($)>U)&&(w.current=null)}),onPointerUp:me(e.onPointerUp,I=>{const J=S.current,$=I.target;if($.hasPointerCapture(I.pointerId)&&$.releasePointerCapture(I.pointerId),S.current=null,w.current=null,J){const K=I.currentTarget,P={originalEvent:I,delta:J};lN(J,m.swipeDirection,m.swipeThreshold)?yp(Fde,h,P,{discrete:!0}):yp($de,f,P,{discrete:!0}),K.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Vde=e=>{const{__scopeToast:t,children:n,...r}=e,i=kv(lh,t),[o,s]=x.useState(!1),[a,l]=x.useState(!1);return Kde(()=>s(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(_E,{asChild:!0,children:g.jsx(vC,{...r,children:o&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},Wde="ToastTitle",q3=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx(gt.div,{...r,ref:t})});q3.displayName=Wde;var Hde="ToastDescription",G3=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx(gt.div,{...r,ref:t})});G3.displayName=Hde;var Y3="ToastAction",J3=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?g.jsx(Q3,{altText:n,asChild:!0,children:g.jsx(wC,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Y3}\`. Expected non-empty \`string\`.`),null)});J3.displayName=Y3;var X3="ToastClose",wC=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=zde(X3,n);return g.jsx(Q3,{asChild:!0,children:g.jsx(gt.button,{type:"button",...r,ref:t,onClick:me(e.onClick,i.onClose)})})});wC.displayName=X3;var Q3=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return g.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Z3(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),qde(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...Z3(r))}}),t}function yp(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?vE(i,o):i.dispatchEvent(o)}var lN=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function Kde(e=()=>{}){const t=mr(e);_o(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function qde(e){return e.nodeType===e.ELEMENT_NODE}function Gde(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tb(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Yde=U3,eU=W3,tU=K3,nU=q3,rU=G3,iU=J3,oU=wC;const Jde=Yde,sU=Te.forwardRef(({className:e,...t},n)=>g.jsx(eU,{ref:n,className:ln("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sU.displayName=eU.displayName;const Xde=QL("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aU=Te.forwardRef(({className:e,variant:t,...n},r)=>g.jsx(tU,{ref:r,className:ln(Xde({variant:t}),e),...n}));aU.displayName=tU.displayName;const Qde=Te.forwardRef(({className:e,...t},n)=>g.jsx(iU,{ref:n,className:ln("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Qde.displayName=iU.displayName;const lU=Te.forwardRef(({className:e,...t},n)=>g.jsx(oU,{ref:n,className:ln("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:g.jsx(HL,{className:"h-4 w-4"})}));lU.displayName=oU.displayName;const cU=Te.forwardRef(({className:e,...t},n)=>g.jsx(nU,{ref:n,className:ln("text-sm font-semibold",e),...t}));cU.displayName=nU.displayName;const uU=Te.forwardRef(({className:e,...t},n)=>g.jsx(rU,{ref:n,className:ln("text-sm opacity-90",e),...t}));uU.displayName=rU.displayName;function Zde(){const{toasts:e}=Xs();return g.jsxs(Jde,{children:[e.map(({id:t,title:n,description:r,action:i,...o})=>g.jsxs(aU,{...o,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(cU,{children:n}),r&&g.jsx(uU,{children:r})]}),i,g.jsx(lU,{})]},t)),g.jsx(sU,{})]})}var Ev={},dU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(dU);var SC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(SC);var kC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(kC);var Cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const c=n[o];a?c==="\\"&&o+1<i?(o++,s+=n[o]):c===a?a="":s+=c:l?c==='"'||c==="'"?a=c:c==="]"?(l=!1,r.push(s),s=""):s+=c:c==="["?(l=!0,s&&(r.push(s),s="")):c==="."?s&&(r.push(s),s=""):s+=c,o++}return s&&r.push(s),r}e.toPath=t})(Cv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dU,n=SC,r=kC,i=Cv;function o(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?n.isDeepKey(l)?o(a,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=a[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(a,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=a[l];return u===void 0?c:u}}}function s(a,l,c){if(l.length===0)return c;let u=a;for(let d=0;d<l.length;d++){if(u==null||t.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}e.get=o})(Ev);var efe=Ev.get;const Tv=yr(efe);var De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=typeof Symbol=="function"&&Symbol.for,EC=qt?Symbol.for("react.element"):60103,CC=qt?Symbol.for("react.portal"):60106,Av=qt?Symbol.for("react.fragment"):60107,Pv=qt?Symbol.for("react.strict_mode"):60108,_v=qt?Symbol.for("react.profiler"):60114,Ov=qt?Symbol.for("react.provider"):60109,Mv=qt?Symbol.for("react.context"):60110,TC=qt?Symbol.for("react.async_mode"):60111,Nv=qt?Symbol.for("react.concurrent_mode"):60111,jv=qt?Symbol.for("react.forward_ref"):60112,Iv=qt?Symbol.for("react.suspense"):60113,tfe=qt?Symbol.for("react.suspense_list"):60120,Rv=qt?Symbol.for("react.memo"):60115,Dv=qt?Symbol.for("react.lazy"):60116,nfe=qt?Symbol.for("react.block"):60121,rfe=qt?Symbol.for("react.fundamental"):60117,ife=qt?Symbol.for("react.responder"):60118,ofe=qt?Symbol.for("react.scope"):60119;function br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case EC:switch(e=e.type,e){case TC:case Nv:case Av:case _v:case Pv:case Iv:return e;default:switch(e=e&&e.$$typeof,e){case Mv:case jv:case Dv:case Rv:case Ov:return e;default:return t}}case CC:return t}}}function fU(e){return br(e)===Nv}De.AsyncMode=TC;De.ConcurrentMode=Nv;De.ContextConsumer=Mv;De.ContextProvider=Ov;De.Element=EC;De.ForwardRef=jv;De.Fragment=Av;De.Lazy=Dv;De.Memo=Rv;De.Portal=CC;De.Profiler=_v;De.StrictMode=Pv;De.Suspense=Iv;De.isAsyncMode=function(e){return fU(e)||br(e)===TC};De.isConcurrentMode=fU;De.isContextConsumer=function(e){return br(e)===Mv};De.isContextProvider=function(e){return br(e)===Ov};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===EC};De.isForwardRef=function(e){return br(e)===jv};De.isFragment=function(e){return br(e)===Av};De.isLazy=function(e){return br(e)===Dv};De.isMemo=function(e){return br(e)===Rv};De.isPortal=function(e){return br(e)===CC};De.isProfiler=function(e){return br(e)===_v};De.isStrictMode=function(e){return br(e)===Pv};De.isSuspense=function(e){return br(e)===Iv};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Av||e===Nv||e===_v||e===Pv||e===Iv||e===tfe||typeof e=="object"&&e!==null&&(e.$$typeof===Dv||e.$$typeof===Rv||e.$$typeof===Ov||e.$$typeof===Mv||e.$$typeof===jv||e.$$typeof===rfe||e.$$typeof===ife||e.$$typeof===ofe||e.$$typeof===nfe)};De.typeOf=br;var Dr=e=>e===0?0:e>0?1:-1,Kr=e=>typeof e=="number"&&e!=+e,Ma=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fe=e=>(typeof e=="number"||e instanceof Number)&&!Kr(e),Wi=e=>fe(e)||typeof e=="string",sfe=0,Of=e=>{var t=++sfe;return"".concat(e||"").concat(t)},Vs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&typeof t!="string")return r;var o;if(Ma(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Kr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},hU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function so(e,t,n){return fe(e)&&fe(t)?e+n*(t-e):t}function pU(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Tv(r,t))===n)}var Ht=e=>e===null||typeof e>"u",AC=e=>Ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),afe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function PC(e){if(typeof e!="string")return!1;var t=afe;return t.includes(e)}var lfe=["viewBox","children"],cN=["points","pathLength"],nb={svg:lfe,polygon:cN,polyline:cN},_C=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{PC(i)&&(r[i]=t||(o=>n[i](n,o)))}),r},cfe=(e,t,n)=>r=>(e(t,n,r),null),ufe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];PC(i)&&typeof o=="function"&&(r||(r={}),r[i]=cfe(o,t,n))}),r},dfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function mU(e){if(typeof e!="string")return!1;var t=dfe;return t.includes(e)}function vl(e){var t=Object.entries(e).filter(n=>{var[r]=n;return mU(r)});return Object.fromEntries(t)}var gU=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ffe=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(i=r&&(nb==null?void 0:nb[r]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),a=typeof e!="function"&&(!!r&&o.includes(t)||mU(t)),l=!!n&&PC(t);return s||a||l},an=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;ffe((s=r)===null||s===void 0?void 0:s[o],o,t,n)&&(i[o]=r[o])}),i},hfe=["children","width","height","viewBox","className","style","title","desc"];function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H1.apply(null,arguments)}function pfe(e,t){if(e==null)return{};var n,r,i=mfe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yU=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:c}=e,u=pfe(e,hfe),d=o||{width:r,height:i,x:0,y:0},f=Be("recharts-surface",s);return x.createElement("svg",H1({},an(u,!0,"svg"),{className:f,width:r,height:i,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),gfe=["children","className"];function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K1.apply(null,arguments)}function yfe(e,t){if(e==null)return{};var n,r,i=vfe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pu=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=yfe(e,gfe),o=Be("recharts-layer",r);return x.createElement("g",K1({className:o},an(i,!0),{ref:t}),n)}),xfe=x.createContext(null);function ft(e){return function(){return e}}const q1=Math.PI,G1=2*q1,ya=1e-6,bfe=G1-ya;function vU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function wfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return vU;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Sfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?vU:wfe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,c=i-n,u=s-t,d=a-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>ya)if(!(Math.abs(d*l-c*u)>ya)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,m=l*l+c*c,y=h*h+p*p,v=Math.sqrt(m),b=Math.sqrt(f),w=o*Math.tan((q1-Math.acos((m+f-y)/(2*v*b)))/2),S=w/b,E=w/v;Math.abs(S-1)>ya&&this._append`L${t+S*u},${n+S*d}`,this._append`A${o},${o},0,0,${+(d*h>u*p)},${this._x1=t+E*l},${this._y1=n+E*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,u=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ya||Math.abs(this._y1-u)>ya)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%G1+G1),f>bfe?this._append`A${r},${r},0,1,${d},${t-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>ya&&this._append`A${r},${r},0,${+(f>=q1)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xU(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Sfe(t)}function OC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bU(e){this._context=e}bU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lv(e){return new bU(e)}function wU(e){return e[0]}function SU(e){return e[1]}function kU(e,t){var n=ft(!0),r=null,i=Lv,o=null,s=xU(a);e=typeof e=="function"?e:e===void 0?wU:ft(e),t=typeof t=="function"?t:t===void 0?SU:ft(t);function a(l){var c,u=(l=OC(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,c,l),+t(d,c,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:ft(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:ft(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ft(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function vp(e,t,n){var r=null,i=ft(!0),o=null,s=Lv,a=null,l=xU(c);e=typeof e=="function"?e:e===void 0?wU:ft(+e),t=typeof t=="function"?t:ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?SU:ft(+n);function c(d){var f,h,p,m=(d=OC(d)).length,y,v=!1,b,w=new Array(m),S=new Array(m);for(o==null&&(a=s(b=l())),f=0;f<=m;++f){if(!(f<m&&i(y=d[f],f,d))===v)if(v=!v)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(w[p],S[p]);a.lineEnd(),a.areaEnd()}v&&(w[f]=+e(y,f,d),S[f]=+t(y,f,d),a.point(r?+r(y,f,d):w[f],n?+n(y,f,d):S[f]))}if(b)return a=null,b+""||null}function u(){return kU().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:ft(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ft(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ft(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:ft(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ft(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ft(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ft(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}class EU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function kfe(e){return new EU(e,!0)}function Efe(e){return new EU(e,!1)}function Bg(){}function zg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function CU(e){this._context=e}CU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cfe(e){return new CU(e)}function TU(e){this._context=e}TU.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tfe(e){return new TU(e)}function AU(e){this._context=e}AU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Afe(e){return new AU(e)}function PU(e){this._context=e}PU.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Pfe(e){return new PU(e)}function uN(e){return e<0?-1:1}function dN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(uN(o)+uN(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function fN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rb(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function Ug(e){this._context=e}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rb(this,this._t0,fN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rb(this,fN(this,n=dN(this,e,t)),n);break;default:rb(this,this._t0,n=dN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _U(e){this._context=new OU(e)}(_U.prototype=Object.create(Ug.prototype)).point=function(e,t){Ug.prototype.point.call(this,t,e)};function OU(e){this._context=e}OU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function _fe(e){return new Ug(e)}function Ofe(e){return new _U(e)}function MU(e){this._context=e}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hN(e),i=hN(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hN(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Mfe(e){return new MU(e)}function $v(e,t){this._context=e,this._t=t}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Nfe(e){return new $v(e,.5)}function jfe(e){return new $v(e,0)}function Ife(e){return new $v(e,1)}function Kc(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Rfe(e,t){return e[t]}function Dfe(e){const t=[];return t.key=e,t}function Lfe(){var e=ft([]),t=Y1,n=Kc,r=Rfe;function i(o){var s=Array.from(e.apply(this,arguments),Dfe),a,l=s.length,c=-1,u;for(const d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(d,s[a].key,c,o)]).data=d;for(a=0,u=OC(t(s));a<l;++a)s[u[a]].index=a;return n(s,u),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ft(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ft(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Y1:typeof o=="function"?o:ft(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Kc,i):n},i}function $fe(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Kc(e,t)}}function Ffe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Kc(e,t)}}function Bfe(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=e[t[a]],d=u[r][1]||0,f=u[r-1][1]||0,h=(d-f)/2,p=0;p<a;++p){var m=e[t[p]],y=m[r][1]||0,v=m[r-1][1]||0;h+=y-v}l+=d,c+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Kc(e,t)}}var NU={},jU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}e.uniqBy=t})(jU);var MC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(MC);var IU={},Fv={},RU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(RU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RU;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Fv);var DU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(DU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv,n=DU;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(IU);var LU={},$U={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ev;function n(r){return function(i){return t.get(i,r)}}e.property=n})($U);var FU={},ib={},ob={},NC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(NC);var jC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(jC);var IC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(IC);var pN;function zfe(){return pN||(pN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC(),n=NC,r=jC,i=IC;function o(d,f,h){return typeof h!="function"?t.isMatch(d,f):s(d,f,function p(m,y,v,b,w,S){const E=h(m,y,v,b,w,S);return E!==void 0?!!E:s(m,y,p,S)},new Map)}function s(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,h,p);case"function":return Object.keys(f).length>0?s(d,{...f},h,p):i.eq(d,f);default:return n.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function a(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,p);if(f instanceof Map)return l(d,f,h,p);if(f instanceof Set)return u(d,f,h,p);const m=Object.keys(f);if(d==null)return m.length===0;if(m.length===0)return!0;if(p&&p.has(f))return p.get(f)===d;p&&p.set(f,d);try{for(let y=0;y<m.length;y++){const v=m[y];if(!r.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,p))return!1}return!0}finally{p&&p.delete(f)}}function l(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[m,y]of f.entries()){const v=d.get(m);if(h(v,y,m,d,f,p)===!1)return!1}return!0}function c(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const m=new Set;for(let y=0;y<f.length;y++){const v=f[y];let b=!1;for(let w=0;w<d.length;w++){if(m.has(w))continue;const S=d[w];let E=!1;if(h(S,v,y,d,f,p)&&(E=!0),E){m.add(w),b=!0;break}}if(!b)return!1}return!0}function u(d,f,h,p){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,p):!1}e.isMatchWith=o,e.isSetMatch=u}(ob)),ob}var mN;function RC(){return mN||(mN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zfe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(ib)),ib}var BU={},DC={},zU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(zU);var LC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(LC);var $C={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",m="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",E="[object Int8Array]",T="[object Int16Array]",k="[object Int32Array]",C="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=m,e.dateTag=a,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=d,e.int16ArrayTag=T,e.int32ArrayTag=k,e.int8ArrayTag=E,e.mapTag=l,e.numberTag=r,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})($C);var UU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(UU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zU,n=LC,r=$C,i=jC,o=UU;function s(u,d){return a(u,void 0,u,new Map,d)}function a(u,d,f,h=new Map,p=void 0){const m=p==null?void 0:p(u,d,f,h);if(m!==void 0)return m;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const y=new Array(u.length);h.set(u,y);for(let v=0;v<u.length;v++)y[v]=a(u[v],v,f,h,p);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;h.set(u,y);for(const[v,b]of u)y.set(v,a(b,v,f,h,p));return y}if(u instanceof Set){const y=new Set;h.set(u,y);for(const v of u)y.add(a(v,void 0,f,h,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(o.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,y);for(let v=0;v<u.length;v++)y[v]=a(u[v],v,f,h,p);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,y),l(y,u,f,h,p),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return h.set(u,y),l(y,u,f,h,p),y}if(u instanceof Blob){const y=new Blob([u],{type:u.type});return h.set(u,y),l(y,u,f,h,p),y}if(u instanceof Error){const y=new u.constructor;return h.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,l(y,u,f,h,p),y}if(typeof u=="object"&&c(u)){const y=Object.create(Object.getPrototypeOf(u));return h.set(u,y),l(y,u,f,h,p),y}return u}function l(u,d,f=u,h,p){const m=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<m.length;y++){const v=m[y],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=a(d[v],v,f,h,p))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=a,e.copyProperties=l})(DC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DC;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(BU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC(),n=BU;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(FU);var VU={},WU={},HU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DC,n=$C;function r(i,o){return t.cloneDeepWith(i,(s,a,l,c)=>{const u=o==null?void 0:o(s,a,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(HU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HU;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(WU);var KU={},FC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(FC);var qU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(qU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SC,n=FC,r=qU,i=Cv;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&t.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=o})(KU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RC(),n=kC,r=WU,i=Ev,o=KU;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,a);return u===void 0?o.has(c,a):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(VU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MC,n=$U,r=FU,i=VU;function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(LU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU,n=MC,r=IU,i=LU;function o(s,a=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(a)):[]}e.uniqBy=o})(NU);var Ufe=NU.uniqBy;const gN=yr(Ufe);function Vfe(e,t,n){return t===!0?gN(e,n):typeof t=="function"?gN(e,t):e}var BC=x.createContext(null),Wfe=e=>e,Fn=()=>{var e=x.useContext(BC);return e?e.store.dispatch:Wfe},lm=()=>{},Hfe=()=>lm,Kfe=(e,t)=>e===t;function ce(e){var t=x.useContext(BC);return g3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Hfe,t?t.store.getState:lm,t?t.store.getState:lm,t?e:lm,Kfe)}function qfe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Gfe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Yfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var yN=e=>Array.isArray(e)?e:[e];function Jfe(e){const t=Array.isArray(e[0])?e[0]:e;return Yfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Xfe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Qfe=class{constructor(e){this.value=e}deref(){return this.value}},Zfe=typeof WeakRef<"u"?WeakRef:Qfe,ehe=0,vN=1;function xp(){return{s:ehe,v:void 0,o:null,p:null}}function GU(e,t={}){let n=xp();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var d;let a=n;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const y=m.get(p);y===void 0?(a=xp(),m.set(p,a)):a=y}else{let m=a.p;m===null&&(a.p=m=new Map);const y=m.get(p);y===void 0?(a=xp(),m.set(p,a)):a=y}}const c=a;let u;if(a.s===vN)u=a.v;else if(u=e.apply(null,arguments),o++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,u)&&(u=f,o!==0&&o--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Zfe(u):u}return c.s=vN,c.v=u,u}return s.clearCache=()=>{n=xp(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function the(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),qfe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=GU,argsMemoizeOptions:p=[],devModeChecks:m={}}=u,y=yN(f),v=yN(p),b=Jfe(i),w=d(function(){return o++,c.apply(null,arguments)},...y),S=h(function(){s++;const T=Xfe(b,arguments);return a=w.apply(null,T),a},...v);return Object.assign(S,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var D=the(GU),nhe=Object.assign((e,t=D)=>{Gfe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>nhe}),YU={},JU={},XU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),a=t(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};e.compareValues=n})(XU);var QU={},zC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(zC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(QU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XU,n=QU,r=Cv;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(h=>String(h));const c=(h,p)=>{let m=h;for(let y=0;y<p.length&&m!=null;++y)m=m[p[y]];return m},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,d=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:r.toPath(h)}));return o.map(h=>({original:h,criteria:d.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let m=0;m<d.length;m++){const y=t.compareValues(h.criteria[m],p.criteria[m],a[m]);if(y!==0)return y}return 0}).map(h=>h.original)}e.orderBy=i})(JU);var ZU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let c=0;c<a.length;c++){const u=a[c];Array.isArray(u)&&l<o?s(u,l+1):i.push(u)}};return s(n,0),i}e.flatten=t})(ZU);var UC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FC,n=Fv,r=NC,i=IC;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}e.isIterateeCall=o})(UC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JU,n=ZU,r=UC;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(YU);var rhe=YU.sortBy;const Bv=yr(rhe);var e4=e=>e.legend.settings,ihe=e=>e.legend.size,ohe=e=>e.legend.payload;D([ohe,e4],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Bv(r,n):r});var bp=1;function she(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>bp||Math.abs(s.left-t.left)>bp||Math.abs(s.top-t.top)>bp||Math.abs(s.width-t.width)>bp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ahe=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),xN=ahe,sb=()=>Math.random().toString(36).substring(7).split("").join("."),lhe={INIT:`@@redux/INIT${sb()}`,REPLACE:`@@redux/REPLACE${sb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sb()}`},Vg=lhe;function VC(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function t4(e,t,n){if(typeof e!="function")throw new Error(Xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xt(1));return n(t4)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((y,v)=>{s.set(v,y)}))}function u(){if(l)throw new Error(Xt(3));return i}function d(y){if(typeof y!="function")throw new Error(Xt(4));if(l)throw new Error(Xt(5));let v=!0;c();const b=a++;return s.set(b,y),function(){if(v){if(l)throw new Error(Xt(6));v=!1,c(),s.delete(b),o=null}}}function f(y){if(!VC(y))throw new Error(Xt(7));if(typeof y.type>"u")throw new Error(Xt(8));if(typeof y.type!="string")throw new Error(Xt(17));if(l)throw new Error(Xt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=s).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(Xt(10));r=y,f({type:Vg.REPLACE})}function p(){const y=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Xt(11));function b(){const S=v;S.next&&S.next(u())}return b(),{unsubscribe:y(b)}},[xN](){return this}}}return f({type:Vg.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[xN]:p}}function che(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Vg.INIT})>"u")throw new Error(Xt(12));if(typeof n(void 0,{type:Vg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xt(13))})}function n4(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{che(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],h=s[d],p=f(h,a);if(typeof p>"u")throw a&&a.type,new Error(Xt(14));c[d]=p,l=l||p!==h}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Wg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function uhe(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Xt(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=e.map(l=>l(s));return o=Wg(...a)(i.dispatch),{...i,dispatch:o}}}function r4(e){return VC(e)&&"type"in e&&typeof e.type=="string"}var i4=Symbol.for("immer-nothing"),bN=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function ci(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qc=Object.getPrototypeOf;function rl(e){return!!e&&!!e[gr]}function No(e){var t;return e?o4(e)||Array.isArray(e)||!!e[bN]||!!((t=e.constructor)!=null&&t[bN])||ch(e)||Uv(e):!1}var dhe=Object.prototype.constructor.toString();function o4(e){if(!e||typeof e!="object")return!1;const t=qc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dhe}function Hg(e,t){zv(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function zv(e){const t=e[gr];return t?t.type_:Array.isArray(e)?1:ch(e)?2:Uv(e)?3:0}function J1(e,t){return zv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function s4(e,t,n){const r=zv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function fhe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ch(e){return e instanceof Map}function Uv(e){return e instanceof Set}function va(e){return e.copy_||e.base_}function X1(e,t){if(ch(e))return new Map(e);if(Uv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=o4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[gr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(qc(e),r)}else{const r=qc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function WC(e,t=!1){return Vv(e)||rl(e)||!No(e)||(zv(e)>1&&Object.defineProperties(e,{set:{value:wp},add:{value:wp},clear:{value:wp},delete:{value:wp}}),Object.freeze(e),t&&Object.values(e).forEach(n=>WC(n,!0))),e}function wp(){ci(2)}function Vv(e){return Object.isFrozen(e)}var hhe={};function il(e){const t=hhe[e];return t||ci(0,e),t}var Mf;function a4(){return Mf}function phe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wN(e,t){t&&(il("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Q1(e){Z1(e),e.drafts_.forEach(mhe),e.drafts_=null}function Z1(e){e===Mf&&(Mf=e.parent_)}function SN(e){return Mf=phe(Mf,e)}function mhe(e){const t=e[gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[gr].modified_&&(Q1(t),ci(4)),No(e)&&(e=Kg(t,e),t.parent_||qg(t,e)),t.patches_&&il("Patches").generateReplacementPatches_(n[gr].base_,e,t.patches_,t.inversePatches_)):e=Kg(t,n,[]),Q1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==i4?e:void 0}function Kg(e,t,n){if(Vv(t))return t;const r=t[gr];if(!r)return Hg(t,(i,o)=>EN(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return qg(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Hg(o,(a,l)=>EN(e,r,i,a,l,n,s)),qg(e,i,!1),n&&e.patches_&&il("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function EN(e,t,n,r,i,o,s){if(rl(i)){const a=o&&t&&t.type_!==3&&!J1(t.assigned_,r)?o.concat(r):void 0,l=Kg(e,i,a);if(s4(n,r,l),rl(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(No(i)&&!Vv(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Kg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ch(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qg(e,i)}}function qg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&WC(t,n)}function ghe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:a4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=HC;n&&(i=[r],o=Nf);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var HC={get(e,t){if(t===gr)return e;const n=va(e);if(!J1(n,t))return yhe(e,n,t);const r=n[t];return e.finalized_||!No(r)?r:r===ab(e.base_,t)?(lb(e),e.copy_[t]=tS(r,e)):r},has(e,t){return t in va(e)},ownKeys(e){return Reflect.ownKeys(va(e))},set(e,t,n){const r=l4(va(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ab(va(e),t),o=i==null?void 0:i[gr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fhe(n,i)&&(n!==void 0||J1(e.base_,t)))return!0;lb(e),eS(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ab(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lb(e),eS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=va(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ci(11)},getPrototypeOf(e){return qc(e.base_)},setPrototypeOf(){ci(12)}},Nf={};Hg(HC,(e,t)=>{Nf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nf.deleteProperty=function(e,t){return Nf.set.call(this,e,t,void 0)};Nf.set=function(e,t,n){return HC.set.call(this,e[0],t,n,e[0])};function ab(e,t){const n=e[gr];return(n?va(n):e)[t]}function yhe(e,t,n){var i;const r=l4(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function l4(e,t){if(!(t in e))return;let n=qc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qc(n)}}function eS(e){e.modified_||(e.modified_=!0,e.parent_&&eS(e.parent_))}function lb(e){e.copy_||(e.copy_=X1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vhe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ci(6),r!==void 0&&typeof r!="function"&&ci(7);let i;if(No(t)){const o=SN(this),s=tS(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Q1(o):Z1(o)}return wN(o,r),kN(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===i4&&(i=void 0),this.autoFreeze_&&WC(i,!0),r){const o=[],s=[];il("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else ci(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){No(e)||ci(8),rl(e)&&(e=wo(e));const t=SN(this),n=tS(e,void 0);return n[gr].isManual_=!0,Z1(t),n}finishDraft(e,t){const n=e&&e[gr];(!n||!n.isManual_)&&ci(9);const{scope_:r}=n;return wN(r,t),kN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=il("Patches").applyPatches_;return rl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function tS(e,t){const n=ch(e)?il("MapSet").proxyMap_(e,t):Uv(e)?il("MapSet").proxySet_(e,t):ghe(e,t);return(t?t.scope_:a4()).drafts_.push(n),n}function wo(e){return rl(e)||ci(10,e),c4(e)}function c4(e){if(!No(e)||Vv(e))return e;const t=e[gr];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=X1(e,t.scope_.immer_.useStrictShallowCopy_)}else n=X1(e,!0);return Hg(n,(r,i)=>{s4(n,r,c4(i))}),t&&(t.finalized_=!1),n}var xhe=new vhe,u4=xhe.produce;function d4(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var bhe=d4(),whe=d4,She=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wg:Wg.apply(null,arguments)};function qr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(fr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>r4(r)&&r.type===e,n}var f4=class hd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,hd.prototype)}static get[Symbol.species](){return hd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new hd(...t[0].concat(this)):new hd(...t.concat(this))}};function CN(e){return No(e)?u4(e,()=>{}):e}function Sp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function khe(e){return typeof e=="boolean"}var Ehe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new f4;return n&&(khe(n)?s.push(bhe):s.push(whe(n.extraArgument))),s},Che="RTK_autoBatch",TN=e=>t=>{setTimeout(t,e)},The=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TN(10):e.type==="callback"?e.queueNotification:TN(e.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),f=r.subscribe(d);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[Che]),o=!i,o&&(s||(s=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},Ahe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new f4(e);return r&&i.push(The(typeof r=="object"?r:void 0)),i};function Phe(e){const t=Ehe(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(VC(n))l=n4(n);else throw new Error(fr(1));let c;typeof r=="function"?c=r(t):c=t();let u=Wg;i&&(u=She({trace:!1,...typeof i=="object"&&i}));const d=uhe(...c),f=Ahe(d);let h=typeof a=="function"?a(f):f();const p=u(...h);return t4(l,s,p)}function h4(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(fr(28));if(a in t)throw new Error(fr(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function _he(e){return typeof e=="function"}function Ohe(e,t){let[n,r,i]=h4(t),o;if(_he(e))o=()=>CN(e());else{const a=CN(e);o=()=>a}function s(a=o(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(rl(u)){const h=d(u,l);return h===void 0?u:h}else{if(No(u))return u4(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},a)}return s.getInitialState=o,s}var Mhe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nhe=(e=21)=>{let t="",n=e;for(;n--;)t+=Mhe[Math.random()*64|0];return t},jhe=Symbol.for("rtk-slice-createasyncthunk");function Ihe(e,t){return`${e}/${t}`}function Rhe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[jhe];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(fr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(Lhe()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,E){const T=typeof S=="string"?S:S.type;if(!T)throw new Error(fr(12));if(T in c.sliceCaseReducersByType)throw new Error(fr(13));return c.sliceCaseReducersByType[T]=E,u},addMatcher(S,E){return c.sliceMatchers.push({matcher:S,reducer:E}),u},exposeAction(S,E){return c.actionCreators[S]=E,u},exposeCaseReducer(S,E){return c.sliceCaseReducersByName[S]=E,u}};l.forEach(S=>{const E=a[S],T={reducerName:S,type:Ihe(o,S),createNotation:typeof i.reducers=="function"};Fhe(E)?zhe(T,E,u,t):$he(T,E,u)});function d(){const[S={},E=[],T=void 0]=typeof i.extraReducers=="function"?h4(i.extraReducers):[i.extraReducers],k={...S,...c.sliceCaseReducersByType};return Ohe(i.initialState,C=>{for(let A in k)C.addCase(A,k[A]);for(let A of c.sliceMatchers)C.addMatcher(A.matcher,A.reducer);for(let A of E)C.addMatcher(A.matcher,A.reducer);T&&C.addDefaultCase(T)})}const f=S=>S,h=new Map,p=new WeakMap;let m;function y(S,E){return m||(m=d()),m(S,E)}function v(){return m||(m=d()),m.getInitialState()}function b(S,E=!1){function T(C){let A=C[S];return typeof A>"u"&&E&&(A=Sp(p,T,v)),A}function k(C=f){const A=Sp(h,E,()=>new WeakMap);return Sp(A,C,()=>{const O={};for(const[M,N]of Object.entries(i.selectors??{}))O[M]=Dhe(N,C,()=>Sp(p,C,v),E);return O})}return{reducerPath:S,getSelectors:k,get selectors(){return k(T)},selectSlice:T}}const w={name:o,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(S,{reducerPath:E,...T}={}){const k=E??s;return S.inject({reducerPath:k,reducer:y},T),{...w,...b(k,!0)}}};return w}}function Dhe(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var wr=Rhe();function Lhe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function $he({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!Bhe(r))throw new Error(fr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?qr(e,s):qr(e))}function Fhe(e){return e._reducerDefinitionType==="asyncThunk"}function Bhe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zhe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:c,options:u}=n,d=i(e,o,u);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:s||kp,pending:a||kp,rejected:l||kp,settled:c||kp})}function kp(){}var Uhe="task",p4="listener",m4="completed",KC="cancelled",Vhe=`task-${KC}`,Whe=`task-${m4}`,nS=`${p4}-${KC}`,Hhe=`${p4}-${m4}`,Wv=class{constructor(e){ei(this,"name","TaskAbortError");ei(this,"message");this.code=e,this.message=`${Uhe} ${KC} (reason: ${e})`}},qC=(e,t)=>{if(typeof e!="function")throw new TypeError(fr(32))},Gg=()=>{},g4=(e,t=Gg)=>(e.catch(t),e),y4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ua=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Va=e=>{if(e.aborted){const{reason:t}=e;throw new Wv(t)}};function v4(e,t){let n=Gg;return new Promise((r,i)=>{const o=()=>i(new Wv(e.reason));if(e.aborted){o();return}n=y4(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Gg})}var Khe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wv?"cancelled":"rejected",error:n}}finally{t==null||t()}},Yg=e=>t=>g4(v4(e,t).then(n=>(Va(e),n))),x4=e=>{const t=Yg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Cc}=Object,AN={},Hv="listenerMiddleware",qhe=(e,t)=>{const n=r=>y4(e,()=>Ua(r,e.reason));return(r,i)=>{qC(r);const o=new AbortController;n(o);const s=Khe(async()=>{Va(e),Va(o.signal);const a=await r({pause:Yg(o.signal),delay:x4(o.signal),signal:o.signal});return Va(o.signal),a},()=>Ua(o,Whe));return i!=null&&i.autoJoin&&t.push(s.catch(Gg)),{result:Yg(e)(s),cancel(){Ua(o,Vhe)}}}},Ghe=(e,t)=>{const n=async(r,i)=>{Va(t);let o=()=>{};const a=[new Promise((l,c)=>{let u=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});o=()=>{u(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await v4(t,Promise.race(a));return Va(t),l}finally{o()}};return(r,i)=>g4(n(r,i))},b4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=qr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fr(21));return qC(o),{predicate:i,type:t,effect:o}},w4=Cc(e=>{const{type:t,predicate:n,effect:r}=b4(e);return{id:Nhe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fr(22))}}},{withTypes:()=>w4}),PN=(e,t)=>{const{type:n,effect:r,predicate:i}=b4(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},rS=e=>{e.pending.forEach(t=>{Ua(t,nS)})},Yhe=e=>()=>{e.forEach(rS),e.clear()},_N=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},S4=Cc(qr(`${Hv}/add`),{withTypes:()=>S4}),Jhe=qr(`${Hv}/removeAll`),k4=Cc(qr(`${Hv}/remove`),{withTypes:()=>k4}),Xhe=(...e)=>{console.error(`${Hv}/error`,...e)},uh=(e={})=>{const t=new Map,{extra:n,onError:r=Xhe}=e;qC(r);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&rS(u)}),o=u=>{const d=PN(t,u)??w4(u);return i(d)};Cc(o,{withTypes:()=>o});const s=u=>{const d=PN(t,u);return d&&(d.unsubscribe(),u.cancelActive&&rS(d)),!!d};Cc(s,{withTypes:()=>s});const a=async(u,d,f,h)=>{const p=new AbortController,m=Ghe(o,p.signal),y=[];try{u.pending.add(p),await Promise.resolve(u.effect(d,Cc({},f,{getOriginalState:h,condition:(v,b)=>m(v,b).then(Boolean),take:m,delay:x4(p.signal),pause:Yg(p.signal),extra:n,signal:p.signal,fork:qhe(p.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,b,w)=>{v!==p&&(Ua(v,nS),w.delete(v))})},cancel:()=>{Ua(p,nS),u.pending.delete(p)},throwIfCancelled:()=>{Va(p.signal)}})))}catch(v){v instanceof Wv||_N(r,v,{raisedBy:"effect"})}finally{await Promise.all(y),Ua(p,Hhe),u.pending.delete(p)}},l=Yhe(t);return{middleware:u=>d=>f=>{if(!r4(f))return d(f);if(S4.match(f))return o(f.payload);if(Jhe.match(f)){l();return}if(k4.match(f))return s(f.payload);let h=u.getState();const p=()=>{if(h===AN)throw new Error(fr(23));return h};let m;try{if(m=d(f),t.size>0){const y=u.getState(),v=Array.from(t.values());for(const b of v){let w=!1;try{w=b.predicate(f,y,h)}catch(S){w=!1,_N(r,S,{raisedBy:"predicate"})}w&&a(b,f,u,p)}}}finally{h=AN}return m},startListening:o,stopListening:s,clearListeners:l}};function fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Qhe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},E4=wr({name:"chartLayout",initialState:Qhe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Zhe,setLayout:epe,setChartSize:tpe,setScale:npe}=E4.actions,rpe=E4.reducer;function ON(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(n),!0).forEach(function(r){ipe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ipe(e,t,n){return(t=ope(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ope(e){var t=spe(e,"string");return typeof t=="symbol"?t:t+""}function spe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jg=Math.PI/180,ape=e=>e*180/Math.PI,rn=(e,t,n,r)=>({x:e+Math.cos(-Jg*r)*n,y:t+Math.sin(-Jg*r)*n}),lpe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},cpe=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},upe=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=cpe({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:ape(l),angleInRadian:l}},dpe=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},fpe=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},hpe=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=upe({x:n,y:r},t),{innerRadius:s,outerRadius:a}=t;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:c}=dpe(t),u=o,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?MN(MN({},t),{},{radius:i,angle:fpe(u,t)}):null};function C4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){ppe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ppe(e,t,n){return(t=mpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mpe(e){var t=gpe(e,"string");return typeof t=="symbol"?t:t+""}function gpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function On(e,t,n){return Ht(e)||Ht(t)?n:Wi(t)?Tv(e,t,n):typeof t=="function"?t(e):n}var ype=(e,t,n,r,i)=>{var o,s=-1,a=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c=l>0?n[l-1].coordinate:n[a-1].coordinate,u=n[l].coordinate,d=l>=a-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Dr(u-c)!==Dr(d-u)){var h=[];if(Dr(d-u)===Dr(i[1]-i[0])){f=d;var p=u+i[1]-i[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var m=d+i[1]-i[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var y=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:s}=n[l]);break}}else{var v=Math.min(c,d),b=Math.max(c,d);if(e>(v+u)/2&&e<=(b+u)/2){({index:s}=n[l]);break}}}else if(t){for(var w=0;w<a;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<a-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===a-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},vpe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=t;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&fe(e[o]))return jr(jr({},e),{},{[o]:e[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&fe(e[s]))return jr(jr({},e),{},{[s]:e[s]+(i||0)})}return e},ea=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",T4=(e,t,n,r)=>{if(r)return e.map(a=>a.coordinate);var i,o,s=e.map(a=>(a.coordinate===t&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(t),o||s.push(n),s},A4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:f,axisType:h}=e;if(!s)return null;var p=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=(t||n)&&i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(m=h==="angleAxis"&&o&&o.length>=2?Dr(o[0]-o[1])*2*m:m,t&&(d||f)){var y=(d||f||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:s(w)+m,value:v,offset:m,index:b}});return y.filter(v=>!Kr(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:s(v)+m,value:v,index:b,offset:m})):s.ticks&&!n&&u!=null?s.ticks(u).map((v,b)=>({coordinate:s(v)+m,value:v,offset:m,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+m,value:r?r[v]:v,index:b,offset:m}))},jN=1e-4,xpe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-jN,o=Math.max(r[0],r[1])+jN,s=e(t[0]),a=e(t[n-1]);(s<i||s>o||a<i||a>o)&&e.domain([t[0],t[n-1]])}},bpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,s=0;s<t;++s){var a=Kr(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1])}},wpe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var s=Kr(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Spe={sign:bpe,expand:$fe,none:Kc,silhouette:Ffe,wiggle:Bfe,positive:wpe},kpe=(e,t,n)=>{var r=Spe[n],i=Lfe().keys(t).value((o,s)=>+On(o,s,0)).order(Y1).offset(r);return i(e)};function IN(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ht(i[t.dataKey])){var a=pU(n,"value",i[t.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=On(i,Ht(s)?t.dataKey:s);return Ht(l)?null:t.scale(l)}var Epe=e=>{var t=e.flat(2).filter(fe);return[Math.min(...t),Math.max(...t)]},Cpe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Tpe=(e,t,n)=>{if(e!=null)return Cpe(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:s}=o,a=s.reduce((l,c)=>{var u=C4(c,t,n),d=Epe(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},RN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iS=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Bv(t,u=>u.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],c=i[s-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function LN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return jr(jr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function P4(e,t){if(e)return String(e);if(typeof t=="string")return t}function Ape(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?hpe({x:e,y:t},r):null}var Ppe=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:s}=r;return jr(jr(jr({},r),rn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return jr(jr(jr({},r),rn(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},_pe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,$o=e=>e.layout.width,Fo=e=>e.layout.height,Ope=e=>e.layout.scale,_4=e=>e.layout.margin,Kv=D(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qv=D(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Mpe="data-recharts-item-index",Npe="data-recharts-item-data-key",dh=60;function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){jpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jpe(e,t,n){return(t=Ipe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ipe(e){var t=Rpe(e,"string");return typeof t=="symbol"?t:t+""}function Rpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dpe=e=>e.brush.height;function Lpe(e){var t=qv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dh;return n+i}return n},0)}function $pe(e){var t=qv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dh;return n+i}return n},0)}function Fpe(e){var t=Kv(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Bpe(e){var t=Kv(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var cn=D([$o,Fo,_4,Dpe,Lpe,$pe,Fpe,Bpe,e4,ihe],(e,t,n,r,i,o,s,a,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+s,bottom:(n.bottom||0)+a},f=Ep(Ep({},d),u),h=f.bottom;f.bottom+=r,f=vpe(f,l,c);var p=e-f.left-f.right,m=t-f.top-f.bottom;return Ep(Ep({brushBottom:h},f),{},{width:Math.max(p,0),height:Math.max(m,0)})}),zpe=D(cn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),O4=D($o,Fo,(e,t)=>({x:0,y:0,width:e,height:t})),Upe=x.createContext(null),Jr=()=>x.useContext(Upe)!=null,Gv=e=>e.brush,Yv=D([Gv,cn,_4],(e,t,n)=>({height:e.height,x:fe(e.x)?e.x:t.left,y:fe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:fe(e.width)?e.width:t.width})),GC=()=>{var e,t=Jr(),n=ce(zpe),r=ce(Yv),i=(e=ce(Gv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Vpe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},M4=()=>{var e;return(e=ce(cn))!==null&&e!==void 0?e:Vpe},N4=()=>ce($o),j4=()=>ce(Fo),Qe=e=>e.layout.layoutType,YC=()=>ce(Qe),Wpe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},I4=wr({name:"legend",initialState:Wpe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=wo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:FCe,setLegendSettings:BCe,addLegendPayload:Hpe,removeLegendPayload:Kpe}=I4.actions,qpe=I4.reducer;function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oS.apply(null,arguments)}function FN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(n),!0).forEach(function(r){Gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gpe(e,t,n){return(t=Ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ype(e){var t=Jpe(e,"string");return typeof t=="symbol"?t:t+""}function Jpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xpe(e){return Array.isArray(e)&&Wi(e[0])&&Wi(e[1])?e.join(" ~ "):e}var Qpe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,h=()=>{if(o&&o.length){var E={padding:0,margin:0},T=(a?Bv(o,a):o).map((k,C)=>{if(k.type==="none")return null;var A=k.formatter||s||Xpe,{value:O,name:M}=k,N=O,L=M;if(A){var I=A(O,M,k,C,o);if(Array.isArray(I))[N,L]=I;else if(I!=null)N=I;else return null}var J=cb({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:J},Wi(L)?x.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Wi(L)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},N),x.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:E},T)}return null},p=cb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),m=cb({margin:0},i),y=!Ht(u),v=y?u:"",b=Be("recharts-default-tooltip",l),w=Be("recharts-tooltip-label",c);y&&d&&o!==void 0&&o!==null&&(v=d(u,o));var S=f?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",oS({className:b,style:p},S),x.createElement("p",{className:w,style:m},x.isValidElement(v)?v:"".concat(v)),h())},Wu="recharts-tooltip-wrapper",Zpe={visibility:"hidden"};function eme(e){var{coordinate:t,translateX:n,translateY:r}=e;return Be(Wu,{["".concat(Wu,"-right")]:fe(n)&&t&&fe(t.x)&&n>=t.x,["".concat(Wu,"-left")]:fe(n)&&t&&fe(t.x)&&n<t.x,["".concat(Wu,"-bottom")]:fe(r)&&t&&fe(t.y)&&r>=t.y,["".concat(Wu,"-top")]:fe(r)&&t&&fe(t.y)&&r<t.y})}function BN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:c}=e;if(o&&fe(o[r]))return o[r];var u=n[r]-a-(i>0?i:0),d=n[r]+i;if(t[r])return s[r]?u:d;var f=l[r];if(f==null)return 0;if(s[r]){var h=u,p=f;return h<p?Math.max(d,f):Math.max(u,f)}if(c==null)return 0;var m=d+a,y=f+c;return m>y?Math.max(u,f):Math.max(d,f)}function tme(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function nme(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=e,c,u,d;return s.height>0&&s.width>0&&n?(u=BN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=BN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=tme({translateX:u,translateY:d,useTranslate3d:a})):c=Zpe,{cssProperties:c,cssClasses:eme({translateX:u,translateY:d,coordinate:n})}}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){sS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sS(e,t,n){return(t=rme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rme(e){var t=ime(e,"string");return typeof t=="symbol"?t:t+""}function ime(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ome extends x.PureComponent{constructor(){super(...arguments),sS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:m,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=nme({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:f,viewBox:h}),S=v?{}:Cp(Cp({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&a?"visible":"hidden",position:"absolute",top:0,left:0}),E=Cp(Cp({},S),{},{visibility:!this.state.dismissed&&t&&a?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:E,ref:y},o)}}var sme=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),mu={devToolsEnabled:!1,isSsr:sme()},R4=()=>ce(e=>e.rootProps.accessibilityLayer);function xi(e){return Number.isFinite(e)}function Xg(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aS.apply(null,arguments)}function UN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(n),!0).forEach(function(r){ame(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ame(e,t,n){return(t=lme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lme(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WN={curveBasisClosed:Tfe,curveBasisOpen:Afe,curveBasis:Cfe,curveBumpX:kfe,curveBumpY:Efe,curveLinearClosed:Pfe,curveLinear:Lv,curveMonotoneX:_fe,curveMonotoneY:Ofe,curveNatural:Mfe,curveStep:Nfe,curveStepAfter:Ife,curveStepBefore:jfe},Tp=e=>xi(e.x)&&xi(e.y),Hu=e=>e.x,Ku=e=>e.y,ume=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(AC(e));return(n==="curveMonotone"||n==="curveBump")&&t?WN["".concat(n).concat(t==="vertical"?"Y":"X")]:WN[n]||Lv},dme=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,s=ume(t,i),a=o?n.filter(Tp):n,l;if(Array.isArray(r)){var c=o?r.filter(d=>Tp(d)):r,u=a.map((d,f)=>VN(VN({},d),{},{base:c[f]}));return i==="vertical"?l=vp().y(Ku).x1(Hu).x0(d=>d.base.x):l=vp().x(Hu).y1(Ku).y0(d=>d.base.y),l.defined(Tp).curve(s),l(u)}return i==="vertical"&&fe(r)?l=vp().y(Ku).x1(Hu).x0(r):fe(r)?l=vp().x(Hu).y1(Ku).y0(r):l=kU().x(Hu).y(Ku),l.defined(Tp).curve(s),l(a)},D4=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?dme(e):r;return x.createElement("path",aS({},vl(e),_C(e),{className:Be("recharts-curve",t),d:o===null?void 0:o,ref:i}))},fme=["x","y","top","left","width","height","className"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS.apply(null,arguments)}function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){pme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pme(e,t,n){return(t=mme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mme(e){var t=gme(e,"string");return typeof t=="symbol"?t:t+""}function gme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yme(e,t){if(e==null)return{};var n,r,i=vme(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xme=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),bme=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=e,l=yme(e,fme),c=hme({x:t,y:n,top:r,left:i,width:o,height:s},l);return!fe(t)||!fe(n)||!fe(o)||!fe(s)||!fe(r)||!fe(i)?null:x.createElement("path",lS({},an(c,!0),{className:Be("recharts-cross",a),d:xme(t,n,o,s,r,i)}))};function wme(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){kme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kme(e,t,n){return(t=Eme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eme(e){var t=Cme(e,"string");return typeof t=="symbol"?t:t+""}function Cme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t){var n=Sme({},e),r=t,i=Object.keys(t),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}function Tme(){}function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(r){Ame(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ame(e,t,n){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pme(e){var t=_me(e,"string");return typeof t=="symbol"?t:t+""}function _me(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ome=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Mme=(e,t,n)=>e.map(r=>"".concat(Ome(r)," ").concat(t,"ms ").concat(n)).join(","),Nme=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),jf=(e,t)=>Object.keys(t).reduce((n,r)=>GN(GN({},n),{},{[r]:e(r,t[r])}),{});function YN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(n),!0).forEach(function(r){jme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jme(e,t,n){return(t=Ime(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ime(e){var t=Rme(e,"string");return typeof t=="symbol"?t:t+""}function Rme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qg=(e,t,n)=>e+(t-e)*n,cS=e=>{var{from:t,to:n}=e;return t!==n},L4=(e,t,n)=>{var r=jf((i,o)=>{if(cS(o)){var[s,a]=e(o.from,o.to,o.velocity);return en(en({},o),{},{from:s,velocity:a})}return o},t);return n<1?jf((i,o)=>cS(o)?en(en({},o),{},{velocity:Qg(o.velocity,r[i].velocity,n),from:Qg(o.from,r[i].from,n)}):o,t):L4(e,r,n-1)};function Dme(e,t,n,r,i,o){var s,a=r.reduce((f,h)=>en(en({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>jf((f,h)=>h.from,a),c=()=>!Object.values(a).filter(cS).length,u=null,d=f=>{s||(s=f);var h=f-s,p=h/n.dt;a=L4(n,a,p),i(en(en(en({},e),t),l())),s=f,c()||(u=o.setTimeout(d))};return()=>(u=o.setTimeout(d),()=>{u()})}function Lme(e,t,n,r,i,o,s){var a=null,l=i.reduce((d,f)=>en(en({},d),{},{[f]:[e[f],t[f]]}),{}),c,u=d=>{c||(c=d);var f=(d-c)/r,h=jf((m,y)=>Qg(...y,n(f)),l);if(o(en(en(en({},e),t),h)),f<1)a=s.setTimeout(u);else{var p=jf((m,y)=>Qg(...y,n(1)),l);o(en(en(en({},e),t),p))}};return()=>(a=s.setTimeout(u),()=>{a()})}const $me=(e,t,n,r,i,o)=>{var s=Nme(e,t);return n.isStepper===!0?Dme(e,t,n,s,i,o):Lme(e,t,n,r,s,i,o)};var Zg=1e-4,$4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],F4=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),JN=(e,t)=>n=>{var r=$4(e,t);return F4(r,n)},Fme=(e,t)=>n=>{var r=$4(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return F4(i,n)},XN=function(){for(var t,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else s.length===4&&([t,r,n,i]=s);var c=JN(t,n),u=JN(r,i),d=Fme(t,n),f=p=>p>1?1:p<0?0:p,h=p=>{for(var m=p>1?1:p,y=m,v=0;v<8;++v){var b=c(y)-m,w=d(y);if(Math.abs(b-m)<Zg||w<Zg)return u(y);y=f(y-b/w)}return u(y)};return h.isStepper=!1,h},Bme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,a,l)=>{var c=-(s-a)*n,u=l*r,d=l+(c-u)*i/1e3,f=l*i/1e3+s;return Math.abs(f-a)<Zg&&Math.abs(d)<Zg?[a,0]:[f,d]};return o.isStepper=!0,o.dt=i,o},zme=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XN(e);case"spring":return Bme();default:if(e.split("(")[0]==="cubic-bezier")return XN(e)}return typeof e=="function"?e:null};function Ume(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...c]=a;if(typeof l=="number"){i=e.setTimeout(o.bind(null,c),l);return}o(l),i=e.setTimeout(o.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Vme{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function Wme(){return Ume(new Vme)}var Hme=x.createContext(Wme);function Kme(e,t){var n=x.useContext(Hme);return x.useMemo(()=>t??n(e),[e,t,n])}var qme={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},QN={t:0},ub={t:1};function B4(e){var t=Xr(e,qme),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:c}=t,u=Kme(t.animationId,t.animationManager),[d,f]=x.useState(n?QN:ub),h=x.useRef(null);return x.useEffect(()=>{n||f(ub)},[n]),x.useEffect(()=>{if(!n||!r)return Tme;var p=$me(QN,ub,zme(o),i,f,u.getTimeoutController()),m=()=>{h.current=p()};return u.start([l,s,m,i,a]),()=>{u.stop(),h.current&&h.current(),a()}},[n,r,i,o,s,l,a,u]),c(d.t)}function z4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Of(t)),r=x.useRef(e);return r.current!==e&&(n.current=Of(t),r.current=e),n.current}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){Gme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gme(e,t,n){return(t=Yme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yme(e){var t=Jme(e,"string");return typeof t=="symbol"?t:t+""}function Jme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}var tj=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>o?o:i[d];c="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+a*u[0],",").concat(t)),c+="L ".concat(e+n-a*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+s*u[1])),c+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+n-a*u[2],",").concat(t+r)),c+="L ".concat(e+a*u[3],",").concat(t+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-s*u[3])),c+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);c="M ".concat(e,",").concat(t+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+a*h,",").concat(t,`
            L `).concat(e+n-a*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*h,`
            L `).concat(e+n,",").concat(t+r-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n-a*h,",").concat(t+r,`
            L `).concat(e+a*h,",").concat(t+r,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*h," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Xme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qme=e=>{var t=Xr(e,Xme),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:m}=t,y=x.useRef(a),v=x.useRef(l),b=x.useRef(o),w=x.useRef(s),S=x.useMemo(()=>({x:o,y:s,width:a,height:l,radius:c}),[o,s,a,l,c]),E=z4(S,"rectangle-");if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var T=Be("recharts-rectangle",u);if(!m)return x.createElement("path",ey({},an(t,!0),{className:T,d:tj(o,s,a,l,c)}));var k=y.current,C=v.current,A=b.current,O=w.current,M="0px ".concat(r===-1?1:r,"px"),N="".concat(r,"px 0px"),L=Mme(["strokeDasharray"],f,typeof d=="string"?d:void 0);return x.createElement(B4,{animationId:E,key:E,canBegin:r>0,duration:f,easing:d,isActive:m,begin:h},I=>{var J=so(k,a,I),$=so(C,l,I),K=so(A,o,I),P=so(O,s,I);n.current&&(y.current=J,v.current=$,b.current=K,w.current=P);var j;return p?I>0?j={transition:L,strokeDasharray:N}:j={strokeDasharray:M}:j={strokeDasharray:N},x.createElement("path",ey({},an(t,!0),{className:T,d:tj(K,P,J,$,c),ref:n,style:ej(ej({},j),t.style)}))})};function U4(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=rn(t,n,r,i),a=rn(t,n,r,o);return{points:[s,a],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uS.apply(null,arguments)}var Zme=(e,t)=>{var n=Dr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Ap=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=e,c=a*(s?1:-1)+r,u=Math.asin(a/c)/Jg,d=l?i:i+o*u,f=rn(t,n,c,d),h=rn(t,n,r,d),p=l?i-o*u:i,m=rn(t,n,c*Math.cos(u*Jg),p);return{center:f,circleTangency:h,lineTangency:m,theta:u}},V4=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,a=Zme(o,s),l=o+a,c=rn(t,n,i,o),u=rn(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var f=rn(t,n,r,o),h=rn(t,n,r,l);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},ege=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:c}=e,u=Dr(c-l),{circleTangency:d,lineTangency:f,theta:h}=Ap({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:a}),{circleTangency:p,lineTangency:m,theta:y}=Ap({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:a}),v=a?Math.abs(l-c):Math.abs(l-c)-h-y;if(v<0)return s?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):V4({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:S,theta:E}=Ap({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:T,lineTangency:k,theta:C}=Ap({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),A=a?Math.abs(l-c):Math.abs(l-c)-E-C;if(A<0&&o===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},tge={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nge=e=>{var t=Xr(e,tge),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(o<i||c===u)return null;var f=Be("recharts-sector",d),h=o-i,p=Vs(s,h,0,!0),m;return p>0&&Math.abs(c-u)<360?m=ege({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,h/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}):m=V4({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),x.createElement("path",uS({},an(t,!0),{className:f,d:m}))};function rge(e,t,n){var r,i,o,s;if(e==="horizontal")r=t.x,o=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:a,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,f=rn(a,l,c,d),h=rn(a,l,u,d);r=f.x,i=f.y,o=h.x,s=h.y}else return U4(t);return[{x:r,y:i},{x:o,y:s}]}var W4={},H4={},K4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(K4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K4;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(H4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UC,n=H4;function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=i,i+=s;return l}e.range=r})(W4);var ige=W4.range;const q4=yr(ige);function Is(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oge(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function JC(e){let t,n,r;e.length!==2?(t=Is,n=(a,l)=>Is(e(a),l),r=(a,l)=>e(a)-l):(t=e===Is||e===oge?e:sge,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function sge(){return 0}function G4(e){return e===null?NaN:+e}function*age(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const lge=JC(Is),cge=lge.right;JC(G4).center;const fh=cge;class nj extends Map{constructor(t,n=fge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rj(this,t))}has(t){return super.has(rj(this,t))}set(t,n){return super.set(uge(this,t),n)}delete(t){return super.delete(dge(this,t))}}function rj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function uge({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dge({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function fge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hge(e=Is){if(e===Is)return Y4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Y4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const pge=Math.sqrt(50),mge=Math.sqrt(10),gge=Math.sqrt(2);function ty(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=pge?10:o>=mge?5:o>=gge?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?ty(e,t,n*2):[a,l,c]}function dS(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?ty(t,e,n):ty(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function fS(e,t,n){return t=+t,e=+e,n=+n,ty(e,t,n)[2]}function hS(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?fS(t,e,n):fS(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ij(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function oj(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function J4(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Y4:hge(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*d/l+f)),p=Math.min(r,Math.floor(t+(l-c)*d/l+f));J4(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(qu(e,n,t),i(e[r],o)>0&&qu(e,n,r);s<a;){for(qu(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?qu(e,n,a):(++a,qu(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function qu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yge(e,t,n){if(e=Float64Array.from(age(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return oj(e);if(t>=1)return ij(e);var r,i=(r-1)*t,o=Math.floor(i),s=ij(J4(e,o).subarray(0,o+1)),a=oj(e.subarray(o+1));return s+(a-s)*(i-o)}}function vge(e,t,n=G4){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function xge(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pS=Symbol("implicit");function XC(){var e=new nj,t=[],n=[],r=pS;function i(o){let s=e.get(o);if(s===void 0){if(r!==pS)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new nj;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XC(t,n).unknown(r)},Qr.apply(i,arguments),i}function QC(){var e=XC().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),p+=(m-p-o*(f-l))*u,s=o*(1-l),a&&(p=Math.round(p),s=Math.round(s));var y=xge(f).map(function(v){return p+o*v});return n(h?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return QC(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Qr.apply(d(),arguments)}function X4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X4(t())},e}function bge(){return X4(QC.apply(null,arguments).paddingInner(1))}function ZC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Q4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hh(){}var If=.7,ny=1/If,Tc="\\s*([+-]?\\d+)\\s*",Rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wge=/^#([0-9a-f]{3,8})$/,Sge=new RegExp(`^rgb\\(${Tc},${Tc},${Tc}\\)$`),kge=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),Ege=new RegExp(`^rgba\\(${Tc},${Tc},${Tc},${Rf}\\)$`),Cge=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${Rf}\\)$`),Tge=new RegExp(`^hsl\\(${Rf},${Bi},${Bi}\\)$`),Age=new RegExp(`^hsla\\(${Rf},${Bi},${Bi},${Rf}\\)$`),sj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZC(hh,Df,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aj,formatHex:aj,formatHex8:Pge,formatHsl:_ge,formatRgb:lj,toString:lj});function aj(){return this.rgb().formatHex()}function Pge(){return this.rgb().formatHex8()}function _ge(){return Z4(this).formatHsl()}function lj(){return this.rgb().formatRgb()}function Df(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=wge.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cj(t):n===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Pp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Pp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sge.exec(e))?new qn(t[1],t[2],t[3],1):(t=kge.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ege.exec(e))?Pp(t[1],t[2],t[3],t[4]):(t=Cge.exec(e))?Pp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tge.exec(e))?fj(t[1],t[2]/100,t[3]/100,1):(t=Age.exec(e))?fj(t[1],t[2]/100,t[3]/100,t[4]):sj.hasOwnProperty(e)?cj(sj[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function cj(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function Pp(e,t,n,r){return r<=0&&(e=t=n=NaN),new qn(e,t,n,r)}function Oge(e){return e instanceof hh||(e=Df(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function mS(e,t,n,r){return arguments.length===1?Oge(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ZC(qn,mS,Q4(hh,{brighter(e){return e=e==null?ny:Math.pow(ny,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(Wa(this.r),Wa(this.g),Wa(this.b),ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uj,formatHex:uj,formatHex8:Mge,formatRgb:dj,toString:dj}));function uj(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}`}function Mge(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}${Na((isNaN(this.opacity)?1:this.opacity)*255)}`}function dj(){const e=ry(this.opacity);return`${e===1?"rgb(":"rgba("}${Wa(this.r)}, ${Wa(this.g)}, ${Wa(this.b)}${e===1?")":`, ${e})`}`}function ry(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Na(e){return e=Wa(e),(e<16?"0":"")+e.toString(16)}function fj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ui(e,t,n,r)}function Z4(e){if(e instanceof ui)return new ui(e.h,e.s,e.l,e.opacity);if(e instanceof hh||(e=Df(e)),!e)return new ui;if(e instanceof ui)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ui(s,a,l,e.opacity)}function Nge(e,t,n,r){return arguments.length===1?Z4(e):new ui(e,t,n,r??1)}function ui(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ZC(ui,Nge,Q4(hh,{brighter(e){return e=e==null?ny:Math.pow(ny,e),new ui(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?If:Math.pow(If,e),new ui(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new qn(db(e>=240?e-240:e+120,i,r),db(e,i,r),db(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ui(hj(this.h),_p(this.s),_p(this.l),ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ry(this.opacity);return`${e===1?"hsl(":"hsla("}${hj(this.h)}, ${_p(this.s)*100}%, ${_p(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hj(e){return e=(e||0)%360,e<0?e+360:e}function _p(e){return Math.max(0,Math.min(1,e||0))}function db(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const eT=e=>()=>e;function jge(e,t){return function(n){return e+n*t}}function Ige(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Rge(e){return(e=+e)==1?eV:function(t,n){return n-t?Ige(t,n,e):eT(isNaN(t)?n:t)}}function eV(e,t){var n=t-e;return n?jge(e,n):eT(isNaN(e)?t:e)}const pj=function e(t){var n=Rge(t);function r(i,o){var s=n((i=mS(i)).r,(o=mS(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=eV(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function Dge(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Lge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $ge(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=gu(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Fge(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function iy(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bge(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=gu(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var gS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fb=new RegExp(gS.source,"g");function zge(e){return function(){return e}}function Uge(e){return function(t){return e(t)+""}}function Vge(e,t){var n=gS.lastIndex=fb.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=gS.exec(e))&&(i=fb.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:iy(r,i)})),n=fb.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Uge(l[0].x):zge(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function gu(e,t){var n=typeof t,r;return t==null||n==="boolean"?eT(t):(n==="number"?iy:n==="string"?(r=Df(t))?(t=r,pj):Vge:t instanceof Df?pj:t instanceof Date?Fge:Lge(t)?Dge:Array.isArray(t)?$ge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bge:iy)(e,t)}function tT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Wge(e,t){t===void 0&&(t=e,e=gu);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Hge(e){return function(){return e}}function oy(e){return+e}var mj=[0,1];function Pn(e){return e}function yS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Hge(isNaN(t)?NaN:.5)}function Kge(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qge(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=yS(i,r),o=n(s,o)):(r=yS(r,i),o=n(o,s)),function(a){return o(r(a))}}function Gge(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=yS(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=fh(e,a,1,r)-1;return o[l](i[l](a))}}function ph(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jv(){var e=mj,t=mj,n=gu,r,i,o,s=Pn,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==Pn&&(s=Kge(e[0],e[f-1])),a=f>2?Gge:qge,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(r),iy)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,oy),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=tT,u()},d.clamp=function(f){return arguments.length?(s=f?!0:Pn,u()):s!==Pn},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function nT(){return Jv()(Pn,Pn)}function Yge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Gc(e){return e=sy(Math.abs(e)),e?e[1]:NaN}function Jge(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Xge(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Qge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lf(e){if(!(t=Qge.exec(e)))throw new Error("invalid format: "+e);var t;return new rT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lf.prototype=rT.prototype;function rT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zge(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var tV;function eye(e,t){var n=sy(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(tV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+sy(e,Math.max(0,t+o-1))[0]}function gj(e,t){var n=sy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Yge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gj(e*100,t),r:gj,s:eye,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vj(e){return e}var xj=Array.prototype.map,bj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tye(e){var t=e.grouping===void 0||e.thousands===void 0?vj:Jge(xj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?vj:Xge(xj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Lf(d);var f=d.fill,h=d.align,p=d.sign,m=d.symbol,y=d.zero,v=d.width,b=d.comma,w=d.precision,S=d.trim,E=d.type;E==="n"?(b=!0,E="g"):yj[E]||(w===void 0&&(w=12),S=!0,E="g"),(y||f==="0"&&h==="=")&&(y=!0,f="0",h="=");var T=m==="$"?n:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",k=m==="$"?r:/[%p]/.test(E)?s:"",C=yj[E],A=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(M){var N=T,L=k,I,J,$;if(E==="c")L=C(M)+L,M="";else{M=+M;var K=M<0||1/M<0;if(M=isNaN(M)?l:C(Math.abs(M),w),S&&(M=Zge(M)),K&&+M==0&&p!=="+"&&(K=!1),N=(K?p==="("?p:a:p==="-"||p==="("?"":p)+N,L=(E==="s"?bj[8+tV/3]:"")+L+(K&&p==="("?")":""),A){for(I=-1,J=M.length;++I<J;)if($=M.charCodeAt(I),48>$||$>57){L=($===46?i+M.slice(I+1):M.slice(I))+L,M=M.slice(0,I);break}}}b&&!y&&(M=t(M,1/0));var P=N.length+M.length+L.length,j=P<v?new Array(v-P+1).join(f):"";switch(b&&y&&(M=t(j+M,j.length?v-L.length:1/0),j=""),h){case"<":M=N+M+L+j;break;case"=":M=N+j+M+L;break;case"^":M=j.slice(0,P=j.length>>1)+N+M+L+j.slice(P);break;default:M=j+N+M+L;break}return o(M)}return O.toString=function(){return d+""},O}function u(d,f){var h=c((d=Lf(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Gc(f)/3)))*3,m=Math.pow(10,-p),y=bj[8+p/3];return function(v){return h(m*v)+y}}return{format:c,formatPrefix:u}}var Op,iT,nV;nye({thousands:",",grouping:[3],currency:["$",""]});function nye(e){return Op=tye(e),iT=Op.format,nV=Op.formatPrefix,Op}function rye(e){return Math.max(0,-Gc(Math.abs(e)))}function iye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(t)/3)))*3-Gc(Math.abs(e)))}function oye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gc(t)-Gc(e))+1}function rV(e,t,n,r){var i=hS(e,t,n),o;switch(r=Lf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=iye(i,s))&&(r.precision=o),nV(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=oye(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=rye(i))&&(r.precision=o-(r.type==="%")*2);break}}return iT(r)}function ta(e){var t=e.domain;return e.ticks=function(n){var r=t();return dS(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return rV(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=fS(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function iV(){var e=nT();return e.copy=function(){return ph(e,iV())},Qr.apply(e,arguments),ta(e)}function oV(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,oy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return oV(e).unknown(t)},e=arguments.length?Array.from(e,oy):[0,1],ta(n)}function sV(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function wj(e){return Math.log(e)}function Sj(e){return Math.exp(e)}function sye(e){return-Math.log(-e)}function aye(e){return-Math.exp(-e)}function lye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cye(e){return e===10?lye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kj(e){return(t,n)=>-e(-t,n)}function oT(e){const t=e(wj,Sj),n=t.domain;let r=10,i,o;function s(){return i=uye(r),o=cye(r),n()[0]<0?(i=kj(i),o=kj(o),e(sye,aye)):e(wj,Sj),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),p,m;const y=a==null?10:+a;let v=[];if(!(r%1)&&h-f<y){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(p=1;p<r;++p)if(m=f<0?p/o(-f):p*o(f),!(m<c)){if(m>u)break;v.push(m)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(m=f>0?p/o(-f):p*o(f),!(m<c)){if(m>u)break;v.push(m)}v.length*2<y&&(v=dS(c,u,y))}else v=dS(f,h,Math.min(h-f,y)).map(o);return d?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Lf(l)).precision==null&&(l.trim=!0),l=iT(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(sV(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function aV(){const e=oT(Jv()).domain([1,10]);return e.copy=()=>ph(e,aV()).base(e.base()),Qr.apply(e,arguments),e}function Ej(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sT(e){var t=1,n=e(Ej(t),Cj(t));return n.constant=function(r){return arguments.length?e(Ej(t=+r),Cj(t)):t},ta(n)}function lV(){var e=sT(Jv());return e.copy=function(){return ph(e,lV()).constant(e.constant())},Qr.apply(e,arguments)}function Tj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fye(e){return e<0?-e*e:e*e}function aT(e){var t=e(Pn,Pn),n=1;function r(){return n===1?e(Pn,Pn):n===.5?e(dye,fye):e(Tj(n),Tj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ta(t)}function lT(){var e=aT(Jv());return e.copy=function(){return ph(e,lT()).exponent(e.exponent())},Qr.apply(e,arguments),e}function hye(){return lT.apply(null,arguments).exponent(.5)}function Aj(e){return Math.sign(e)*e*e}function pye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cV(){var e=nT(),t=[0,1],n=!1,r;function i(o){var s=pye(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(Aj(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,oy)).map(Aj)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cV(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Qr.apply(i,arguments),ta(i)}function uV(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=vge(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[fh(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Is),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return uV().domain(e).range(t).unknown(r)},Qr.apply(o,arguments)}function dV(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[fh(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return dV().domain([e,t]).range(i).unknown(o)},Qr.apply(ta(s),arguments)}function fV(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[fh(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return fV().domain(e).range(t).unknown(n)},Qr.apply(i,arguments)}const hb=new Date,pb=new Date;function It(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=o=>It(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(hb.setTime(+o),pb.setTime(+s),e(hb),e(pb),Math.floor(n(hb,pb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ay=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ay.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ay);ay.range;const po=1e3,Lr=po*60,mo=Lr*60,jo=mo*24,cT=jo*7,Pj=jo*30,mb=jo*365,ja=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCSeconds());ja.range;const uT=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());uT.range;const dT=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());dT.range;const fT=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*po-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getHours());fT.range;const hT=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getUTCHours());hT.range;const mh=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/jo,e=>e.getDate()-1);mh.range;const Xv=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>e.getUTCDate()-1);Xv.range;const hV=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jo,e=>Math.floor(e/jo));hV.range;function xl(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/cT)}const Qv=xl(0),ly=xl(1),mye=xl(2),gye=xl(3),Yc=xl(4),yye=xl(5),vye=xl(6);Qv.range;ly.range;mye.range;gye.range;Yc.range;yye.range;vye.range;function bl(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/cT)}const Zv=bl(0),cy=bl(1),xye=bl(2),bye=bl(3),Jc=bl(4),wye=bl(5),Sye=bl(6);Zv.range;cy.range;xye.range;bye.range;Jc.range;wye.range;Sye.range;const pT=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pT.range;const mT=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mT.range;const Io=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Io.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Io.range;const Ro=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ro.range;function pV(e,t,n,r,i,o){const s=[[ja,1,po],[ja,5,5*po],[ja,15,15*po],[ja,30,30*po],[o,1,Lr],[o,5,5*Lr],[o,15,15*Lr],[o,30,30*Lr],[i,1,mo],[i,3,3*mo],[i,6,6*mo],[i,12,12*mo],[r,1,jo],[r,2,2*jo],[n,1,cT],[t,1,Pj],[t,3,3*Pj],[e,1,mb]];function a(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),p=h?h.range(c,+u+1):[];return f?p.reverse():p}function l(c,u,d){const f=Math.abs(u-c)/d,h=JC(([,,y])=>y).right(s,f);if(h===s.length)return e.every(hS(c/mb,u/mb,d));if(h===0)return ay.every(Math.max(hS(c,u,d),1));const[p,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(m)}return[a,l]}const[kye,Eye]=pV(Ro,mT,Zv,hV,hT,dT),[Cye,Tye]=pV(Io,pT,Qv,mh,fT,uT);function gb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Aye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Yu(i),u=Ju(i),d=Yu(o),f=Ju(o),h=Yu(s),p=Ju(s),m=Yu(a),y=Ju(a),v=Yu(l),b=Ju(l),w={a:K,A:P,b:j,B:q,c:null,d:Ij,e:Ij,f:Jye,g:sve,G:lve,H:qye,I:Gye,j:Yye,L:mV,m:Xye,M:Qye,p:z,q:U,Q:Lj,s:$j,S:Zye,u:eve,U:tve,V:nve,w:rve,W:ive,x:null,X:null,y:ove,Y:ave,Z:cve,"%":Dj},S={a:ne,A:Oe,b:le,B:Ae,c:null,d:Rj,e:Rj,f:hve,g:kve,G:Cve,H:uve,I:dve,j:fve,L:yV,m:pve,M:mve,p:We,q:Dt,Q:Lj,s:$j,S:gve,u:yve,U:vve,V:xve,w:bve,W:wve,x:null,X:null,y:Sve,Y:Eve,Z:Tve,"%":Dj},E={a:O,A:M,b:N,B:L,c:I,d:Nj,e:Nj,f:Vye,g:Mj,G:Oj,H:jj,I:jj,j:Fye,L:Uye,m:$ye,M:Bye,p:A,q:Lye,Q:Hye,s:Kye,S:zye,u:Nye,U:jye,V:Iye,w:Mye,W:Rye,x:J,X:$,y:Mj,Y:Oj,Z:Dye,"%":Wye};w.x=T(n,w),w.X=T(r,w),w.c=T(t,w),S.x=T(n,S),S.X=T(r,S),S.c=T(t,S);function T(Y,oe){return function(de){var B=[],Me=-1,R=0,G=Y.length,se,ee,ye;for(de instanceof Date||(de=new Date(+de));++Me<G;)Y.charCodeAt(Me)===37&&(B.push(Y.slice(R,Me)),(ee=_j[se=Y.charAt(++Me)])!=null?se=Y.charAt(++Me):ee=se==="e"?" ":"0",(ye=oe[se])&&(se=ye(de,ee)),B.push(se),R=Me+1);return B.push(Y.slice(R,Me)),B.join("")}}function k(Y,oe){return function(de){var B=Gu(1900,void 0,1),Me=C(B,Y,de+="",0),R,G;if(Me!=de.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(oe&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(R=yb(Gu(B.y,0,1)),G=R.getUTCDay(),R=G>4||G===0?cy.ceil(R):cy(R),R=Xv.offset(R,(B.V-1)*7),B.y=R.getUTCFullYear(),B.m=R.getUTCMonth(),B.d=R.getUTCDate()+(B.w+6)%7):(R=gb(Gu(B.y,0,1)),G=R.getDay(),R=G>4||G===0?ly.ceil(R):ly(R),R=mh.offset(R,(B.V-1)*7),B.y=R.getFullYear(),B.m=R.getMonth(),B.d=R.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),G="Z"in B?yb(Gu(B.y,0,1)).getUTCDay():gb(Gu(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(G+5)%7:B.w+B.U*7-(G+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,yb(B)):gb(B)}}function C(Y,oe,de,B){for(var Me=0,R=oe.length,G=de.length,se,ee;Me<R;){if(B>=G)return-1;if(se=oe.charCodeAt(Me++),se===37){if(se=oe.charAt(Me++),ee=E[se in _j?oe.charAt(Me++):se],!ee||(B=ee(Y,de,B))<0)return-1}else if(se!=de.charCodeAt(B++))return-1}return B}function A(Y,oe,de){var B=c.exec(oe.slice(de));return B?(Y.p=u.get(B[0].toLowerCase()),de+B[0].length):-1}function O(Y,oe,de){var B=h.exec(oe.slice(de));return B?(Y.w=p.get(B[0].toLowerCase()),de+B[0].length):-1}function M(Y,oe,de){var B=d.exec(oe.slice(de));return B?(Y.w=f.get(B[0].toLowerCase()),de+B[0].length):-1}function N(Y,oe,de){var B=v.exec(oe.slice(de));return B?(Y.m=b.get(B[0].toLowerCase()),de+B[0].length):-1}function L(Y,oe,de){var B=m.exec(oe.slice(de));return B?(Y.m=y.get(B[0].toLowerCase()),de+B[0].length):-1}function I(Y,oe,de){return C(Y,t,oe,de)}function J(Y,oe,de){return C(Y,n,oe,de)}function $(Y,oe,de){return C(Y,r,oe,de)}function K(Y){return s[Y.getDay()]}function P(Y){return o[Y.getDay()]}function j(Y){return l[Y.getMonth()]}function q(Y){return a[Y.getMonth()]}function z(Y){return i[+(Y.getHours()>=12)]}function U(Y){return 1+~~(Y.getMonth()/3)}function ne(Y){return s[Y.getUTCDay()]}function Oe(Y){return o[Y.getUTCDay()]}function le(Y){return l[Y.getUTCMonth()]}function Ae(Y){return a[Y.getUTCMonth()]}function We(Y){return i[+(Y.getUTCHours()>=12)]}function Dt(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var oe=T(Y+="",w);return oe.toString=function(){return Y},oe},parse:function(Y){var oe=k(Y+="",!1);return oe.toString=function(){return Y},oe},utcFormat:function(Y){var oe=T(Y+="",S);return oe.toString=function(){return Y},oe},utcParse:function(Y){var oe=k(Y+="",!0);return oe.toString=function(){return Y},oe}}}var _j={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,Pye=/^%/,_ye=/[\\^$*+?|[\]().{}]/g;function _e(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Oye(e){return e.replace(_ye,"\\$&")}function Yu(e){return new RegExp("^(?:"+e.map(Oye).join("|")+")","i")}function Ju(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Mye(e,t,n){var r=Gt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Nye(e,t,n){var r=Gt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function jye(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Iye(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Rye(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Oj(e,t,n){var r=Gt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Mj(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lye(e,t,n){var r=Gt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function $ye(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Nj(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Fye(e,t,n){var r=Gt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jj(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bye(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zye(e,t,n){var r=Gt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uye(e,t,n){var r=Gt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Vye(e,t,n){var r=Gt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wye(e,t,n){var r=Pye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hye(e,t,n){var r=Gt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Kye(e,t,n){var r=Gt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ij(e,t){return _e(e.getDate(),t,2)}function qye(e,t){return _e(e.getHours(),t,2)}function Gye(e,t){return _e(e.getHours()%12||12,t,2)}function Yye(e,t){return _e(1+mh.count(Io(e),e),t,3)}function mV(e,t){return _e(e.getMilliseconds(),t,3)}function Jye(e,t){return mV(e,t)+"000"}function Xye(e,t){return _e(e.getMonth()+1,t,2)}function Qye(e,t){return _e(e.getMinutes(),t,2)}function Zye(e,t){return _e(e.getSeconds(),t,2)}function eve(e){var t=e.getDay();return t===0?7:t}function tve(e,t){return _e(Qv.count(Io(e)-1,e),t,2)}function gV(e){var t=e.getDay();return t>=4||t===0?Yc(e):Yc.ceil(e)}function nve(e,t){return e=gV(e),_e(Yc.count(Io(e),e)+(Io(e).getDay()===4),t,2)}function rve(e){return e.getDay()}function ive(e,t){return _e(ly.count(Io(e)-1,e),t,2)}function ove(e,t){return _e(e.getFullYear()%100,t,2)}function sve(e,t){return e=gV(e),_e(e.getFullYear()%100,t,2)}function ave(e,t){return _e(e.getFullYear()%1e4,t,4)}function lve(e,t){var n=e.getDay();return e=n>=4||n===0?Yc(e):Yc.ceil(e),_e(e.getFullYear()%1e4,t,4)}function cve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function Rj(e,t){return _e(e.getUTCDate(),t,2)}function uve(e,t){return _e(e.getUTCHours(),t,2)}function dve(e,t){return _e(e.getUTCHours()%12||12,t,2)}function fve(e,t){return _e(1+Xv.count(Ro(e),e),t,3)}function yV(e,t){return _e(e.getUTCMilliseconds(),t,3)}function hve(e,t){return yV(e,t)+"000"}function pve(e,t){return _e(e.getUTCMonth()+1,t,2)}function mve(e,t){return _e(e.getUTCMinutes(),t,2)}function gve(e,t){return _e(e.getUTCSeconds(),t,2)}function yve(e){var t=e.getUTCDay();return t===0?7:t}function vve(e,t){return _e(Zv.count(Ro(e)-1,e),t,2)}function vV(e){var t=e.getUTCDay();return t>=4||t===0?Jc(e):Jc.ceil(e)}function xve(e,t){return e=vV(e),_e(Jc.count(Ro(e),e)+(Ro(e).getUTCDay()===4),t,2)}function bve(e){return e.getUTCDay()}function wve(e,t){return _e(cy.count(Ro(e)-1,e),t,2)}function Sve(e,t){return _e(e.getUTCFullYear()%100,t,2)}function kve(e,t){return e=vV(e),_e(e.getUTCFullYear()%100,t,2)}function Eve(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function Cve(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Jc(e):Jc.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function Tve(){return"+0000"}function Dj(){return"%"}function Lj(e){return+e}function $j(e){return Math.floor(+e/1e3)}var Bl,xV,bV;Ave({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ave(e){return Bl=Aye(e),xV=Bl.format,Bl.parse,bV=Bl.utcFormat,Bl.utcParse,Bl}function Pve(e){return new Date(e)}function _ve(e){return e instanceof Date?+e:+new Date(+e)}function gT(e,t,n,r,i,o,s,a,l,c){var u=nT(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function E(T){return(l(T)<T?h:a(T)<T?p:s(T)<T?m:o(T)<T?y:r(T)<T?i(T)<T?v:b:n(T)<T?w:S)(T)}return u.invert=function(T){return new Date(d(T))},u.domain=function(T){return arguments.length?f(Array.from(T,_ve)):f().map(Pve)},u.ticks=function(T){var k=f();return e(k[0],k[k.length-1],T??10)},u.tickFormat=function(T,k){return k==null?E:c(k)},u.nice=function(T){var k=f();return(!T||typeof T.range!="function")&&(T=t(k[0],k[k.length-1],T??10)),T?f(sV(k,T)):u},u.copy=function(){return ph(u,gT(e,t,n,r,i,o,s,a,l,c))},u}function Ove(){return Qr.apply(gT(Cye,Tye,Io,pT,Qv,mh,fT,uT,ja,xV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mve(){return Qr.apply(gT(kye,Eye,Ro,mT,Zv,Xv,hT,dT,ja,bV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e0(){var e=0,t=1,n,r,i,o,s=Pn,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),c):[s(0),s(1)]}}return c.range=u(gu),c.rangeRound=u(tT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function na(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wV(){var e=ta(e0()(Pn));return e.copy=function(){return na(e,wV())},Bo.apply(e,arguments)}function SV(){var e=oT(e0()).domain([1,10]);return e.copy=function(){return na(e,SV()).base(e.base())},Bo.apply(e,arguments)}function kV(){var e=sT(e0());return e.copy=function(){return na(e,kV()).constant(e.constant())},Bo.apply(e,arguments)}function yT(){var e=aT(e0());return e.copy=function(){return na(e,yT()).exponent(e.exponent())},Bo.apply(e,arguments)}function Nve(){return yT.apply(null,arguments).exponent(.5)}function EV(){var e=[],t=Pn;function n(r){if(r!=null&&!isNaN(r=+r))return t((fh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Is),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>yge(e,o/r))},n.copy=function(){return EV(t).domain(e)},Bo.apply(n,arguments)}function t0(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,c=Pn,u,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-o)*(r*m<r*o?a:l),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=u(e=+e),o=u(t=+t),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=Wge(m,[v,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=p(gu),h.rangeRound=p(tT),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return u=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function CV(){var e=ta(t0()(Pn));return e.copy=function(){return na(e,CV())},Bo.apply(e,arguments)}function TV(){var e=oT(t0()).domain([.1,1,10]);return e.copy=function(){return na(e,TV()).base(e.base())},Bo.apply(e,arguments)}function AV(){var e=sT(t0());return e.copy=function(){return na(e,AV()).constant(e.constant())},Bo.apply(e,arguments)}function vT(){var e=aT(t0());return e.copy=function(){return na(e,vT()).exponent(e.exponent())},Bo.apply(e,arguments)}function jve(){return vT.apply(null,arguments).exponent(.5)}const pd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QC,scaleDiverging:CV,scaleDivergingLog:TV,scaleDivergingPow:vT,scaleDivergingSqrt:jve,scaleDivergingSymlog:AV,scaleIdentity:oV,scaleImplicit:pS,scaleLinear:iV,scaleLog:aV,scaleOrdinal:XC,scalePoint:bge,scalePow:lT,scaleQuantile:uV,scaleQuantize:dV,scaleRadial:cV,scaleSequential:wV,scaleSequentialLog:SV,scaleSequentialPow:yT,scaleSequentialQuantile:EV,scaleSequentialSqrt:Nve,scaleSequentialSymlog:kV,scaleSqrt:hye,scaleSymlog:lV,scaleThreshold:fV,scaleTime:Ove,scaleUtc:Mve,tickFormat:rV},Symbol.toStringTag,{value:"Module"}));var ra=e=>e.chartData,Ive=D([ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),xT=(e,t,n,r)=>r?Ive(e):ra(e);function Xc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(xi(t)&&xi(n))return!0}return!1}function Fj(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Rve(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(xi(n))i=n;else if(typeof n=="function")return;if(xi(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Xc(s))return s}}function Dve(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Xc(r))return Fj(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,a;if(i==="auto")t!=null&&(s=Math.min(...t));else if(fe(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&RN.test(i)){var l=RN.exec(i);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(o==="auto")t!=null&&(a=Math.max(...t));else if(fe(o))a=o;else if(typeof o=="function")try{t!=null&&(a=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&DN.test(o)){var u=DN.exec(o);if(u==null||t==null)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=t==null?void 0:t[1];var f=[s,a];if(Xc(f))return t==null?f:Fj(f,t,n)}}}var yu=1e9,Lve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wT,it=!0,Gr="[DecimalError] ",Ha=Gr+"Invalid argument: ",bT=Gr+"Exponent out of range: ",vu=Math.floor,xa=Math.pow,$ve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,Ft=1e7,Je=7,PV=9007199254740991,uy=vu(PV/Je),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Z.comparedTo=Z.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Je;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Z.dividedBy=Z.div=function(e){return So(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,n=t.constructor;return Fe(So(t,new n(e),0,1),n.precision)};Z.equals=Z.eq=function(e){return!this.cmp(e)};Z.exponent=function(){return Tt(this)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0};Z.isInteger=Z.isint=function(){return this.e>this.d.length-2};Z.isNegative=Z.isneg=function(){return this.s<0};Z.isPositive=Z.ispos=function(){return this.s>0};Z.isZero=function(){return this.s===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(lr))throw Error(Gr+"NaN");if(n.s<1)throw Error(Gr+(n.s?"NaN":"-Infinity"));return n.eq(lr)?new r(0):(it=!1,t=So($f(n,o),$f(e,o),o),it=!0,Fe(t,i))};Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MV(t,e):_V(t,(e.s=-e.s,e))};Z.modulo=Z.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Gr+"NaN");return n.s?(it=!1,t=So(n,e,0,1).times(e),it=!0,n.minus(t)):Fe(new r(n),i)};Z.naturalExponential=Z.exp=function(){return OV(this)};Z.naturalLogarithm=Z.ln=function(){return $f(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_V(t,e):MV(t,(e.s=-e.s,e))};Z.precision=Z.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ha+e);if(t=Tt(i)+1,r=i.d.length-1,n=r*Je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Z.squareRoot=Z.sqrt=function(){var e,t,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Gr+"NaN")}for(e=Tt(a),it=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Ri(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(So(a,o,s+2)).times(.5),Ri(o.d).slice(0,s)===(t=Ri(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Fe(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(t!="9999")break;s+=4}return it=!0,Fe(r,n)};Z.times=Z.mul=function(e){var t,n,r,i,o,s,a,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,l=f.length,c=h.length,l<c&&(o=f,f=h,h=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)a=o[i]+h[r]*f[i-r-1]+t,o[i--]=a%Ft|0,t=a/Ft|0;o[i]=(o[i]+t)%Ft|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,it?Fe(e,d.precision):e};Z.toDecimalPlaces=Z.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Hi(e,0,yu),t===void 0?t=r.rounding:Hi(t,0,8),Fe(n,e+Tt(n)+1,t))};Z.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ol(r,!0):(Hi(e,0,yu),t===void 0?t=i.rounding:Hi(t,0,8),r=Fe(new i(r),e+1,t),n=ol(r,!0,e+1)),n};Z.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ol(i):(Hi(e,0,yu),t===void 0?t=o.rounding:Hi(t,0,8),r=Fe(new o(i),e+Tt(i)+1,t),n=ol(r.abs(),!1,e+Tt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),Tt(e)+1,t.rounding)};Z.toNumber=function(){return+this};Z.toPower=Z.pow=function(e){var t,n,r,i,o,s,a=this,l=a.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(lr);if(a=new l(a),!a.s){if(e.s<1)throw Error(Gr+"Infinity");return a}if(a.eq(lr))return a;if(r=l.precision,e.eq(lr))return Fe(a,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=a.s,s){if((n=u<0?-u:u)<=PV){for(i=new l(lr),t=Math.ceil(r/Je+4),it=!1;n%2&&(i=i.times(a),zj(i.d,t)),n=vu(n/2),n!==0;)a=a.times(a),zj(a.d,t);return it=!0,e.s<0?new l(lr).div(i):Fe(i,r)}}else if(o<0)throw Error(Gr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,it=!1,i=e.times($f(a,r+c)),it=!0,i=OV(i),i.s=o,i};Z.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Tt(i),r=ol(i,n<=o.toExpNeg||n>=o.toExpPos)):(Hi(e,1,yu),t===void 0?t=o.rounding:Hi(t,0,8),i=Fe(new o(i),e,t),n=Tt(i),r=ol(i,e<=n||n<=o.toExpNeg,e)),r};Z.toSignificantDigits=Z.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Hi(e,1,yu),t===void 0?t=r.rounding:Hi(t,0,8)),Fe(new r(n),e,t)};Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tt(e),n=e.constructor;return ol(e,t<=n.toExpNeg||t>=n.toExpPos)};function _V(e,t){var n,r,i,o,s,a,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),it?Fe(t,d):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(d/Je),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Ft|0,l[o]%=Ft;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,it?Fe(t,d):t}function Hi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ha+e)}function Ri(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=Je-r.length,n&&(o+=ss(n)),o+=r;s=e[t],r=s+"",n=Je-r.length,n&&(o+=ss(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var So=function(){function e(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ft|0,s=o/Ft|0;return s&&r.unshift(s),r}function t(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,u,d,f,h,p,m,y,v,b,w,S,E,T,k,C,A=r.constructor,O=r.s==i.s?1:-1,M=r.d,N=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(Gr+"Division by zero");for(l=r.e-i.e,k=N.length,E=M.length,h=new A(O),p=h.d=[],c=0;N[c]==(M[c]||0);)++c;if(N[c]>(M[c]||0)&&--l,o==null?b=o=A.precision:s?b=o+(Tt(r)-Tt(i))+1:b=o,b<0)return new A(0);if(b=b/Je+2|0,c=0,k==1)for(u=0,N=N[0],b++;(c<E||u)&&b--;c++)w=u*Ft+(M[c]||0),p[c]=w/N|0,u=w%N|0;else{for(u=Ft/(N[0]+1)|0,u>1&&(N=e(N,u),M=e(M,u),k=N.length,E=M.length),S=k,m=M.slice(0,k),y=m.length;y<k;)m[y++]=0;C=N.slice(),C.unshift(0),T=N[0],N[1]>=Ft/2&&++T;do u=0,a=t(N,m,k,y),a<0?(v=m[0],k!=y&&(v=v*Ft+(m[1]||0)),u=v/T|0,u>1?(u>=Ft&&(u=Ft-1),d=e(N,u),f=d.length,y=m.length,a=t(d,m,f,y),a==1&&(u--,n(d,k<f?C:N,f))):(u==0&&(a=u=1),d=N.slice()),f=d.length,f<y&&d.unshift(0),n(m,d,y),a==-1&&(y=m.length,a=t(N,m,k,y),a<1&&(u++,n(m,k<y?C:N,y))),y=m.length):a===0&&(u++,m=[0]),p[c++]=u,a&&m[0]?m[y++]=M[S]||0:(m=[M[S]],y=1);while((S++<E||m[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=l,Fe(h,s?o+Tt(h)+1:o)}}();function OV(e,t){var n,r,i,o,s,a,l=0,c=0,u=e.constructor,d=u.precision;if(Tt(e)>16)throw Error(bT+Tt(e));if(!e.s)return new u(lr);for(t==null?(it=!1,a=d):a=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(xa(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new u(lr),u.precision=a;;){if(i=Fe(i.times(e),a),n=n.times(++l),s=o.plus(So(i,n,a)),Ri(s.d).slice(0,a)===Ri(o.d).slice(0,a)){for(;c--;)o=Fe(o.times(o),a);return u.precision=d,t==null?(it=!0,Fe(o,d)):o}o=s}}function Tt(e){for(var t=e.e*Je,n=e.d[0];n>=10;n/=10)t++;return t}function vb(e,t,n){if(t>e.LN10.sd())throw it=!0,n&&(e.precision=n),Error(Gr+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function ss(e){for(var t="";e--;)t+="0";return t}function $f(e,t){var n,r,i,o,s,a,l,c,u,d=1,f=10,h=e,p=h.d,m=h.constructor,y=m.precision;if(h.s<1)throw Error(Gr+(h.s?"NaN":"-Infinity"));if(h.eq(lr))return new m(0);if(t==null?(it=!1,c=y):c=t,h.eq(10))return t==null&&(it=!0),vb(m,c);if(c+=f,m.precision=c,n=Ri(p),r=n.charAt(0),o=Tt(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=Ri(h.d),r=n.charAt(0),d++;o=Tt(h),r>1?(h=new m("0."+n),o++):h=new m(r+"."+n.slice(1))}else return l=vb(m,c+2,y).times(o+""),h=$f(new m(r+"."+n.slice(1)),c-f).plus(l),m.precision=y,t==null?(it=!0,Fe(h,y)):h;for(a=s=h=So(h.minus(lr),h.plus(lr),c),u=Fe(h.times(h),c),i=3;;){if(s=Fe(s.times(u),c),l=a.plus(So(s,new m(i),c)),Ri(l.d).slice(0,c)===Ri(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(vb(m,c+2,y).times(o+""))),a=So(a,new m(d),c),m.precision=y,t==null?(it=!0,Fe(a,y)):a;a=l,i+=2}}function Bj(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=vu(n/Je),e.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Je;r<i;)e.d.push(+t.slice(r,r+=Je));t=t.slice(r),r=Je-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),it&&(e.e>uy||e.e<-uy))throw Error(bT+n)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,n){var r,i,o,s,a,l,c,u,d=e.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=Je,i=t,c=d[u=0];else{if(u=Math.ceil((r+1)/Je),o=d.length,u>=o)return e;for(c=o=d[u],s=1;o>=10;o/=10)s++;r%=Je,i=r-Je+s}if(n!==void 0&&(o=xa(10,s-i-1),a=c/o%10|0,l=t<0||d[u+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/xa(10,s-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=Tt(e),d.length=1,t=t-o-1,d[0]=xa(10,(Je-t%Je)%Je),e.e=vu(-t/Je)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=xa(10,Je-r),d[u]=i>0?(c/xa(10,s-i)%xa(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==Ft&&(d[0]=1,++e.e);break}else{if(d[u]+=o,d[u]!=Ft)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(it&&(e.e>uy||e.e<-uy))throw Error(bT+Tt(e));return e}function MV(e,t){var n,r,i,o,s,a,l,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),it?Fe(t,h):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(h/Je),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Ft-1;--l[o],l[i]+=Ft}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,it?Fe(t,h):t):new f(0)}function ol(e,t,n){var r,i=Tt(e),o=Ri(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ss(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ss(-i-1)+o,n&&(r=n-s)>0&&(o+=ss(r))):i>=s?(o+=ss(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ss(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ss(r))),e.s<0?"-"+o:o}function zj(e,t){if(e.length>t)return e.length=t,!0}function NV(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ha+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Bj(s,o.toString())}else if(typeof o!="string")throw Error(Ha+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,$ve.test(o))Bj(s,o);else throw Error(Ha+o)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=NV,i.config=i.set=Fve,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Fve(e){if(!e||typeof e!="object")throw Error(Gr+"Object expected");var t,n,r,i=["precision",1,yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(vu(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ha+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ha+n+": "+r);return this}var wT=NV(Lve);lr=new wT(1);const je=wT;var Bve=e=>e,jV={"@@functional/placeholder":!0},IV=e=>e===jV,Uj=e=>function t(){return arguments.length===0||arguments.length===1&&IV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},RV=(e,t)=>e===1?t:Uj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==jV).length;return o>=e?t(...r):RV(e-o,Uj(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var c=r.map(u=>IV(u)?a.shift():u);return t(...c,...a)}))}),n0=e=>RV(e.length,e),vS=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zve=n0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Uve=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Bve;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},xS=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),DV=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((s,a)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[a])})||(t=i,n=e(...i)),n}};function LV(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function $V(e,t,n){for(var r=new je(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}n0((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});n0((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});n0((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var FV=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},BV=(e,t,n)=>{if(e.lte(0))return new je(0);var r=LV(e.toNumber()),i=new je(10).pow(r),o=e.div(i),s=r!==1?.05:.1,a=new je(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return t?new je(l.toNumber()):new je(Math.ceil(l.toNumber()))},Vve=(e,t,n)=>{var r=new je(1),i=new je(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new je(10).pow(LV(e)-1),i=new je(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new je(Math.floor(e)))}else e===0?i=new je(Math.floor((t-1)/2)):n||(i=new je(Math.floor(e)));var s=Math.floor((t-1)/2),a=Uve(zve(l=>i.add(new je(l-s).mul(r)).toNumber()),vS);return a(0,t)},zV=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var s=BV(new je(n).sub(t).div(r-1),i,o),a;t<=0&&n>=0?a=new je(0):(a=new je(t).add(n).div(2),a=a.sub(new je(a).mod(s)));var l=Math.ceil(a.sub(t).div(s).toNumber()),c=Math.ceil(new je(n).sub(a).div(s).toNumber()),u=l+c+1;return u>r?zV(t,n,r,i,o+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:s,tickMin:a.sub(new je(l).mul(s)),tickMax:a.add(new je(c).mul(s))})};function Wve(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=FV([t,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...vS(0,r-1).map(()=>1/0)]:[...vS(0,r-1).map(()=>-1/0),a];return t>n?xS(l):l}if(s===a)return Vve(s,r,i);var{step:c,tickMin:u,tickMax:d}=zV(s,a,o,i,0),f=$V(u,d.add(new je(.1).mul(c)),c);return t>n?xS(f):f}function Hve(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=FV([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(t,2),l=BV(new je(s).sub(o).div(a-1),i,0),c=[...$V(new je(o),new je(s),l),s];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?xS(c):c}var Kve=DV(Wve),qve=DV(Hve),Gve=e=>e.rootProps.barCategoryGap,r0=e=>e.rootProps.stackOffset,ST=e=>e.options.chartName,kT=e=>e.rootProps.syncId,UV=e=>e.rootProps.syncMethod,ET=e=>e.options.eventEmitter,ao={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},ir={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},i0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Yve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ao.angleAxisId,includeHidden:!1,name:void 0,reversed:ao.reversed,scale:ao.scale,tick:ao.tick,tickCount:void 0,ticks:void 0,type:ao.type,unit:void 0},Jve={allowDataOverflow:ir.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ir.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ir.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,ticks:void 0,type:ir.type,unit:void 0},Xve={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ao.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ao.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ao.scale,tick:ao.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Qve={allowDataOverflow:ir.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ir.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ir.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,ticks:void 0,type:"category",unit:void 0},CT=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Xve:Yve,TT=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Qve:Jve,o0=e=>e.polarOptions,AT=D([$o,Fo,cn],lpe),VV=D([o0,AT],(e,t)=>{if(e!=null)return Vs(e.innerRadius,t,0)}),WV=D([o0,AT],(e,t)=>{if(e!=null)return Vs(e.outerRadius,t,t*.8)}),Zve=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},HV=D([o0],Zve);D([CT,HV],i0);var KV=D([AT,VV,WV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});D([TT,KV],i0);var qV=D([Qe,o0,VV,WV,$o,Fo],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:c}=t;return{cx:Vs(s,i,i/2),cy:Vs(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),_t=(e,t)=>t,s0=(e,t,n)=>n;function GV(e){return e==null?void 0:e.id}var Rt=e=>{var t=Qe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xu=e=>e.tooltip.settings.axisId,Yt=e=>{var t=Rt(e),n=xu(e);return gh(e,t,n)},YV=D([Yt],e=>e==null?void 0:e.dataKey);function JV(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=GV(a);c.forEach((d,f)=>{var h=o==null||i?f:String(On(d,o,null)),p=On(d,a.dataKey,0),m;s.has(h)?m=s.get(h):m={},Object.assign(m,{[u]:p}),s.set(h,m)})}}),Array.from(s.values())}function PT(e){return e.stackId!=null&&e.dataKey!=null}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){e0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e0e(e,t,n){return(t=t0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t0e(e){var t=n0e(e,"string");return typeof t=="symbol"?t:t+""}function n0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bS=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XV=(e,t)=>e.cartesianAxis.xAxis[t],zo=(e,t)=>{var n=XV(e,t);return n??tr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dh},QV=(e,t)=>e.cartesianAxis.yAxis[t],Uo=(e,t)=>{var n=QV(e,t);return n??nr},r0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},_T=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??r0e},er=(e,t,n)=>{switch(t){case"xAxis":return zo(e,n);case"yAxis":return Uo(e,n);case"zAxis":return _T(e,n);case"angleAxis":return CT(e,n);case"radiusAxis":return TT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},i0e=(e,t,n)=>{switch(t){case"xAxis":return zo(e,n);case"yAxis":return Uo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gh=(e,t,n)=>{switch(t){case"xAxis":return zo(e,n);case"yAxis":return Uo(e,n);case"angleAxis":return CT(e,n);case"radiusAxis":return TT(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ZV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function e5(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var t5=e=>e.graphicalItems.cartesianItems,o0e=D([_t,s0],e5),n5=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),yh=D([t5,er,o0e],n5),r5=D([yh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(PT)),i5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),o5=D([yh],i5),s5=e=>e.map(t=>t.data).filter(Boolean).flat(1),s0e=D([yh],s5),a5=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},OT=D([s0e,xT],a5),l5=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:On(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:On(i,r)}))):e.map(r=>({value:r})),a0=D([OT,er,yh],l5);function c5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wl(e){return e.filter(t=>Wi(t)||t instanceof Date).map(Number).filter(t=>Kr(t)===!1)}function a0e(e,t,n){return!n||typeof t!="number"||Kr(t)?[]:n.length?wl(n.flatMap(r=>{var i=On(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!xi(o)||!xi(s)))return[t-o,t+s]})):[]}var l0e=D([r5,xT,Yt],JV),u5=(e,t,n)=>{var r={},i=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(GV);return[s,{stackedData:kpe(e,l,n),graphicalItems:a}]}))},c0e=D([l0e,r5,r0],u5),d5=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var o=Tpe(e,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},u0e=D([c0e,ra,_t],d5),f5=(e,t,n,r,i)=>n.length>0?e.flatMap(o=>n.flatMap(s=>{var a,l,c=(a=r[s.id])===null||a===void 0?void 0:a.filter(d=>c5(i,d)),u=On(o,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:a0e(o,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(o=>({value:On(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),l0=e=>e.errorBars,h5=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>c5(n,r));D([o5,l0,_t],h5);var d0e=D([OT,er,o5,l0,_t],f5);function f0e(e){var{value:t}=e;if(Wi(t)||t instanceof Date)return t}var Wj=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=wl(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},h0e=(e,t,n)=>{var r=e.map(f0e).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hU(r))?q4(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},MT=e=>{var t;if(e==null||!("domain"in e))return bS;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=wl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:bS},fy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},p5=e=>e.referenceElements.dots,bu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),p0e=D([p5,_t,s0],bu),m5=e=>e.referenceElements.areas,m0e=D([m5,_t,s0],bu),g5=e=>e.referenceElements.lines,g0e=D([g5,_t,s0],bu),y5=(e,t)=>{var n=wl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},y0e=D(p0e,_t,y5),v5=(e,t)=>{var n=wl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},v0e=D([m0e,_t],v5),x5=(e,t)=>{var n=wl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},x0e=D(g0e,_t,x5),b0e=D(y0e,x0e,v0e,(e,t,n)=>fy(e,n,t)),w0e=D([er],MT),b5=(e,t,n,r,i,o,s)=>{var a=Rve(t,e.allowDataOverflow);if(a!=null)return a;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?fy(n,i,Wj(r)):fy(i,Wj(r));return Dve(t,c,e.allowDataOverflow)},S0e=D([er,w0e,u0e,d0e,b0e,Qe,_t],b5),k0e=[0,1],w5=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=e,c=ea(t,o);return c&&a==null?q4(0,n.length):l==="category"?h0e(r,e,c):i==="expand"?k0e:s}},NT=D([er,Qe,OT,a0,r0,_t,S0e],w5),S5=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:s}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(AC(o));return a in pd?a:"point"}}},vh=D([er,Qe,ZV,ST,_t],S5);function E0e(e){if(e!=null){if(e in pd)return pd[e]();var t="scale".concat(AC(e));if(t in pd)return pd[t]()}}function jT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=E0e(t);if(i!=null){var o=i.domain(n).range(r);return xpe(o),o}}}var k5=(e,t,n)=>{var r=MT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xc(e))return Kve(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xc(e))return qve(e,t.tickCount,t.allowDecimals)}},IT=D([NT,gh,vh],k5),E5=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Xc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],s=t[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return t},C0e=D([er,NT,IT,_t],E5),T0e=D(a0,er,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wl(e.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),C5=D(T0e,Qe,Gve,cn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!xi(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=Vs(n,e*o),a=e*o/2;return a-s-(a-s)/o*s}return 0}),A0e=(e,t)=>{var n=zo(e,t);return n==null||typeof n.padding!="string"?0:C5(e,"xAxis",t,n.padding)},P0e=(e,t)=>{var n=Uo(e,t);return n==null||typeof n.padding!="string"?0:C5(e,"yAxis",t,n.padding)},_0e=D(zo,A0e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),O0e=D(Uo,P0e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),M0e=D([cn,_0e,Yv,Gv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),N0e=D([cn,Qe,O0e,Yv,Gv,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),xh=(e,t,n,r)=>{var i;switch(t){case"xAxis":return M0e(e,n,r);case"yAxis":return N0e(e,n,r);case"zAxis":return(i=_T(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return HV(e);case"radiusAxis":return KV(e,n);default:return}},T5=D([er,xh],i0),wu=D([er,vh,C0e,T5],jT);D([yh,l0,_t],h5);function A5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var c0=(e,t)=>t,u0=(e,t,n)=>n,j0e=D(Kv,c0,u0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(A5)),I0e=D(qv,c0,u0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(A5)),P5=(e,t)=>({width:e.width,height:t.height}),R0e=(e,t)=>{var n=typeof t.width=="number"?t.width:dh;return{width:n,height:e.height}},D0e=D(cn,zo,P5),L0e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},$0e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},F0e=D(Fo,cn,j0e,c0,u0,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=P5(t,a);s==null&&(s=L0e(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),o}),B0e=D($o,cn,I0e,c0,u0,(e,t,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=R0e(t,a);s==null&&(s=$0e(t,r,e));var c=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),o}),z0e=(e,t)=>{var n=zo(e,t);if(n!=null)return F0e(e,n.orientation,n.mirror)},U0e=D([cn,zo,z0e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),V0e=(e,t)=>{var n=Uo(e,t);if(n!=null)return B0e(e,n.orientation,n.mirror)},W0e=D([cn,Uo,V0e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),H0e=D(cn,Uo,(e,t)=>{var n=typeof t.width=="number"?t.width:dh;return{width:n,height:e.height}}),_5=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=ea(e,r),l=t.map(c=>c.value);if(s&&a&&o==="category"&&i&&hU(l))return l}},RT=D([Qe,a0,er,_t],_5),O5=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=ea(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(a=>a.value)}},DT=D([Qe,a0,gh,_t],O5),Hj=D([Qe,i0e,vh,wu,RT,DT,xh,IT,_t],(e,t,n,r,i,o,s,a,l)=>{if(t==null)return null;var c=ea(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:a,range:s,realScaleType:n,scale:r}}),K0e=(e,t,n,r,i,o,s,a,l)=>{if(!(t==null||r==null)){var c=ea(e,l),{type:u,ticks:d,tickCount:f}=t,h=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;p=l==="angleAxis"&&o!=null&&o.length>=2?Dr(o[0]-o[1])*2*p:p;var m=d||i;if(m){var y=m.map((v,b)=>{var w=s?s.indexOf(v):v;return{index:b,coordinate:r(w)+p,value:v,offset:p}});return y.filter(v=>!Kr(v.coordinate))}return c&&a?a.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})):r.ticks?r.ticks(f).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:s?s[v]:v,index:b,offset:p}))}},M5=D([Qe,gh,vh,wu,IT,xh,RT,DT,_t],K0e),q0e=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=ea(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Dr(r[0]-r[1])*2*c:c,a&&o?o.map((u,d)=>({coordinate:n(u)+c,value:u,index:d,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,d)=>({coordinate:n(u)+c,value:i?i[u]:u,index:d,offset:c}))}},N5=D([Qe,gh,wu,xh,RT,DT,_t],q0e),j5=D(er,wu,(e,t)=>{if(!(e==null||t==null))return dy(dy({},e),{},{scale:t})}),G0e=D([er,vh,NT,T5],jT);D((e,t,n)=>_T(e,n),G0e,(e,t)=>{if(!(e==null||t==null))return dy(dy({},e),{},{scale:t})});var Y0e=D([Qe,Kv,qv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),I5=e=>e.options.defaultTooltipEventType,R5=e=>e.options.validateTooltipEventTypes;function D5(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function LT(e,t){var n=I5(e),r=R5(e);return D5(t,n,r)}function J0e(e){return ce(t=>LT(t,e))}var L5=(e,t)=>{var n,r=Number(t);if(!(Kr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},X0e=e=>e.tooltip.settings,hs={active:!1,index:null,dataKey:void 0,coordinate:void 0},Q0e={itemInteraction:{click:hs,hover:hs},axisInteraction:{click:hs,hover:hs},keyboardInteraction:hs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$5=wr({name:"tooltip",initialState:Q0e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=wo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Z0e,removeTooltipEntrySettings:exe,setTooltipSettingsState:txe,setActiveMouseOverItemIndex:nxe,mouseLeaveItem:zCe,mouseLeaveChart:F5,setActiveClickItemIndex:UCe,setMouseOverAxisIndex:B5,setMouseClickAxisIndex:rxe,setSyncInteraction:wS,setKeyboardInteraction:SS}=$5.actions,ixe=$5.reducer;function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(r){oxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oxe(e,t,n){return(t=sxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sxe(e){var t=axe(e,"string");return typeof t=="symbol"?t:t+""}function axe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lxe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cxe(e){return e.index!=null}var z5=(e,t,n,r)=>{if(t==null)return hs;var i=lxe(e,t,n);if(i==null)return hs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(cxe(i)){if(o)return Mp(Mp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Mp(Mp({},hs),{},{coordinate:i.coordinate})},$T=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!xi(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},U5=(e,t,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],c=l==null?void 0:a(l.positions,o);if(c!=null)return c;var u=i==null?void 0:i[Number(o)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},V5=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},bh=e=>e.options.tooltipPayloadSearcher,Su=e=>e.tooltip;function qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(n),!0).forEach(function(r){uxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uxe(e,t,n){return(t=dxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dxe(e){var t=fxe(e,"string");return typeof t=="symbol"?t:t+""}function fxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hxe(e,t){return e??t}var W5=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,d=[];return e.reduce((f,h)=>{var p,{dataDefinedOnItem:m,settings:y}=h,v=hxe(m,a),b=Array.isArray(v)?C4(v,c,u):v,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,S=y==null?void 0:y.nameKey,E;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?E=pU(b,r,i):E=o(b,t,l,S),Array.isArray(E))E.forEach(k=>{var C=Gj(Gj({},y),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});f.push(LN({tooltipEntrySettings:C,dataKey:k.dataKey,payload:k.payload,value:On(k.payload,k.dataKey),name:k.name}))});else{var T;f.push(LN({tooltipEntrySettings:y,dataKey:w,payload:E,value:On(E,w),name:(T=On(E,S))!==null&&T!==void 0?T:y==null?void 0:y.name}))}return f},d)}},FT=D([Yt,Qe,ZV,ST,Rt],S5),pxe=D([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mxe=D([Rt,xu],e5),wh=D([pxe,Yt,mxe],n5),gxe=D([wh],e=>e.filter(PT)),yxe=D([wh],s5),ku=D([yxe,ra],a5),vxe=D([gxe,ra,Yt],JV),BT=D([ku,Yt,wh],l5),xxe=D([Yt],MT),bxe=D([wh],e=>e.filter(PT)),wxe=D([vxe,bxe,r0],u5),Sxe=D([wxe,ra,Rt],d5),kxe=D([wh],i5),Exe=D([ku,Yt,kxe,l0,Rt],f5),Cxe=D([p5,Rt,xu],bu),Txe=D([Cxe,Rt],y5),Axe=D([m5,Rt,xu],bu),Pxe=D([Axe,Rt],v5),_xe=D([g5,Rt,xu],bu),Oxe=D([_xe,Rt],x5),Mxe=D([Txe,Oxe,Pxe],fy),Nxe=D([Yt,xxe,Sxe,Exe,Mxe,Qe,Rt],b5),H5=D([Yt,Qe,ku,BT,r0,Rt,Nxe],w5),jxe=D([H5,Yt,FT],k5),Ixe=D([Yt,H5,jxe,Rt],E5),K5=e=>{var t=Rt(e),n=xu(e),r=!1;return xh(e,t,n,r)},q5=D([Yt,K5],i0),G5=D([Yt,FT,Ixe,q5],jT),Rxe=D([Qe,BT,Yt,Rt],_5),Dxe=D([Qe,BT,Yt,Rt],O5),Lxe=(e,t,n,r,i,o,s,a)=>{if(t){var{type:l}=t,c=ea(e,a);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return d=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Dr(i[0]-i[1])*2*d:d,c&&s?s.map((f,h)=>({coordinate:r(f)+d,value:f,index:h,offset:d})):r.domain().map((f,h)=>({coordinate:r(f)+d,value:o?o[f]:f,index:h,offset:d}))}}},Vo=D([Qe,Yt,FT,G5,K5,Rxe,Dxe,Rt],Lxe),zT=D([I5,R5,X0e],(e,t,n)=>D5(n.shared,e,t)),Y5=e=>e.tooltip.settings.trigger,UT=e=>e.tooltip.settings.defaultIndex,d0=D([Su,zT,Y5,UT],z5),Ff=D([d0,ku],$T),J5=D([Vo,Ff],L5),$xe=D([d0],e=>{if(e)return e.dataKey}),X5=D([Su,zT,Y5,UT],V5),Fxe=D([$o,Fo,Qe,cn,Vo,UT,X5,bh],U5),Bxe=D([d0,Fxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zxe=D([d0],e=>e.active),Uxe=D([X5,Ff,ra,YV,J5,bh,zT],W5),Vxe=D([Uxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){Wxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wxe(e,t,n){return(t=Hxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qxe=()=>ce(Yt),Gxe=()=>{var e=qxe(),t=ce(Vo),n=ce(G5);return iS(Jj(Jj({},e),{},{scale:n}),t)},Yxe=()=>ce(ST),VT=(e,t)=>t,Q5=(e,t,n)=>n,WT=(e,t,n,r)=>r,Jxe=D(Vo,e=>Bv(e,t=>t.coordinate)),HT=D([Su,VT,Q5,WT],z5),Z5=D([HT,ku],$T),Xxe=(e,t,n)=>{if(t!=null){var r=Su(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},eW=D([Su,VT,Q5,WT],V5),hy=D([$o,Fo,Qe,cn,Vo,WT,eW,bh],U5),Qxe=D([HT,hy],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),tW=D(Vo,Z5,L5),Zxe=D([eW,Z5,ra,YV,tW,bh,VT],W5),ebe=D([HT],e=>({isActive:e.active,activeIndex:e.index})),tbe=(e,t,n,r,i,o,s,a)=>{if(!(!e||!t||!r||!i||!o)){var l=Ape(e.chartX,e.chartY,t,n,a);if(l){var c=_pe(l,t),u=ype(c,s,o,r,i),d=Ppe(t,o,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kS.apply(null,arguments)}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){nbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nbe(e,t,n){return(t=rbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rbe(e){var t=ibe(e,"string");return typeof t=="symbol"?t:t+""}function ibe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function obe(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:c}=e,u=t,d=n,f=r;if(!a||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,p;if(c==="ScatterChart")h=u,p=bme;else if(c==="BarChart")h=wme(s,u,i,o),p=Qme;else if(s==="radial"){var{cx:m,cy:y,radius:v,startAngle:b,endAngle:w}=U4(u);h={cx:m,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},p=nge}else h={points:rge(s,u,i)},p=D4;var S=typeof a=="object"&&"className"in a?a.className:void 0,E=Np(Np(Np(Np({stroke:"#ccc",pointerEvents:"none"},i),h),an(a,!1)),{},{payload:d,payloadIndex:f,className:Be("recharts-tooltip-cursor",S)});return x.isValidElement(a)?x.cloneElement(a,E):x.createElement(p,E)}function sbe(e){var t=Gxe(),n=M4(),r=YC(),i=Yxe();return x.createElement(obe,kS({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var nW=x.createContext(null),abe=()=>x.useContext(nW),rW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,p){var m=n?n+c:c;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,E;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,f);break;default:if(!b)for(E=1,b=new Array(v-1);E<v;E++)b[E-1]=arguments[E];y[w].fn.apply(y[w].context,b)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var m=0,y=[],v=p.length;m<v;m++)(p[m].fn!==u||f&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(rW);var lbe=rW.exports;const cbe=yr(lbe);var Bf=new cbe,ES="recharts.syncEvent.tooltip",Qj="recharts.syncEvent.brush";function ube(e,t){if(t){var n=Number.parseInt(t,10);if(!Kr(n))return e==null?void 0:e[n]}}var dbe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iW=wr({name:"options",initialState:dbe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fbe=iW.reducer,{createEventEmitter:hbe}=iW.actions;function pbe(e){return e.tooltip.syncInteraction}var mbe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oW=wr({name:"chartData",initialState:mbe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Zj,setDataStartEndIndexes:gbe,setComputedData:VCe}=oW.actions,ybe=oW.reducer,vbe=["x","y"];function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){xbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xbe(e,t,n){return(t=bbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bbe(e){var t=wbe(e,"string");return typeof t=="symbol"?t:t+""}function wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sbe(e,t){if(e==null)return{};var n,r,i=kbe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sW=()=>{};function Ebe(){var e=ce(kT),t=ce(ET),n=Fn(),r=ce(UV),i=ce(Vo),o=YC(),s=GC(),a=ce(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return sW;var l=(c,u,d)=>{if(t!==d&&e===c){if(r==="index"){var f;if(s&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate){var h=u.payload.coordinate,{x:p,y:m}=h,y=Sbe(h,vbe),v=ua(ua(ua({},y),typeof p=="number"&&{x:Math.max(s.x,Math.min(p,s.x+s.width))}),typeof m=="number"&&{y:Math.max(s.y,Math.min(m,s.y+s.height))}),b=ua(ua({},u),{},{payload:ua(ua({},u.payload),{},{coordinate:v})});n(b)}else n(u);return}if(i!=null){var w;if(typeof r=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},E=r(i,S);w=i[E]}else r==="value"&&(w=i.find(L=>String(L.value)===u.payload.label));var{coordinate:T}=u.payload;if(w==null||u.payload.active===!1||T==null||s==null){n(wS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:C}=T,A=Math.min(k,s.x+s.width),O=Math.min(C,s.y+s.height),M={x:o==="horizontal"?w.coordinate:A,y:o==="horizontal"?O:w.coordinate},N=wS({active:u.payload.active,coordinate:M,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});n(N)}}};return Bf.on(ES,l),()=>{Bf.off(ES,l)}},[a,n,t,e,r,i,o,s])}function Cbe(){var e=ce(kT),t=ce(ET),n=Fn();x.useEffect(()=>{if(e==null)return sW;var r=(i,o,s)=>{t!==s&&e===i&&n(gbe(o))};return Bf.on(Qj,r),()=>{Bf.off(Qj,r)}},[n,t,e])}function Tbe(){var e=Fn();x.useEffect(()=>{e(hbe())},[e]),Ebe(),Cbe()}function Abe(e,t,n,r,i,o){var s=ce(f=>Xxe(f,e,t)),a=ce(ET),l=ce(kT),c=ce(UV),u=ce(pbe),d=u==null?void 0:u.active;x.useEffect(()=>{if(!d&&l!=null&&a!=null){var f=wS({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});Bf.emit(ES,l,f,a)}},[d,n,s,i,r,a,l,c,o])}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){Pbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pbe(e,t,n){return(t=_be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _be(e){var t=Obe(e,"string");return typeof t=="symbol"?t:t+""}function Obe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mbe(e){return e.dataKey}function Nbe(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Qpe,t)}var rI=[],jbe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!mu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ibe(e){var t=Xr(e,jbe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:m,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:S}=t,E=Fn(),T=typeof b=="number"?String(b):b;x.useEffect(()=>{E(txe({shared:y,trigger:v,axisId:S,active:n,defaultIndex:T}))},[E,y,v,S,n,T]);var k=GC(),C=R4(),A=J0e(y),{activeIndex:O,isActive:M}=ce(le=>ebe(le,A,v,T)),N=ce(le=>Zxe(le,A,v,T)),L=ce(le=>tW(le,A,v,T)),I=ce(le=>Qxe(le,A,v,T)),J=N,$=abe(),K=n??M,[P,j]=she([J,K]),q=A==="axis"?L:void 0;Abe(A,v,I,q,O,K);var z=w??$;if(z==null)return null;var U=J??rI;K||(U=rI),a&&U.length&&(U=Vfe(J.filter(le=>le.value!=null&&(le.hide!==!0||t.includeHidden)),u,Mbe));var ne=U.length>0,Oe=x.createElement(ome,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:K,coordinate:I,hasPayload:ne,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:k,wrapperStyle:p,lastBoundingBox:P,innerRef:j,hasPortalFromProps:!!w},Nbe(s,nI(nI({},t),{},{payload:U,label:q,active:K,coordinate:I,accessibilityLayer:C})));return x.createElement(x.Fragment,null,nu.createPortal(Oe,z),K&&x.createElement(sbe,{cursor:m,tooltipEventType:A,coordinate:I,payload:J,index:O}))}var aW={},lW={},cW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),u=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},d=()=>{c&&u(),m()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},r)},p=()=>{f!==null&&(clearTimeout(f),f=null)},m=()=>{p(),s=void 0,a=null},y=()=>{u()},v=function(...b){if(i!=null&&i.aborted)return;s=this,a=b;const w=f==null;h(),l&&w&&u()};return v.schedule=h,v.cancel=m,v.flush=y,i==null||i.addEventListener("abort",m,{once:!0}),v}e.debounce=t})(cW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cW;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,c=Array(2);s&&(c[0]="leading"),a&&(c[1]="trailing");let u,d=null;const f=t.debounce(function(...m){u=r.apply(this,m),d=null},i,{edges:c}),h=function(...m){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=r.apply(this,m),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,m),u)},p=()=>(f.flush(),u);return h.cancel=f.cancel,h.flush=p,h}e.debounce=n})(lW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lW;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:a})}e.throttle=n})(aW);var Rbe=aW.throttle;const Dbe=yr(Rbe);var Vd=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){Lbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lbe(e,t,n){return(t=$be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $be(e){var t=Fbe(e,"string");return typeof t=="symbol"?t:t+""}function Fbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bbe=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:h,style:p={}}=e,m=x.useRef(null),y=x.useRef();y.current=h,x.useImperativeHandle(t,()=>m.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((E,T)=>{b(k=>{var C=Math.round(E),A=Math.round(T);return k.containerWidth===C&&k.containerHeight===A?k:{containerWidth:C,containerHeight:A}})},[]);x.useEffect(()=>{var E=A=>{var O,{width:M,height:N}=A[0].contentRect;w(M,N),(O=y.current)===null||O===void 0||O.call(y,M,N)};u>0&&(E=Dbe(E,u,{trailing:!0,leading:!1}));var T=new ResizeObserver(E),{width:k,height:C}=m.current.getBoundingClientRect();return w(k,C),T.observe(m.current),()=>{T.disconnect()}},[w,u]);var S=x.useMemo(()=>{var{containerWidth:E,containerHeight:T}=v;if(E<0||T<0)return null;Vd(Ma(i)||Ma(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Vd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=Ma(i)?E:i,C=Ma(o)?T:o;return n&&n>0&&(k?C=k/n:C&&(k=C*n),l&&C>l&&(C=l)),Vd(k>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,i,o,s,a,n),x.Children.map(c,A=>x.cloneElement(A,{width:k,height:C,style:xb({width:k,height:C},A.props.style)}))},[n,c,o,l,a,s,v,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:Be("recharts-responsive-container",f),style:xb(xb({},p),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:m},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))});function zbe(e,t,n){return(t=Ube(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ube(e){var t=Vbe(e,"string");return typeof t=="symbol"?t:t+""}function Vbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wbe{constructor(t){zbe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){Kbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kbe(e,t,n){return(t=qbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qbe(e){var t=Gbe(e,"string");return typeof t=="symbol"?t:t+""}function Gbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ybe={cacheSize:2e3,enableCache:!0},uW=Hbe({},Ybe),sI=new Wbe(uW.cacheSize),Jbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aI="recharts_measurement_span";function Xbe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var lI=(e,t)=>{try{var n=document.getElementById(aI);n||(n=document.createElement("span"),n.setAttribute("id",aI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Jbe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||mu.isSsr)return{width:0,height:0};if(!uW.enableCache)return lI(t,n);var r=Xbe(t,n),i=sI.get(r);if(i)return i;var o=lI(t,n);return sI.set(r,o),o},cI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ewe=Object.keys(dW),uc="NaN";function twe(e,t){return e*dW[t]}class Un{static parse(t){var n,[,r,i]=(n=Zbe.exec(t))!==null&&n!==void 0?n:[];return new Un(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Kr(t)&&(this.unit=""),n!==""&&!Qbe.test(n)&&(this.num=NaN,this.unit=""),ewe.includes(n)&&(this.num=twe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Un(NaN,""):new Un(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Un(NaN,""):new Un(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Un(NaN,""):new Un(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Un(NaN,""):new Un(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kr(this.num)}}function fW(e){if(e.includes(uc))return uc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=cI.exec(t))!==null&&n!==void 0?n:[],s=Un.parse(r??""),a=Un.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return uc;t=t.replace(cI,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,f]=(c=uI.exec(t))!==null&&c!==void 0?c:[],h=Un.parse(u??""),p=Un.parse(f??""),m=d==="+"?h.add(p):h.subtract(p);if(m.isNaN())return uc;t=t.replace(uI,m.toString())}return t}var dI=/\(([^()]*)\)/;function nwe(e){for(var t=e,n;(n=dI.exec(t))!=null;){var[,r]=n;t=t.replace(dI,fW(r))}return t}function rwe(e){var t=e.replace(/\s+/g,"");return t=nwe(t),t=fW(t),t}function iwe(e){try{return rwe(e)}catch{return uc}}function bb(e){var t=iwe(e.slice(5,-1));return t===uc?"":t}var owe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],swe=["dx","dy","angle","className","breakAll"];function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(null,arguments)}function fI(e,t){if(e==null)return{};var n,r,i=awe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function awe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hW=/[ \f\n\r\t\v\u2028\u2029]+/,pW=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ht(t)||(n?i=t.toString().split(""):i=t.toString().split(hW));var o=i.map(a=>({word:a,width:Wd(a,r).width})),s=n?0:Wd(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},lwe=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=e,c=fe(o),u=s,d=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((N,L)=>{var{word:I,width:J}=L,$=N[N.length-1];if($&&(r==null||i||$.width+J+n<Number(r)))$.words.push(I),$.width+=J+n;else{var K={words:[I],width:J};N.push(K)}return N},[])},f=d(t),h=O=>O.reduce((M,N)=>M.width>N.width?M:N);if(!c||i)return f;var p=f.length>o||h(f).width>Number(r);if(!p)return f;for(var m="…",y=O=>{var M=u.slice(0,O),N=pW({breakAll:l,style:a,children:M+m}).wordsWithComputedWidth,L=d(N),I=L.length>o||h(L).width>Number(r);return[I,L]},v=0,b=u.length-1,w=0,S;v<=b&&w<=u.length-1;){var E=Math.floor((v+b)/2),T=E-1,[k,C]=y(T),[A]=y(E);if(!k&&!A&&(v=E+1),k&&A&&(b=E-1),!k&&A){S=C;break}w++}return S||f},hI=e=>{var t=Ht(e)?[]:e.toString().split(hW);return[{words:t}]},cwe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!mu.isSsr){var a,l,c=pW({breakAll:o,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;a=u,l=d}else return hI(r);return lwe({breakAll:o,children:r,maxLines:s,style:i},a,l,t,n)}return hI(r)},pI="#808080",KT=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:c=pI}=e,u=fI(e,owe),d=x.useMemo(()=>cwe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:f,dy:h,angle:p,className:m,breakAll:y}=u,v=fI(u,swe);if(!Wi(n)||!Wi(r)||d.length===0)return null;var b=n+(fe(f)?f:0),w=r+(fe(h)?h:0),S;switch(l){case"start":S=bb("calc(".concat(o,")"));break;case"middle":S=bb("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:S=bb("calc(".concat(d.length-1," * -").concat(i,")"));break}var E=[];if(s){var T=d[0].width,{width:k}=u;E.push("scale(".concat(fe(k)?k/T:1,")"))}return p&&E.push("rotate(".concat(p,", ").concat(b,", ").concat(w,")")),E.length&&(v.transform=E.join(" ")),x.createElement("text",CS({},an(v,!0),{ref:t,x:b,y:w,className:Be("recharts-text",m),textAnchor:a,fill:c.includes("url")?pI:c}),d.map((C,A)=>{var O=C.words.join(y?"":" ");return x.createElement("tspan",{x:b,dy:A===0?S:i,key:"".concat(O,"-").concat(A)},O)}))});KT.displayName="Text";var uwe=["labelRef"];function dwe(e,t){if(e==null)return{};var n,r,i=fwe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){hwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hwe(e,t,n){return(t=pwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pwe(e){var t=mwe(e,"string");return typeof t=="symbol"?t:t+""}function mwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(null,arguments)}var mW=x.createContext(null),gwe=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,s=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(mW.Provider,{value:s},o)},gW=()=>{var e=x.useContext(mW),t=GC();return e||t},ywe=x.createContext(null),vwe=()=>{var e=x.useContext(ywe),t=ce(qV);return e||t},xwe=e=>{var{value:t,formatter:n}=e,r=Ht(e.children)?t:e.children;return typeof n=="function"?n(r):r},qT=e=>e!=null&&typeof e=="function",bwe=(e,t)=>{var n=Dr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},wwe=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:a,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:f,clockWise:h}=i,p=(c+u)/2,m=bwe(d,f),y=m>=0?1:-1,v,b;switch(t){case"insideStart":v=d+y*o,b=h;break;case"insideEnd":v=f-y*o,b=!h;break;case"end":v=f+y*o,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=m<=0?b:!b;var w=rn(a,l,p,v),S=rn(a,l,p,v+(b?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),T=Ht(e.id)?Of("recharts-radial-line-"):e.id;return x.createElement("text",lo({},r,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:T,d:E})),x.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Swe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=e,c=(a+l)/2;if(n==="outside"){var{x:u,y:d}=rn(r,i,s+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(o+s)/2,{x:h,y:p}=rn(r,i,f,c);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},yW=e=>"cx"in e&&fe(e.cx),kwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!yW(n)&&(o=n);var{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=l>=0?1:-1,m=p*r,y=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var b={x:s+l/2,y:a-u*r,textAnchor:"middle",verticalAnchor:f};return vt(vt({},b),o?{height:Math.max(a-o.y,0),width:l}:{})}if(i==="bottom"){var w={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return vt(vt({},w),o?{height:Math.max(o.y+o.height-(a+c),0),width:l}:{})}if(i==="left"){var S={x:s-m,y:a+c/2,textAnchor:y,verticalAnchor:"middle"};return vt(vt({},S),o?{width:Math.max(S.x-o.x,0),height:c}:{})}if(i==="right"){var E={x:s+l+m,y:a+c/2,textAnchor:v,verticalAnchor:"middle"};return vt(vt({},E),o?{width:Math.max(o.x+o.width-E.x,0),height:c}:{})}var T=o?{width:l,height:c}:{};return i==="insideLeft"?vt({x:s+m,y:a+c/2,textAnchor:v,verticalAnchor:"middle"},T):i==="insideRight"?vt({x:s+l-m,y:a+c/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?vt({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},T):i==="insideBottom"?vt({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},T):i==="insideTopLeft"?vt({x:s+m,y:a+d,textAnchor:v,verticalAnchor:h},T):i==="insideTopRight"?vt({x:s+l-m,y:a+d,textAnchor:y,verticalAnchor:h},T):i==="insideBottomLeft"?vt({x:s+m,y:a+c-d,textAnchor:v,verticalAnchor:f},T):i==="insideBottomRight"?vt({x:s+l-m,y:a+c-d,textAnchor:y,verticalAnchor:f},T):i&&typeof i=="object"&&(fe(i.x)||Ma(i.x))&&(fe(i.y)||Ma(i.y))?vt({x:s+Vs(i.x,l),y:a+Vs(i.y,c),textAnchor:"end",verticalAnchor:"end"},T):vt({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Ewe={offset:5};function as(e){var t=Xr(e,Ewe),{viewBox:n,position:r,value:i,children:o,content:s,className:a="",textBreakAll:l,labelRef:c}=t,u=vwe(),d=gW(),f=r==="center"?d:u??d,h=n||f;if(!h||Ht(i)&&Ht(o)&&!x.isValidElement(s)&&typeof s!="function")return null;var p=vt(vt({},t),{},{viewBox:h});if(x.isValidElement(s)){var m=dwe(p,uwe);return x.cloneElement(s,m)}var y;if(typeof s=="function"){if(y=x.createElement(s,p),x.isValidElement(y))return y}else y=xwe(t);var v=yW(h),b=an(t,!0);if(v&&(r==="insideStart"||r==="insideEnd"||r==="end"))return wwe(t,r,y,b,h);var w=v?Swe(h,t.offset,t.position):kwe(t,h);return x.createElement(KT,lo({ref:c,className:Be("recharts-label",a)},b,w,{breakAll:l}),y)}as.displayName="Label";var Cwe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(as,lo({key:"label-implicit"},r)):Wi(e)?x.createElement(as,lo({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===as?x.cloneElement(e,vt({key:"label-implicit"},r)):x.createElement(as,lo({key:"label-implicit",content:e},r)):qT(e)?x.createElement(as,lo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(as,lo({},e,{key:"label-implicit"},r)):null};function Twe(e){var{label:t}=e,n=gW();return Cwe(t,n)||null}var vW={},xW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(xW);var bW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(bW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xW,n=bW,r=Fv;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(vW);var Awe=vW.last;const Pwe=yr(Awe);var _we=["valueAccessor"],Owe=["dataKey","clockWise","id","textBreakAll"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function gI(e,t){if(e==null)return{};var n,r,i=Mwe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nwe=e=>Array.isArray(e.value)?Pwe(e.value):e.value,wW=x.createContext(void 0),jwe=wW.Provider,SW=x.createContext(void 0);SW.Provider;function Iwe(){return x.useContext(wW)}function Rwe(){return x.useContext(SW)}function cm(e){var{valueAccessor:t=Nwe}=e,n=gI(e,_we),{dataKey:r,clockWise:i,id:o,textBreakAll:s}=n,a=gI(n,Owe),l=Iwe(),c=Rwe(),u=l||c;return!u||!u.length?null:x.createElement(pu,{className:"recharts-label-list"},u.map((d,f)=>{var h,p=Ht(r)?t(d,f):On(d&&d.payload,r),m=Ht(o)?{}:{id:"".concat(o,"-").concat(f)};return x.createElement(as,py({},an(d,!0),a,m,{fill:(h=n.fill)!==null&&h!==void 0?h:d.fill,parentViewBox:d.parentViewBox,value:p,textBreakAll:s,viewBox:d.viewBox,key:"label-".concat(f),index:f}))}))}cm.displayName="LabelList";function Dwe(e){var{label:t}=e;return t?t===!0?x.createElement(cm,{key:"labelList-implicit"}):x.isValidElement(t)||qT(t)?x.createElement(cm,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(cm,py({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(null,arguments)}var kW=e=>{var{cx:t,cy:n,r,className:i}=e,o=Be("recharts-dot",i);return t===+t&&n===+n&&r===+r?x.createElement("circle",TS({},vl(e),_C(e),{className:o,cx:t,cy:n,r})):null},Lwe={radiusAxis:{},angleAxis:{}},EW=wr({name:"polarAxis",initialState:Lwe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});EW.actions;var $we=EW.reducer;function Fwe(e){var{fn:t,args:n}=e,r=Fn(),i=Jr();return x.useEffect(()=>{if(!i){var o=t(n);return r(Z0e(o)),()=>{r(exe(o))}}},[t,n,r,i]),null}var Bwe=()=>{};function zwe(e){var{legendPayload:t}=e,n=Fn(),r=Jr();return x.useEffect(()=>r?Bwe:(n(Hpe(t)),()=>{n(Kpe(t))}),[n,r,t]),null}var wb,Uwe=()=>{var[e]=x.useState(()=>Of("uid-"));return e},Vwe=(wb=BS["useId".toString()])!==null&&wb!==void 0?wb:Uwe;function Wwe(e,t){var n=Vwe();return t||(e?"".concat(e,"-").concat(n):n)}var Hwe=x.createContext(void 0),Kwe=e=>{var{id:t,type:n,children:r}=e,i=Wwe("recharts-".concat(n),t);return x.createElement(Hwe.Provider,{value:i},r(i))},qwe={cartesianItems:[],polarItems:[]},CW=wr({name:"graphicalItems",initialState:qwe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=wo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=wo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=wo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Gwe,replaceCartesianGraphicalItem:Ywe,removeCartesianGraphicalItem:Jwe,addPolarGraphicalItem:WCe,removePolarGraphicalItem:HCe}=CW.actions,Xwe=CW.reducer;function Qwe(e){var t=Fn(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(Gwe(e)):n.current!==e&&t(Ywe({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(Jwe(n.current)),n.current=null)},[t]),null}function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){Zwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zwe(e,t,n){return(t=e1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e1e(e){var t=t1e(e,"string");return typeof t=="symbol"?t:t+""}function t1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n1e={xAxis:{},yAxis:{},zAxis:{}},TW=wr({name:"cartesianAxis",initialState:n1e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=vI(vI({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:r1e,removeXAxis:i1e,addYAxis:o1e,removeYAxis:s1e,addZAxis:KCe,removeZAxis:qCe,updateYAxisWidth:a1e}=TW.actions,l1e=TW.reducer,c1e=D([cn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),u1e=D([c1e,$o,Fo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),GT=()=>ce(u1e),d1e=()=>ce(Vxe);function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){f1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f1e(e,t,n){return(t=h1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h1e(e){var t=p1e(e,"string");return typeof t=="symbol"?t:t+""}function p1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s=bI(bI({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},an(i,!1)),_C(i)),a;return x.isValidElement(i)?a=x.cloneElement(i,s):typeof i=="function"?a=i(s):a=x.createElement(kW,s),x.createElement(pu,{className:"recharts-active-dot"},a)};function g1e(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,o=ce(Ff),s=d1e();if(t==null||s==null)return null;var a=t.find(l=>s.includes(l.payload));return Ht(a)?null:m1e({point:a,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var y1e={},AW=wr({name:"errorBars",initialState:y1e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});AW.actions;var v1e=AW.reducer,x1e=["children"];function b1e(e,t){if(e==null)return{};var n,r,i=w1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var S1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},k1e=x.createContext(S1e);function E1e(e){var{children:t}=e,n=b1e(e,x1e);return x.createElement(k1e.Provider,{value:n},t)}function PW(e,t){var n,r,i=ce(c=>zo(c,e)),o=ce(c=>Uo(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:tr.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:nr.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function C1e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=GT(),{needClipX:o,needClipY:s,needClip:a}=PW(t,n);if(!a)return null;var{x:l,y:c,width:u,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?l:l-u/2,y:s?c:c-d/2,width:o?u:u*2,height:s?d:d*2}))}var T1e=e=>{var{chartData:t}=e,n=Fn(),r=Jr();return x.useEffect(()=>r?()=>{}:(n(Zj(t)),()=>{n(Zj(void 0))}),[t,n,r]),null},wI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_W=wr({name:"brush",initialState:wI,reducers:{setBrushSettings(e,t){return t.payload==null?wI:t.payload}}});_W.actions;var A1e=_W.reducer;function P1e(e,t,n){return(t=_1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _1e(e){var t=O1e(e,"string");return typeof t=="symbol"?t:t+""}function O1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class YT{static create(t){return new YT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}P1e(YT,"EPS",1e-4);function M1e(e){return(e%180+180)%180}var N1e=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=M1e(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},j1e={dots:[],areas:[],lines:[]},OW=wr({name:"referenceElements",initialState:j1e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=wo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=wo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=wo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});OW.actions;var I1e=OW.reducer,R1e=x.createContext(void 0),D1e=e=>{var{children:t}=e,[n]=x.useState("".concat(Of("recharts"),"-clip")),r=GT();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return x.createElement(R1e.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:o,height:a,width:s}))),t)};function Qc(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function MW(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function L1e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return N1e(r,n)}function $1e(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:a}=e;return t===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function my(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function F1e(e,t){return MW(e,t+1)}function B1e(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=t,l=0,c=1,u=s,d=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:MW(r,c)};var m=l,y,v=()=>(y===void 0&&(y=n(p,m)),y),b=p.coordinate,w=l===0||my(e,b,v,u,a);w||(l=0,u=s,c+=1),w&&(u=b+e*(v()/2+i),l+=c)},f;c<=o.length;)if(f=d(),f)return f.v;return[]}function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z1e(e,t,n){return(t=U1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U1e(e){var t=V1e(e,"string");return typeof t=="symbol"?t:t+""}function V1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W1e(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=t,{end:l}=t,c=function(f){var h=o[f],p,m=()=>(p===void 0&&(p=n(h,f)),p);if(f===s-1){var y=e*(h.coordinate+e*m()/2-l);o[f]=h=gn(gn({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate})}else o[f]=h=gn(gn({},h),{},{tickCoord:h.coordinate});var v=my(e,h.tickCoord,m,a,l);v&&(l=h.tickCoord-e*(m()/2+i),o[f]=gn(gn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function H1e(e,t,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:c}=t;if(o){var u=r[a-1],d=n(u,a-1),f=e*(u.coordinate+e*d/2-c);s[a-1]=u=gn(gn({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var h=my(e,u.tickCoord,()=>d,l,c);h&&(c=u.tickCoord-e*(d/2+i),s[a-1]=gn(gn({},u),{},{isShow:!0}))}for(var p=o?a-1:a,m=function(b){var w=s[b],S,E=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var T=e*(w.coordinate-e*E()/2-l);s[b]=w=gn(gn({},w),{},{tickCoord:T<0?w.coordinate-T*e:w.coordinate})}else s[b]=w=gn(gn({},w),{},{tickCoord:w.coordinate});var k=my(e,w.tickCoord,E,l,c);k&&(l=w.tickCoord+e*(E()/2+i),s[b]=gn(gn({},w),{},{isShow:!0}))},y=0;y<p;y++)m(y);return s}function JT(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!r)return[];if(fe(l)||mu.isSsr){var f;return(f=F1e(i,fe(l)?l:0))!==null&&f!==void 0?f:[]}var h=[],p=a==="top"||a==="bottom"?"width":"height",m=u&&p==="width"?Wd(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var E=typeof c=="function"?c(w.value,S):w.value;return p==="width"?L1e(Wd(E,{fontSize:t,letterSpacing:n}),m,d):Wd(E,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?Dr(i[1].coordinate-i[0].coordinate):1,b=$1e(o,v,p);return l==="equidistantPreserveStart"?B1e(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=H1e(v,b,y,i,s,l==="preserveStartEnd"):h=W1e(v,b,y,i,s),h.filter(w=>w.isShow))}var K1e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){t.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>s&&(s=d.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,c=s+l+a+(n?r:0);return Math.round(c)}return 0},q1e=["axisLine","width","height","className","hide","ticks"],G1e=["viewBox"],Y1e=["viewBox"];function AS(e,t){if(e==null)return{};var n,r,i=J1e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sl.apply(null,arguments)}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){X1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X1e(e,t,n){return(t=Q1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q1e(e){var t=Z1e(e,"string");return typeof t=="symbol"?t:t+""}function Z1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function eSe(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a,otherSvgProps:l}=e;if(!a)return null;var c=Nt(Nt(Nt({},l),an(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);c=Nt(Nt({},c),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var d=+(o==="left"&&!s||o==="right"&&s);c=Nt(Nt({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return x.createElement("line",sl({},c,{className:Be("recharts-cartesian-axis-line",Tv(a,"className"))}))}function tSe(e,t,n,r,i,o,s,a,l){var c,u,d,f,h,p,m=a?-1:1,y=e.tickSize||s,v=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":c=u=e.coordinate,f=n+ +!a*i,d=f-m*y,p=d-m*l,h=v;break;case"left":d=f=e.coordinate,u=t+ +!a*r,c=u-m*y,h=c-m*l,p=v;break;case"right":d=f=e.coordinate,u=t+ +a*r,c=u+m*y,h=c+m*l,p=v;break;default:c=u=e.coordinate,f=n+ +a*i,d=f+m*y,p=d+m*l,h=v;break}return{line:{x1:c,y1:d,x2:u,y2:f},tick:{x:h,y:p}}}function nSe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function rSe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function iSe(e){var{option:t,tickProps:n,value:r}=e,i,o=Be(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Nt(Nt({},n),{},{className:o}));else if(typeof t=="function")i=t(Nt(Nt({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Be(s,t==null?void 0:t.className)),i=x.createElement(KT,sl({},n,{className:s}),r)}return i}function oSe(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:s,padding:a,tickTextProps:l,orientation:c,mirror:u,x:d,y:f,width:h,height:p,tickSize:m,tickMargin:y,fontSize:v,letterSpacing:b,getTicksConfig:w,events:S}=e,E=JT(Nt(Nt({},w),{},{ticks:t}),v,b),T=nSe(c,u),k=rSe(c,u),C=vl(w),A=an(n,!1),O=Nt(Nt({},C),{},{fill:"none"},an(r,!1)),M=E.map((N,L)=>{var{line:I,tick:J}=tSe(N,d,f,h,p,c,m,u,y),$=Nt(Nt(Nt(Nt({textAnchor:T,verticalAnchor:k},C),{},{stroke:"none",fill:i},A),J),{},{index:L,payload:N,visibleTicksCount:E.length,tickFormatter:o,padding:a},l);return x.createElement(pu,sl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ufe(S,N,L)),r&&x.createElement("line",sl({},O,I,{className:Be("recharts-cartesian-axis-tick-line",Tv(r,"className"))})),n&&x.createElement(iSe,{option:n,tickProps:$,value:"".concat(typeof o=="function"?o(N.value,L):N.value).concat(s||"")}))});return M.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},M):null}var sSe=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:a}=e,l=AS(e,q1e),[c,u]=x.useState(""),[d,f]=x.useState(""),h=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var m;return K1e({ticks:h.current,label:(m=e.labelRef)===null||m===void 0?void 0:m.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=x.useCallback(m=>{if(m){var y=m.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(y);var v=y[0];if(v){var b=window.getComputedStyle(v),w=b.fontSize,S=b.letterSpacing;(w!==c||S!==d)&&(u(w),f(S))}}},[c,d]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(pu,{className:Be("recharts-cartesian-axis",o),ref:p},x.createElement(eSe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:vl(e)}),x.createElement(oSe,{ticks:a,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:l}),x.createElement(gwe,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(Twe,{label:e.label}),e.children))}),aSe=x.memo(sSe,(e,t)=>{var{viewBox:n}=e,r=AS(e,G1e),{viewBox:i}=t,o=AS(t,Y1e);return Qc(n,i)&&Qc(r,o)}),QT=x.forwardRef((e,t)=>{var n=Xr(e,XT);return x.createElement(aSe,sl({},n,{ref:t}))});QT.displayName="CartesianAxis";var lSe=["x1","y1","x2","y2","key"],cSe=["offset"],uSe=["xAxisId","yAxisId"],dSe=["xAxisId","yAxisId"];function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){fSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fSe(e,t,n){return(t=hSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hSe(e){var t=pSe(e,"string");return typeof t=="symbol"?t:t+""}function pSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}function gy(e,t){if(e==null)return{};var n,r,i=mSe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=e;return x.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function NW(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:s,key:a}=t,l=gy(t,lSe),c=vl(l),u=gy(c,cSe);n=x.createElement("line",Ia({},u,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function ySe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var o=gy(e,uSe),s=i.map((a,l)=>{var c=vn(vn({},o),{},{x1:t,y1:a,x2:t+n,y2:a,key:"line-".concat(l),index:l});return NW(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function vSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var o=gy(e,dSe),s=i.map((a,l)=>{var c=vn(vn({},o),{},{x1:a,y1:t,x2:a,y2:t+n,key:"line-".concat(l),index:l});return NW(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function xSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=a.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var h=!c[f+1],p=h?i+s-d:c[f+1]-d;if(p<=0)return null;var m=f%t.length;return x.createElement("rect",{key:"react-".concat(f),y:d,x:r,height:p,width:o,stroke:"none",fill:t[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function bSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var h=!c[f+1],p=h?i+s-d:c[f+1]-d;if(p<=0)return null;var m=f%n.length;return x.createElement("rect",{key:"react-".concat(f),x:d,y:o,width:p,height:a,stroke:"none",fill:n[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var wSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return T4(JT(vn(vn(vn({},XT),n),{},{ticks:A4(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},SSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return T4(JT(vn(vn(vn({},XT),n),{},{ticks:A4(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},kSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function jW(e){var t=N4(),n=j4(),r=M4(),i=vn(vn({},Xr(e,kSe)),{},{x:fe(e.x)?e.x:r.left,y:fe(e.y)?e.y:r.top,width:fe(e.width)?e.width:r.width,height:fe(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:h}=i,p=Jr(),m=ce(A=>Hj(A,"xAxis",o,p)),y=ce(A=>Hj(A,"yAxis",s,p));if(!fe(c)||c<=0||!fe(u)||u<=0||!fe(a)||a!==+a||!fe(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||wSe,b=i.horizontalCoordinatesGenerator||SSe,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var E=f&&f.length,T=b({yAxis:y?vn(vn({},y),{},{ticks:E?f:y.ticks}):void 0,width:t,height:n,offset:r},E?!0:d);Vd(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(w=T)}if((!S||!S.length)&&typeof v=="function"){var k=h&&h.length,C=v({xAxis:m?vn(vn({},m),{},{ticks:k?h:m.ticks}):void 0,width:t,height:n,offset:r},k?!0:d);Vd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(S=C)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(gSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(xSe,Ia({},i,{horizontalPoints:w})),x.createElement(bSe,Ia({},i,{verticalPoints:S})),x.createElement(ySe,Ia({},i,{offset:r,horizontalPoints:w,xAxis:m,yAxis:y})),x.createElement(vSe,Ia({},i,{offset:r,verticalPoints:S,xAxis:m,yAxis:y})))}jW.displayName="CartesianGrid";var IW=(e,t,n,r)=>j5(e,"xAxis",t,r),RW=(e,t,n,r)=>N5(e,"xAxis",t,r),DW=(e,t,n,r)=>j5(e,"yAxis",n,r),LW=(e,t,n,r)=>N5(e,"yAxis",n,r),ESe=D([Qe,IW,DW,RW,LW],(e,t,n,r,i)=>ea(e,"xAxis")?iS(t,r,!1):iS(n,i,!1)),CSe=(e,t,n,r,i)=>i;function TSe(e){return e.type==="line"}var ASe=D([t5,CSe],(e,t)=>e.filter(TSe).find(n=>n.id===t)),PSe=D([Qe,IW,DW,RW,LW,ASe,ESe,xT],(e,t,n,r,i,o,s,a)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=a;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:d,data:f}=o,h;if(f!=null&&f.length>0?h=f:h=l==null?void 0:l.slice(c,u+1),h!=null)return JSe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:s,displayedData:h})}}),_Se=["id"],OSe=["type","layout","connectNulls","needClip"],MSe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){NSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NSe(e,t,n){return(t=jSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jSe(e){var t=ISe(e,"string");return typeof t=="symbol"?t:t+""}function ISe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZT(e,t){if(e==null)return{};var n,r,i=RSe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function al(){return al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},al.apply(null,arguments)}var DSe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:P4(n,t),payload:e}]};function LSe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:P4(s,t),hide:a,type:e.tooltipType,color:e.stroke,unit:l}}}var $W=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function $Se(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var FSe=(e,t,n)=>{var r=n.reduce((d,f)=>d+f);if(!r)return $W(t,e);for(var i=Math.floor(e/r),o=e%r,s=t-e,a=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>o){a=[...n.slice(0,l),o-c];break}var u=a.length%2===0?[0,s]:[s];return[...$Se(n,i),...a,...u].map(d=>"".concat(d,"px")).join(", ")};function BSe(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Be("recharts-line-dot",typeof e!="boolean"?e.className:"");n=x.createElement(kW,al({},t,{className:r}))}return n}function zSe(e,t){return e==null?!1:t?!0:e.length===1}function USe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:s}=r;if(!zSe(n,i))return null;var a=ZT(r,_Se),l=gU(i),c=vl(a),u=an(i,!0),d=n.map((h,p)=>{var m=sr(sr(sr({key:"dot-".concat(p),r:3},c),u),{},{index:p,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:n});return BSe(i,m)}),f={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return x.createElement(pu,al({className:"recharts-line-dots",key:"dots"},f),d)}function VSe(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:0,height:0};return sr(sr({},s),{},{value:o.value,payload:o.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(jwe,{value:t?i:null},n)}function TI(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:s,layout:a,connectNulls:l,needClip:c}=o,u=ZT(o,OSe),d=sr(sr({},an(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:a,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(D4,al({},d,{pathRef:n})),x.createElement(USe,{points:r,clipPathId:t,props:o}))}function WSe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function HSe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:f,width:h,height:p,onAnimationEnd:m,onAnimationStart:y}=n,v=i.current,b=z4(n,"recharts-line-"),[w,S]=x.useState(!1),E=!w,T=x.useCallback(()=>{typeof m=="function"&&m(),S(!1)},[m]),k=x.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),C=WSe(r.current),A=o.current;return x.createElement(VSe,{points:s,showLabels:E},n.children,x.createElement(B4,{animationId:b,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:T,onAnimationStart:k,key:b},O=>{var M=so(A,C+A,O),N=Math.min(M,C),L;if(l)if(a){var I="".concat(a).split(/[,\s]+/gim).map(K=>parseFloat(K));L=FSe(N,C,I)}else L=$W(C,N);else L=a==null?void 0:String(a);if(v){var J=v.length/s.length,$=O===1?s:s.map((K,P)=>{var j=Math.floor(P*J);if(v[j]){var q=v[j];return sr(sr({},K),{},{x:so(q.x,K.x,O),y:so(q.y,K.y,O)})}return f?sr(sr({},K),{},{x:so(h*2,K.x,O),y:so(p/2,K.y,O)}):sr(sr({},K),{},{x:K.x,y:K.y})});return i.current=$,x.createElement(TI,{props:n,points:$,clipPathId:t,pathRef:r,strokeDasharray:L})}return O>0&&C>0&&(i.current=s,o.current=N),x.createElement(TI,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:L})}),x.createElement(Dwe,{label:n.label}))}function KSe(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),o=x.useRef(null);return x.createElement(HSe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var qSe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:On(e.payload,t)});class GSe extends x.Component{render(){var t,{hide:n,dot:r,points:i,className:o,xAxisId:s,yAxisId:a,top:l,left:c,width:u,height:d,id:f,needClip:h}=this.props;if(n)return null;var p=Be("recharts-line",o),m=f,{r:y=3,strokeWidth:v=2}=(t=an(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=gU(r),w=y*2+v;return x.createElement(x.Fragment,null,x.createElement(pu,{className:p},h&&x.createElement("defs",null,x.createElement(C1e,{clipPathId:m,xAxisId:s,yAxisId:a}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(m)},x.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:d+w}))),x.createElement(E1e,{xAxisId:s,yAxisId:a,data:i,dataPointFormatter:qSe,errorBarOffset:0},x.createElement(KSe,{props:this.props,clipPathId:m}))),x.createElement(g1e,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var FW={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!mu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function YSe(e){var t=Xr(e,FW),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:a,dot:l,hide:c,isAnimationActive:u,label:d,legendType:f,xAxisId:h,yAxisId:p,id:m}=t,y=ZT(t,MSe),{needClip:v}=PW(h,p),b=GT(),w=YC(),S=Jr(),E=ce(O=>PSe(O,h,p,S,m));if(w!=="horizontal"&&w!=="vertical"||E==null||b==null)return null;var{height:T,width:k,x:C,y:A}=b;return x.createElement(GSe,al({},y,{id:m,connectNulls:a,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:u,hide:c,label:d,legendType:f,xAxisId:h,yAxisId:p,points:E,layout:w,height:T,width:k,left:C,top:A,needClip:v}))}function JSe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:s,bandSize:a,displayedData:l}=e;return l.map((c,u)=>{var d=On(c,s);if(t==="horizontal"){var f=IN({axis:n,ticks:i,bandSize:a,entry:c,index:u}),h=Ht(d)?null:r.scale(d);return{x:f,y:h,value:d,payload:c}}var p=Ht(d)?null:n.scale(d),m=IN({axis:r,ticks:o,bandSize:a,entry:c,index:u});return p==null||m==null?null:{x:p,y:m,value:d,payload:c}}).filter(Boolean)}function XSe(e){var t=Xr(e,FW),n=Jr();return x.createElement(Kwe,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(zwe,{legendPayload:DSe(t)}),x.createElement(Fwe,{fn:LSe,args:t}),x.createElement(Qwe,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(YSe,al({},t,{id:r}))))}var BW=x.memo(XSe);BW.displayName="Line";var QSe=["dangerouslySetInnerHTML","ticks"],ZSe=["id"],eke=["domain"],tke=["domain"];function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(null,arguments)}function yy(e,t){if(e==null)return{};var n,r,i=nke(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rke(e){var t=Fn();return x.useEffect(()=>(t(r1e(e)),()=>{t(i1e(e))}),[e,t]),null}var ike=e=>{var{xAxisId:t,className:n}=e,r=ce(O4),i=Jr(),o="xAxis",s=ce(h=>wu(h,o,t,i)),a=ce(h=>M5(h,o,t,i)),l=ce(h=>D0e(h,t)),c=ce(h=>U0e(h,t)),u=ce(h=>XV(h,t));if(l==null||c==null||u==null)return null;var d=yy(e,QSe),f=yy(u,ZSe);return x.createElement(QT,PS({},d,f,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Be("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},oke={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,height:tr.height,hide:!1,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tickCount:tr.tickCount,type:tr.type,xAxisId:0},ske=e=>{var t,n,r,i,o,s=Xr(e,oke);return x.createElement(x.Fragment,null,x.createElement(rke,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(o=s.tick)!==null&&o!==void 0?o:!0,tickFormatter:s.tickFormatter}),x.createElement(ike,s))},ake=(e,t)=>{var{domain:n}=e,r=yy(e,eke),{domain:i}=t,o=yy(t,tke);return Qc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Qc({domain:n},{domain:i}):!1},zW=x.memo(ske,ake);zW.displayName="XAxis";var lke=["dangerouslySetInnerHTML","ticks"],cke=["id"],uke=["domain"],dke=["domain"];function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_S.apply(null,arguments)}function vy(e,t){if(e==null)return{};var n,r,i=fke(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hke(e){var t=Fn();return x.useEffect(()=>(t(o1e(e)),()=>{t(s1e(e))}),[e,t]),null}var pke=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=x.useRef(null),s=x.useRef(null),a=ce(O4),l=Jr(),c=Fn(),u="yAxis",d=ce(b=>wu(b,u,t,l)),f=ce(b=>H0e(b,t)),h=ce(b=>W0e(b,t)),p=ce(b=>M5(b,u,t,l)),m=ce(b=>QV(b,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!f||qT(i)||x.isValidElement(i)||m==null)){var b=o.current;if(b){var w=b.getCalculatedWidth();Math.round(f.width)!==Math.round(w)&&c(a1e({id:t,width:w}))}}},[p,f,c,i,t,r,m]),f==null||h==null||m==null)return null;var y=vy(e,lke),v=vy(m,cke);return x.createElement(QT,_S({},y,v,{ref:o,labelRef:s,scale:d,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Be("recharts-".concat(u," ").concat(u),n),viewBox:a,ticks:p}))},mke={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,hide:!1,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tickCount:nr.tickCount,type:nr.type,width:nr.width,yAxisId:0},gke=e=>{var t,n,r,i,o,s=Xr(e,mke);return x.createElement(x.Fragment,null,x.createElement(hke,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(o=s.tick)!==null&&o!==void 0?o:!0,tickFormatter:s.tickFormatter}),x.createElement(pke,s))},yke=(e,t)=>{var{domain:n}=e,r=vy(e,uke),{domain:i}=t,o=vy(t,dke);return Qc(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Qc({domain:n},{domain:i}):!1},UW=x.memo(gke,yke);UW.displayName="YAxis";var vke={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=x;function xke(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bke=typeof Object.is=="function"?Object.is:xke,wke=Sh.useSyncExternalStore,Ske=Sh.useRef,kke=Sh.useEffect,Eke=Sh.useMemo,Cke=Sh.useDebugValue;vke.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Ske(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Eke(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,bke(u,h))return p;var m=r(h);return i!==void 0&&i(p,m)?(u=h,p):(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=wke(e,o[0],o[1]);return kke(function(){s.hasValue=!0,s.value=a},[a]),Cke(a),a};function Tke(e){e()}function Ake(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Tke(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var AI={notify(){},get:()=>[]};function Pke(e,t){let n,r=AI,i=0,o=!1;function s(m){u();const y=r.subscribe(m);let v=!1;return()=>{v||(v=!0,y(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return o}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Ake())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=AI)}function f(){o||(o=!0,u())}function h(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var _ke=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oke=_ke(),Mke=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nke=Mke(),jke=()=>Oke||Nke?x.useLayoutEffect:x.useEffect,Ike=jke(),Sb=Symbol.for("react-redux-context"),kb=typeof globalThis<"u"?globalThis:{};function Rke(){if(!x.createContext)return{};const e=kb[Sb]??(kb[Sb]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Dke=Rke();function Lke(e){const{children:t,context:n,serverState:r,store:i}=e,o=x.useMemo(()=>{const l=Pke(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);Ike(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Dke;return x.createElement(a.Provider,{value:o},t)}var $ke=Lke,Fke=(e,t)=>t,eA=D([Fke,Qe,qV,Rt,q5,Vo,Jxe,cn],tbe),tA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},VW=qr("mouseClick"),WW=uh();WW.startListening({actionCreator:VW,effect:(e,t)=>{var n=e.payload,r=eA(t.getState(),tA(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(rxe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var OS=qr("mouseMove"),HW=uh();HW.startListening({actionCreator:OS,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=LT(r,r.tooltip.settings.shared),o=eA(r,tA(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(B5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(F5()))}});var PI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},KW=wr({name:"rootProps",initialState:PI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:PI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Bke=KW.reducer,{updateOptions:zke}=KW.actions,qW=wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}});qW.actions;var Uke=qW.reducer,GW=qr("keyDown"),YW=qr("focus"),nA=uh();nA.startListening({actionCreator:GW,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number($T(i,ku(n))),a=Vo(n);if(o==="Enter"){var l=hy(n,"axis","hover",String(i.index));t.dispatch(SS({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Y0e(n),u=c==="left-to-right"?1:-1,d=o==="ArrowRight"?1:-1,f=s+d*u;if(!(a==null||f>=a.length||f<0)){var h=hy(n,"axis","hover",String(f));t.dispatch(SS({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});nA.startListening({actionCreator:YW,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=hy(n,"axis","hover",String(o));t.dispatch(SS({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Tr=qr("externalEvent"),JW=uh();JW.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Bxe(n),activeDataKey:$xe(n),activeIndex:Ff(n),activeLabel:J5(n),activeTooltipIndex:Ff(n),isTooltipActive:zxe(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Vke=D([Su],e=>e.tooltipItemPayloads),Wke=D([Vke,bh,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=t(o,n);return s}}}),XW=qr("touchMove"),QW=uh();QW.startListening({actionCreator:XW,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=LT(r,r.tooltip.settings.shared);if(i==="axis"){var o=eA(r,tA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(B5({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Mpe),u=(s=l.getAttribute(Npe))!==null&&s!==void 0?s:void 0,d=Wke(t.getState(),c,u);t.dispatch(nxe({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var Hke=n4({brush:A1e,cartesianAxis:l1e,chartData:ybe,errorBars:v1e,graphicalItems:Xwe,layout:rpe,legend:qpe,options:fbe,polarAxis:$we,polarOptions:Uke,referenceElements:I1e,rootProps:Bke,tooltip:ixe}),Kke=function(t){return Phe({reducer:Hke,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([WW.middleware,HW.middleware,nA.middleware,JW.middleware,QW.middleware]),devTools:mu.devToolsEnabled})};function qke(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Jr(),o=x.useRef(null);if(i)return n;o.current==null&&(o.current=Kke(t));var s=BC;return x.createElement($ke,{context:s,store:o.current},n)}function Gke(e){var{layout:t,width:n,height:r,margin:i}=e,o=Fn(),s=Jr();return x.useEffect(()=>{s||(o(epe(t)),o(tpe({width:n,height:r})),o(Zhe(i)))},[o,s,t,n,r,i]),null}function Yke(e){var t=Fn();return x.useEffect(()=>{t(zke(e))},[t,e]),null}var Jke=["children"];function Xke(e,t){if(e==null)return{};var n,r,i=Qke(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qke(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}var Zke={width:"100%",height:"100%"},eEe=x.forwardRef((e,t)=>{var n=N4(),r=j4(),i=R4();if(!Xg(n)||!Xg(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=e,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0,x.createElement(yU,xy({},s,{title:a,desc:l,role:u,tabIndex:c,width:n,height:r,style:Zke,ref:t}),o)}),tEe=e=>{var{children:t}=e,n=ce(Yv);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return x.createElement(yU,{width:r,height:i,x:s,y:o},t)},_I=x.forwardRef((e,t)=>{var{children:n}=e,r=Xke(e,Jke),i=Jr();return i?x.createElement(tEe,null,n):x.createElement(eEe,xy({ref:t},r),n)});function nEe(){var e=Fn(),[t,n]=x.useState(null),r=ce(Ope);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;xi(o)&&o!==r&&e(npe(o))}},[t,e,r]),n}function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){iEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iEe(e,t,n){return(t=oEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oEe(e){var t=sEe(e,"string");return typeof t=="symbol"?t:t+""}function sEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aEe=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:m,style:y,width:v}=e,b=Fn(),[w,S]=x.useState(null),[E,T]=x.useState(null);Tbe();var k=nEe(),C=x.useCallback(U=>{k(U),typeof t=="function"&&t(U),S(U),T(U)},[k,t,S,T]),A=x.useCallback(U=>{b(VW(U)),b(Tr({handler:o,reactEvent:U}))},[b,o]),O=x.useCallback(U=>{b(OS(U)),b(Tr({handler:c,reactEvent:U}))},[b,c]),M=x.useCallback(U=>{b(F5()),b(Tr({handler:u,reactEvent:U}))},[b,u]),N=x.useCallback(U=>{b(OS(U)),b(Tr({handler:d,reactEvent:U}))},[b,d]),L=x.useCallback(()=>{b(YW())},[b]),I=x.useCallback(U=>{b(GW(U.key))},[b]),J=x.useCallback(U=>{b(Tr({handler:s,reactEvent:U}))},[b,s]),$=x.useCallback(U=>{b(Tr({handler:a,reactEvent:U}))},[b,a]),K=x.useCallback(U=>{b(Tr({handler:l,reactEvent:U}))},[b,l]),P=x.useCallback(U=>{b(Tr({handler:f,reactEvent:U}))},[b,f]),j=x.useCallback(U=>{b(Tr({handler:m,reactEvent:U}))},[b,m]),q=x.useCallback(U=>{b(XW(U)),b(Tr({handler:p,reactEvent:U}))},[b,p]),z=x.useCallback(U=>{b(Tr({handler:h,reactEvent:U}))},[b,h]);return x.createElement(nW.Provider,{value:w},x.createElement(xfe.Provider,{value:E},x.createElement("div",{className:Be("recharts-wrapper",r),style:rEe({position:"relative",cursor:"default",width:v,height:i},y),onClick:A,onContextMenu:J,onDoubleClick:$,onFocus:L,onKeyDown:I,onMouseDown:K,onMouseEnter:O,onMouseLeave:M,onMouseMove:N,onMouseUp:P,onTouchEnd:z,onTouchMove:q,onTouchStart:j,ref:C},n)))}),lEe=["children","className","width","height","style","compact","title","desc"];function cEe(e,t){if(e==null)return{};var n,r,i=uEe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dEe=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:c}=e,u=cEe(e,lEe),d=vl(u);return a?x.createElement(_I,{otherAttributes:d,title:l,desc:c},n):x.createElement(aEe,{className:r,style:s,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(_I,{otherAttributes:d,title:l,desc:c,ref:t},x.createElement(D1e,null,n)))}),fEe=["width","height"];function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MS.apply(null,arguments)}function hEe(e,t){if(e==null)return{};var n,r,i=pEe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mEe={top:5,right:5,bottom:5,left:5},gEe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mEe,reverseStackOrder:!1,syncMethod:"index"},yEe=x.forwardRef(function(t,n){var r,i=Xr(t.categoricalChartProps,gEe),{width:o,height:s}=i,a=hEe(i,fEe);if(!Xg(o)||!Xg(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(qke,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},x.createElement(T1e,{chartData:f.data}),x.createElement(Gke,{width:o,height:s,layout:i.layout,margin:i.margin}),x.createElement(Yke,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(dEe,MS({},a,{width:o,height:s,ref:n})))}),vEe=["axis"],xEe=x.forwardRef((e,t)=>x.createElement(yEe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vEe,tooltipPayloadSearcher:ube,categoricalChartProps:e,ref:t}));const md=(e,t=2)=>e==null||!isFinite(e)?"—":new Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(e),bEe=(e,t=2)=>e==null||!isFinite(e)?"—":`${e>=0?"▲":"▼"} ${md(Math.abs(e),t)}%`,wEe=(e,t)=>e.date.localeCompare(t.date);async function SEe(e,t,n){var p,m,y;const r=`https://api.worldbank.org/v2/country/${e}/indicator/${t}?format=json&per_page=100`,i=await fetch(r,{signal:n});if(!i.ok)throw new Error("WorldBank fetch failed");const o=await i.json(),a=(Array.isArray(o)?o[1]||[]:[]).filter(v=>v.value!=null).map(v=>({date:`${v.date}`,value:Number(v.value)})).sort(wEe),l=((p=a.at(-1))==null?void 0:p.value)??null,c=((m=a.at(-2))==null?void 0:m.value)??null,u=l!=null&&c!=null?(l-c)/Math.abs(c)*100:null;let d=null;if(a.length>=6){const v=a.at(-1).value,b=a.at(-6).value;isFinite(v)&&isFinite(b)&&b!==0&&(d=(Math.pow(v/b,1/5)-1)*100)}const f=a.reduce((v,b)=>v==null||b.value<v?b.value:v,null),h=a.reduce((v,b)=>v==null||b.value>v?b.value:v,null);return{series:a,last:l,changePct:u,cagr5:d,min:f,max:h,latestYear:((y=a.at(-1))==null?void 0:y.date)??null}}function kEe({tab:e,setTab:t}){const n=[{id:"economics",label:"Economics (Open)"},{id:"fixedincome",label:"Fixed Income"},{id:"indices",label:"Indices"},{id:"commodities",label:"Commodities"}];return g.jsx("div",{className:"flex flex-wrap gap-3",children:n.map(r=>g.jsx("button",{onClick:()=>t(r.id),className:`px-4 py-2 rounded-md border text-sm font-medium transition 
            ${e===r.id?"bg-amber-400 text-white border-amber-400 shadow-sm":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:r.label},r.id))})}function NS({item:e,onClick:t}){const n=Number(e.percent_change??e.percent??0),r=n>=0;return g.jsxs("div",{onClick:t,className:"flex items-center justify-between py-2 border-b last:border-b-0 cursor-pointer hover:bg-slate-50",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("div",{className:"text-sm font-medium truncate",children:e.company_name||e.name||e.symbol}),g.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.ric||e.ticker||e.exchange_type||""})]}),g.jsxs("div",{className:"text-right ml-4",children:[g.jsxs("div",{className:"text-sm font-semibold",children:["₹",e.price??e.last??e.close??"—"]}),g.jsxs("div",{className:`text-xs ${r?"text-emerald-600":"text-rose-600"}`,children:[n===0?"—":`${n>=0?"+":""}${n}`,"%"]})]})]})}function Sl({title:e,children:t}){return g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"mb-2 text-sm text-slate-600 font-medium",children:e}),t]})}const Eb={};async function kl(e){if(Eb[e])return Eb[e];const t=await fetch(`/api/${e}`);if(!t.ok){const r=await t.text();throw new Error(r||`${t.status}`)}const n=await t.json();return Eb[e]=n,n}function EEe(){const[e,t]=x.useState(null),[n,r]=x.useState(!1),[i,o]=x.useState(null);return x.useEffect(()=>{let s=!1;return r(!0),o(null),kl("trending").then(a=>{s||t((a==null?void 0:a.trending_stocks)??a)}).catch(a=>o(a.message||String(a))).finally(()=>!s&&r(!1)),()=>s=!0},[]),g.jsxs(Sl,{title:"Trending Stocks",children:[n&&g.jsx("div",{className:"text-sm text-slate-500",children:"Loading…"}),i&&g.jsxs("div",{className:"text-sm text-rose-600",children:["Error: ",i]}),!n&&!i&&e&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Top Gainers"}),g.jsx("div",{className:"space-y-1",children:(e.top_gainers||[]).slice(0,6).map(s=>g.jsx(NS,{item:s,onClick:()=>window.open(`/stock/${encodeURIComponent(s.ric||s.ticker_id)}`,"_self")},s.ticker_id))})]}),g.jsxs("div",{className:"mt-3",children:[g.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Top Losers"}),g.jsx("div",{className:"space-y-1",children:(e.top_losers||[]).slice(0,6).map(s=>g.jsx(NS,{item:s,onClick:()=>window.open(`/stock/${encodeURIComponent(s.ric||s.ticker_id)}`,"_self")},s.ticker_id))})]})]})]})}function MI({which:e="BSE"}){const[t,n]=x.useState([]);return x.useEffect(()=>{let r=!1;return kl(e==="BSE"?"BSE_most_active":"NSE_most_active").then(i=>{r||n((i==null?void 0:i.data)??i??[])}).catch(()=>{}).finally(()=>{}),()=>r=!0},[e]),g.jsx(Sl,{title:`${e} — Most Active`,children:g.jsx("div",{className:"space-y-1",children:t.slice(0,8).map(r=>g.jsx(NS,{item:r,onClick:()=>window.open(`/stock/${encodeURIComponent(r.ric||r.ticker_id)}`,"_self")},r.ticker_id||r.ticker))})})}function CEe(){const[e,t]=x.useState(null);x.useEffect(()=>{let r=!1;return kl("commodities").then(i=>{r||t(i)}).catch(()=>{}).finally(()=>{}),()=>r=!0},[]);const n=(e==null?void 0:e.data)??(e==null?void 0:e.commodities)??[];return g.jsx(Sl,{title:"Commodities",children:g.jsx("div",{className:"space-y-1",children:n.slice(0,8).map(r=>g.jsxs("div",{className:"flex justify-between py-2 border-b last:border-b-0",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium",children:r.name||r.instrument||r.ticker}),g.jsx("div",{className:"text-xs text-gray-500",children:r.exchange||r.market||""})]}),g.jsxs("div",{className:"text-right ml-4",children:[g.jsx("div",{className:"text-sm font-semibold",children:r.price??r.last??"—"}),g.jsx("div",{className:`text-xs ${Number(r.percent_change??0)>=0?"text-emerald-600":"text-rose-600"}`,children:r.percent_change??r.change??"—"})]})]},r.ticker||r.name))})})}function TEe(){const[e,t]=x.useState(null);x.useEffect(()=>{let r=!1;return kl("mutual_funds").then(i=>{r||t(i)}).catch(()=>{}).finally(()=>{}),()=>r=!0},[]);const n=(e==null?void 0:e.data)??(e==null?void 0:e.mutual_funds)??[];return g.jsx(Sl,{title:"Mutual Funds",children:g.jsx("div",{className:"space-y-1",children:n.slice(0,8).map(r=>g.jsxs("div",{className:"flex justify-between py-2 border-b last:border-b-0",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium truncate",children:r.scheme_name??r.name}),g.jsx("div",{className:"text-xs text-gray-500 truncate",children:r.scheme_type??r.category??""})]}),g.jsxs("div",{className:"text-right ml-4",children:[g.jsx("div",{className:"text-sm font-semibold",children:r.nav??r.price??"—"}),g.jsx("div",{className:"text-xs text-gray-500",children:r.date??""})]})]},r.scheme_code||r.name))})})}function AEe(){const[e,t]=x.useState(null);x.useEffect(()=>{let r=!1;return kl("stock_forecasts").then(i=>{r||t(i)}).catch(()=>{}).finally(()=>{}),()=>r=!0},[]);const n=(e==null?void 0:e.forecasts)??(e==null?void 0:e.data)??[];return g.jsx(Sl,{title:"Stock Forecasts",children:g.jsx("div",{className:"space-y-2",children:n.slice(0,8).map((r,i)=>g.jsxs("div",{className:"py-2 border-b last:border-b-0",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("div",{className:"text-sm font-medium",children:r.company_name??r.ticker??r.symbol}),g.jsx("div",{className:"text-xs text-gray-500",children:r.horizon??r.period??""})]}),g.jsx("div",{className:"text-xs text-slate-600",children:r.summary??r.note??""})]},r.ticker_id||i))})})}function PEe(){const[e,t]=x.useState(null);x.useEffect(()=>{let r=!1;return kl("news").then(i=>{r||t(i)}).catch(()=>{}).finally(()=>{}),()=>r=!0},[]);const n=(e==null?void 0:e.data)??(e==null?void 0:e.news)??[];return g.jsx(Sl,{title:"Market News",children:g.jsx("div",{className:"space-y-2",children:n.slice(0,6).map((r,i)=>g.jsxs("div",{className:"py-2 border-b last:border-b-0",children:[g.jsx("a",{className:"text-sm font-medium",href:r.link??"#",target:"_blank",rel:"noreferrer",children:r.title??r.headline??r.name}),g.jsx("div",{className:"text-xs text-gray-500",children:r.source??r.date??""})]},r.id??i))})})}function _Ee(){const[e,t]=x.useState(null);x.useEffect(()=>{let r=!1;return kl("ipo").then(i=>{r||t(i)}).catch(()=>{}).finally(()=>{}),()=>r=!0},[]);const n=(e==null?void 0:e.data)??(e==null?void 0:e.ipos)??[];return g.jsx(Sl,{title:"Upcoming IPOs",children:g.jsx("div",{className:"space-y-2",children:n.slice(0,6).map((r,i)=>g.jsxs("div",{className:"py-2 border-b last:border-b-0",children:[g.jsx("div",{className:"text-sm font-medium",children:r.company_name??r.name}),g.jsx("div",{className:"text-xs text-gray-500",children:r.listing_date??r.date??""})]},r.ticker_id??i))})})}function OEe(){const[e,t]=x.useState("economics"),[n,r]=x.useState("IN"),[i,o]=x.useState("NY.GDP.MKTP.KD.ZG"),[s,a]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState({}),f=x.useMemo(()=>[{code:"NY.GDP.MKTP.KD.ZG",label:"GDP growth (real, YoY %)"},{code:"NY.GDP.PCAP.KD",label:"GDP per capita (real)"},{code:"FP.CPI.TOTL.ZG",label:"Inflation CPI (YoY %)"},{code:"SL.UEM.TOTL.ZS",label:"Unemployment rate (%)"},{code:"NE.EXP.GNFS.ZS",label:"Exports (% of GDP)"}],[]);x.useEffect(()=>{const m=new AbortController;return(async()=>{a(!0),c(null);try{const v=await Promise.all(f.map(async b=>{const w=await SEe(n,b.code,m.signal);return[b.code,w]}));d(Object.fromEntries(v))}catch{c("Failed to load World Bank data.")}finally{a(!1)}})(),()=>m.abort()},[n,f]);const h=f.find(m=>m.code===i),p=u[i]||{series:[]};return g.jsxs("div",{className:"space-y-8",children:[g.jsx("div",{className:"flex items-center justify-between",children:g.jsx(kEe,{tab:e,setTab:t})}),e==="economics"&&g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[g.jsx("select",{className:"border rounded-md px-2 py-1 text-sm",value:n,onChange:m=>r(m.target.value),children:[{code:"AR",name:"Argentina"},{code:"AU",name:"Australia"},{code:"BR",name:"Brazil"},{code:"CA",name:"Canada"},{code:"CN",name:"China"},{code:"FR",name:"France"},{code:"DE",name:"Germany"},{code:"IN",name:"India"},{code:"JP",name:"Japan"},{code:"US",name:"United States"}].map(m=>g.jsx("option",{value:m.code,children:m.name},m.code))}),g.jsx("select",{className:"border rounded-md px-2 py-1 text-sm",value:i,onChange:m=>o(m.target.value),children:f.map(m=>g.jsx("option",{value:m.code,children:m.label},m.code))}),s&&g.jsx("span",{className:"text-sm text-slate-500",children:"Loading open data…"}),l&&g.jsx("span",{className:"text-sm text-amber-600",children:l})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"text-sm text-slate-500",children:"Latest"}),g.jsx("div",{className:"text-2xl font-semibold text-slate-900",children:md(p.last)}),g.jsxs("div",{className:"text-xs text-slate-500",children:["Year: ",p.latestYear||"—"]})]}),g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"text-sm text-slate-500",children:"YoY Change"}),g.jsx("div",{className:`text-2xl font-semibold ${(p.changePct??0)>=0?"text-emerald-700":"text-rose-700"}`,children:bEe(p.changePct)})]}),g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"text-sm text-slate-500",children:"5Y CAGR"}),g.jsxs("div",{className:"text-2xl font-semibold text-slate-900",children:[md(p.cagr5,2),"%"]})]}),g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"text-sm text-slate-500",children:"Range (min–max)"}),g.jsxs("div",{className:"text-2xl font-semibold text-slate-900",children:[md(p.min)," – ",md(p.max)]})]})]}),g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"mb-2 text-sm text-slate-600",children:(h==null?void 0:h.label)||"Indicator"}),g.jsx("div",{style:{width:"100%",height:320},children:g.jsx(Bbe,{children:g.jsxs(xEe,{data:p.series,children:[g.jsx(zW,{dataKey:"date",tick:{fontSize:12},minTickGap:24}),g.jsx(UW,{tick:{fontSize:12},domain:["auto","auto"]}),g.jsx(jW,{strokeDasharray:"3 3",opacity:.2}),g.jsx(Ibe,{}),g.jsx(BW,{type:"monotone",dataKey:"value",strokeWidth:2,dot:!1})]})})})]})]}),e!=="economics"&&g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 bg-white shadow-sm",children:[g.jsx("div",{className:"mb-2 text-sm text-slate-600",children:"Market Chart"}),g.jsx("div",{dangerouslySetInnerHTML:{__html:`
                <div class="tradingview-widget-container" style="height:480px;width:100%">
                  <div class="tradingview-widget-container__widget"></div>
                  <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
                  {
                    "allow_symbol_change": true,
                    "details": false,
                    "interval": "D",
                    "locale": "en",
                    "save_image": true,
                    "symbol": "BSE:SENSEX",
                    "theme": "light",
                    "autosize": true
                  }
                  <\/script>
                </div>
                `}})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(PEe,{}),g.jsx(AEe,{})]}),g.jsx(_Ee,{})]}),g.jsxs("aside",{className:"space-y-4",children:[g.jsx(EEe,{}),g.jsx(MI,{which:"BSE"}),g.jsx(MI,{which:"NSE"}),g.jsx(CEe,{}),g.jsx(TEe,{})]})]})]})}async function MEe(){const{data:e,error:t}=await Se.auth.getSession();if(t)throw t;return e.session??null}async function rA(){const e=await MEe();if(!e)throw new Error("Not authenticated");return e.user}async function NEe(){const e=await rA(),{data:t,error:n}=await Se.from("profiles").select("*").eq("id",e.id).maybeSingle();if(n)throw n;return t}async function jEe(e){const n={id:(await rA()).id,...e},{data:r,error:i}=await Se.from("profiles").upsert(n,{onConflict:"id"}).select().single();if(i)throw i;return r}async function IEe(e,t=null){const n=(e??"").trim();if(!n)return!1;let r=Se.from("profiles").select("id",{count:"exact",head:!0}).ilike("handle",n);t&&(r=r.neq("id",t));const{error:i,count:o}=await r;if(i)throw i;return(o??0)===0}async function ZW(e,t,n,r){if(!t)throw new Error("No file provided");const i=String(t.name||"").split("."),o=i.length>1?i.pop():"bin",s=`${n}/${r}.${o}`,{error:a}=await Se.storage.from(e).upload(s,t,{upsert:!0});if(a)throw a;const{data:l,error:c}=await Se.storage.from(e).getPublicUrl(s);if(c)throw c;return l.publicUrl}async function REe(e){const{data:{user:t},error:n}=await Se.auth.getUser();if(n)throw n;return ZW("avatars",e,t.id,"avatar")}async function DEe(e){const{data:{user:t},error:n}=await Se.auth.getUser();if(n)throw n;return ZW("banners",e,t.id,"banner")}const Ci={experiences:"experiences",educations:"educations",certifications:"certifications",projects:"projects"};async function dc(e,t){const{data:n,error:r}=await Se.from(e).select("*").eq("user_id",t).order("start_date",{ascending:!1}).order("end_year",{ascending:!1,nullsFirst:!1});if(r)throw r;return n??[]}async function LEe(e,t){const n=await rA(),r={...t,user_id:n.id},{data:i,error:o}=await Se.from(e).insert(r).select().single();if(o)throw o;return i}async function $Ee(e,t,n){const{data:r,error:i}=await Se.from(e).update(n).eq("id",t).select().single();if(i)throw i;return r}async function FEe(e,t){const{error:n}=await Se.from(e).delete().eq("id",t);if(n)throw n;return!0}async function BEe(e){const{data:t,error:n}=await Se.from("profiles").select("*").eq("handle",e).eq("is_public",!0).maybeSingle();if(n)throw n;if(!t)return null;const r=t.id,[{data:i,error:o},s,a,l,c]=await Promise.all([Se.from("user_skills").select("endorsement_count, skills(name), skill_id").eq("user_id",r),dc("experiences",r),dc("educations",r),dc("certifications",r),dc("projects",r)]);if(o)throw o;return{profile:t,experiences:s,educations:a,certifications:l,projects:c,skills:i??[]}}function $t({label:e,...t}){return g.jsxs("label",{className:"block mb-3",children:[g.jsx("span",{className:"block text-sm font-medium mb-1",children:e}),g.jsx("input",{className:"w-full border rounded px-3 py-2",...t})]})}function Cb({label:e,...t}){return g.jsxs("label",{className:"block mb-3",children:[g.jsx("span",{className:"block text-sm font-medium mb-1",children:e}),g.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:t.rows??4,...t})]})}function NI({item:e,onEdit:t,onDelete:n,titleKey:r,subtitleKey:i,right:o}){return g.jsxs("div",{className:"flex items-start justify-between border rounded p-3 mb-2",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold",children:e[r]}),g.jsx("div",{className:"text-sm opacity-80",children:e[i]}),o?g.jsx("div",{className:"text-xs opacity-70 mt-1",children:o(e)}):null]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:"text-blue-600",onClick:()=>t(e),children:"Edit"}),g.jsx("button",{className:"text-red-600",onClick:()=>n(e.id),children:"Delete"})]})]})}function zEe(){const[e,t]=x.useState(null),[n,r]=x.useState(!1),[i,o]=x.useState(""),[s,a]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState("");x.useEffect(()=>{(async()=>{var A;const{data:{user:k}}=await Se.auth.getUser();a(k);const C=await NEe();t({full_name:C.full_name??"",display_name:C.display_name??"",handle:C.handle??(((A=k==null?void 0:k.email)==null?void 0:A.split("@")[0])||""),headline:C.headline??"",summary:C.summary??"",location:C.location??"",industry:C.industry??"",website:C.website??"",github:C.github??"",twitter:C.twitter??"",photo_url:C.photo_url??"",banner_url:C.banner_url??"",is_public:C.is_public??!0}),c(await dc("experiences",k.id)),d(await dc("educations",k.id))})()},[]);async function p(k){var C;k==null||k.preventDefault(),r(!0),h("");try{if(e.handle){if(!await IEe(e.handle)&&e.handle!==(((C=s==null?void 0:s.email)==null?void 0:C.split("@")[0])??"")){o("taken"),r(!1);return}o("ok")}const A=await jEe(e);t(O=>({...O,...A})),h("Profile saved ✅")}catch(A){console.error(A),h(A.message)}finally{r(!1)}}async function m(k){var O;const C=(O=k.target.files)==null?void 0:O[0];if(!C)return;const A=await REe(C);t(M=>({...M,photo_url:A}))}async function y(k){var O;const C=(O=k.target.files)==null?void 0:O[0];if(!C)return;const A=await DEe(C);t(M=>({...M,banner_url:A}))}const[v,b]=x.useState(null);function w(k,C={}){b({table:k,data:C})}async function S(){const k=v.table,C=v.data;if(C.id){const A=await $Ee(k,C.id,C);T(k,O=>O.map(M=>M.id===A.id?A:M))}else{const A=await LEe(k,C);T(k,O=>[A,...O])}b(null)}async function E(k,C){await FEe(k,C),T(k,A=>A.filter(O=>O.id!==C))}function T(k,C){k===Ci.experiences&&c(C),k===Ci.educations&&d(C)}return e?g.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Profile"}),g.jsxs("div",{className:"relative mb-6",children:[e.banner_url?g.jsx("img",{src:e.banner_url,alt:"banner",className:"w-full h-48 object-cover rounded"}):g.jsx("div",{className:"w-full h-48 bg-gray-100 rounded"}),g.jsxs("label",{className:"absolute right-3 bottom-3 bg-white border rounded px-3 py-1 cursor-pointer",children:["Change cover",g.jsx("input",{type:"file",className:"hidden",onChange:y})]}),g.jsxs("div",{className:"absolute left-6 bottom-[-24px]",children:[g.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white overflow-hidden bg-white",children:e.photo_url?g.jsx("img",{src:e.photo_url,alt:"avatar",className:"w-full h-full object-cover"}):null}),g.jsxs("label",{className:"block mt-2 text-sm text-blue-700 cursor-pointer",children:["Update photo",g.jsx("input",{type:"file",className:"hidden",onChange:m})]})]})]}),g.jsxs("form",{onSubmit:p,className:"mt-10",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx($t,{label:"Full name",value:e.full_name,onChange:k=>t(C=>({...C,full_name:k.target.value}))}),g.jsx($t,{label:"Handle (public URL)",value:e.handle,onChange:k=>{o(""),t(C=>({...C,handle:k.target.value.toLowerCase().replace(/[^a-z0-9\-]/g,"-")}))}}),g.jsx($t,{label:"Headline",value:e.headline,onChange:k=>t(C=>({...C,headline:k.target.value}))}),g.jsx($t,{label:"Location",value:e.location,onChange:k=>t(C=>({...C,location:k.target.value}))}),g.jsx($t,{label:"Industry",value:e.industry,onChange:k=>t(C=>({...C,industry:k.target.value}))}),g.jsx($t,{label:"Website",value:e.website,onChange:k=>t(C=>({...C,website:k.target.value}))}),g.jsx($t,{label:"GitHub",value:e.github,onChange:k=>t(C=>({...C,github:k.target.value}))}),g.jsx($t,{label:"Twitter/X",value:e.twitter,onChange:k=>t(C=>({...C,twitter:k.target.value}))})]}),g.jsx(Cb,{label:"Summary",value:e.summary,onChange:k=>t(C=>({...C,summary:k.target.value}))}),g.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[g.jsx("input",{type:"checkbox",checked:!!e.is_public,onChange:k=>t(C=>({...C,is_public:k.target.checked}))}),g.jsx("span",{children:"Make my profile public"})]}),g.jsx("button",{disabled:n,className:"bg-black text-white px-4 py-2 rounded",children:n?"Saving…":"Save Profile"}),g.jsx("span",{className:"ml-3 text-sm",children:i==="taken"?"Handle already taken":f})]}),g.jsxs("div",{className:"mt-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Experience"}),g.jsx("button",{className:"text-blue-600",onClick:()=>w(Ci.experiences,{title:"",company:"",start_date:"",end_date:null,is_current:!1,location:"",description:""}),children:"Add"})]}),l.map(k=>g.jsx(NI,{item:k,titleKey:"title",subtitleKey:"company",right:C=>`${C.start_date??""} – ${C.is_current?"Present":C.end_date??""}`,onEdit:C=>w(Ci.experiences,C),onDelete:C=>E(Ci.experiences,C)},k.id))]}),g.jsxs("div",{className:"mt-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h2",{className:"text-xl font-semibold",children:"Education"}),g.jsx("button",{className:"text-blue-600",onClick:()=>w(Ci.educations,{school:"",degree:"",field:"",start_year:null,end_year:null,description:""}),children:"Add"})]}),u.map(k=>g.jsx(NI,{item:k,titleKey:"school",subtitleKey:"degree",right:C=>[C.field,[C.start_year,C.end_year].filter(Boolean).join("–")].filter(Boolean).join(" · "),onEdit:C=>w(Ci.educations,C),onDelete:C=>E(Ci.educations,C)},k.id))]}),v&&g.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white rounded p-4 w-full max-w-lg",children:[g.jsx("h3",{className:"font-semibold mb-3",children:v.table===Ci.experiences?"Experience":"Education"}),v.table===Ci.experiences?g.jsxs(g.Fragment,{children:[g.jsx($t,{label:"Title",value:v.data.title||"",onChange:k=>b(C=>({...C,data:{...C.data,title:k.target.value}}))}),g.jsx($t,{label:"Company",value:v.data.company||"",onChange:k=>b(C=>({...C,data:{...C.data,company:k.target.value}}))}),g.jsx($t,{label:"Location",value:v.data.location||"",onChange:k=>b(C=>({...C,data:{...C.data,location:k.target.value}}))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx($t,{type:"date",label:"Start date",value:v.data.start_date||"",onChange:k=>b(C=>({...C,data:{...C.data,start_date:k.target.value}}))}),g.jsx($t,{type:"date",label:"End date",value:v.data.end_date||"",onChange:k=>b(C=>({...C,data:{...C.data,end_date:k.target.value}}))})]}),g.jsxs("label",{className:"flex items-center gap-2 mb-2",children:[g.jsx("input",{type:"checkbox",checked:!!v.data.is_current,onChange:k=>b(C=>({...C,data:{...C.data,is_current:k.target.checked}}))}),g.jsx("span",{children:"Currently working here"})]}),g.jsx(Cb,{label:"Description",value:v.data.description||"",onChange:k=>b(C=>({...C,data:{...C.data,description:k.target.value}}))})]}):g.jsxs(g.Fragment,{children:[g.jsx($t,{label:"School",value:v.data.school||"",onChange:k=>b(C=>({...C,data:{...C.data,school:k.target.value}}))}),g.jsx($t,{label:"Degree",value:v.data.degree||"",onChange:k=>b(C=>({...C,data:{...C.data,degree:k.target.value}}))}),g.jsx($t,{label:"Field",value:v.data.field||"",onChange:k=>b(C=>({...C,data:{...C.data,field:k.target.value}}))}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsx($t,{label:"Start year",type:"number",value:v.data.start_year||"",onChange:k=>b(C=>({...C,data:{...C.data,start_year:k.target.valueAsNumber||null}}))}),g.jsx($t,{label:"End year",type:"number",value:v.data.end_year||"",onChange:k=>b(C=>({...C,data:{...C.data,end_year:k.target.valueAsNumber||null}}))})]}),g.jsx(Cb,{label:"Description",value:v.data.description||"",onChange:k=>b(C=>({...C,data:{...C.data,description:k.target.value}}))})]}),g.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[g.jsx("button",{className:"px-3 py-2",onClick:()=>b(null),children:"Cancel"}),g.jsx("button",{className:"bg-black text-white px-3 py-2 rounded",onClick:S,children:"Save"})]})]})})]}):g.jsx("div",{className:"p-6",children:"Loading…"})}function UEe(){const{handle:e}=m2(),[t,n]=x.useState(null),[r,i]=x.useState("");if(x.useEffect(()=>{(async()=>{try{const d=await BEe(e);n(d)}catch{i("Profile not found or not public.")}})()},[e]),r)return g.jsx("div",{className:"p-6",children:r});if(!t)return g.jsx("div",{className:"p-6",children:"Loading…"});const{profile:o,experiences:s,educations:a,certifications:l,projects:c,skills:u}=t;return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"relative",children:[o.banner_url?g.jsx("img",{src:o.banner_url,alt:"banner",className:"w-full h-56 object-cover"}):g.jsx("div",{className:"w-full h-56 bg-gray-100"}),g.jsx("div",{className:"absolute left-6 bottom-[-36px] w-28 h-28 rounded-full border-4 border-white overflow-hidden bg-white",children:o.photo_url?g.jsx("img",{src:o.photo_url,alt:"avatar",className:"w-full h-full object-cover"}):null})]}),g.jsxs("div",{className:"px-6 mt-12",children:[g.jsx("h1",{className:"text-3xl font-bold",children:o.full_name}),g.jsx("div",{className:"text-lg opacity-80",children:o.headline}),g.jsx("div",{className:"text-sm opacity-70",children:[o.location,o.industry].filter(Boolean).join(" · ")}),g.jsxs("div",{className:"mt-3 space-x-3",children:[o.website&&g.jsx("a",{className:"underline",href:o.website,target:"_blank",rel:"noreferrer",children:"Website"}),o.github&&g.jsx("a",{className:"underline",href:o.github,target:"_blank",rel:"noreferrer",children:"GitHub"}),o.twitter&&g.jsx("a",{className:"underline",href:o.twitter,target:"_blank",rel:"noreferrer",children:"Twitter"})]}),o.summary&&g.jsx("p",{className:"mt-6 whitespace-pre-wrap",children:o.summary}),u!=null&&u.length?g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Skills"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>{var f;return g.jsxs("span",{className:"px-3 py-1 border rounded text-sm",children:[(f=d.skills)==null?void 0:f.name," ",d.endorsement_count?`· ${d.endorsement_count}`:""]},d.skill_id)})})]}):null,s!=null&&s.length?g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Experience"}),s.map(d=>g.jsxs("div",{className:"border rounded p-3 mb-2",children:[g.jsx("div",{className:"font-semibold",children:d.title}),g.jsx("div",{className:"text-sm opacity-80",children:d.company}),g.jsxs("div",{className:"text-xs opacity-70 mb-2",children:[[d.start_date,d.is_current?"Present":d.end_date].filter(Boolean).join(" – "),d.location?` · ${d.location}`:""]}),d.description&&g.jsx("div",{className:"text-sm whitespace-pre-wrap",children:d.description})]},d.id))]}):null,a!=null&&a.length?g.jsxs("section",{className:"mt-8",children:[g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Education"}),a.map(d=>g.jsxs("div",{className:"border rounded p-3 mb-2",children:[g.jsx("div",{className:"font-semibold",children:d.school}),g.jsx("div",{className:"text-sm opacity-80",children:[d.degree,d.field].filter(Boolean).join(" · ")}),g.jsx("div",{className:"text-xs opacity-70 mb-2",children:[d.start_year,d.end_year].filter(Boolean).join(" – ")}),d.description&&g.jsx("div",{className:"text-sm whitespace-pre-wrap",children:d.description})]},d.id))]}):null,c!=null&&c.length?g.jsxs("section",{className:"mt-8 mb-10",children:[g.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Projects"}),c.map(d=>g.jsxs("div",{className:"border rounded p-3 mb-2",children:[g.jsx("div",{className:"font-semibold",children:d.url?g.jsx("a",{className:"underline",href:d.url,target:"_blank",rel:"noreferrer",children:d.name}):d.name}),g.jsx("div",{className:"text-sm opacity-80",children:d.role}),g.jsx("div",{className:"text-xs opacity-70 mb-2",children:[d.start_date,d.end_date].filter(Boolean).join(" – ")}),d.description&&g.jsx("div",{className:"text-sm whitespace-pre-wrap",children:d.description})]},d.id))]}):null]})]})}function VEe(){const{user:e,login:t}=Qy(),[n,r]=x.useState(""),[i,o]=x.useState(!1),[s,a]=x.useState(null),l=Gs(),c=typeof window<"u"?window.location.origin:void 0,u=async f=>{f.preventDefault(),o(!0);try{await t(n),alert("Check your email for a magic link!"),l("/")}catch(h){alert(h.message||"Failed to send magic link.")}finally{o(!1)}},d=async f=>{try{a(f);const{error:h}=await Se.auth.signInWithOAuth({provider:f,options:{redirectTo:c}});if(h)throw h}catch(h){alert(h.message||`Failed to login with ${f}.`),a(null)}};return e?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"max-w-md w-full p-6 bg-white dark:bg-zinc-900 rounded-lg shadow",children:[g.jsx("h1",{className:"text-xl font-semibold mb-4",children:"You are already logged in"}),g.jsx("button",{className:"w-full rounded bg-primary px-4 py-2 text-white",onClick:()=>l("/"),children:"Go back to Home"})]})}):g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-zinc-100 to-zinc-200 dark:from-zinc-900 dark:to-zinc-800",children:g.jsxs("div",{className:"max-w-md w-full p-6 bg-white dark:bg-zinc-900 rounded-xl shadow-xl",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Login / Sign Up"}),g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),g.jsx("input",{id:"email",type:"email",required:!0,className:"w-full rounded-md border border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-800 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"you@example.com",value:n,onChange:f=>r(f.target.value)})]}),g.jsx("button",{type:"submit",disabled:i,className:"w-full rounded bg-primary px-4 py-2 text-white font-semibold hover:bg-primary/90 disabled:opacity-50",children:i?"Sending Magic Link…":"Send Magic Link"})]}),g.jsxs("div",{className:"flex items-center my-6",children:[g.jsx("div",{className:"flex-grow h-px bg-zinc-300 dark:bg-zinc-700"}),g.jsx("span",{className:"px-2 text-zinc-500 text-sm",children:"or continue with"}),g.jsx("div",{className:"flex-grow h-px bg-zinc-300 dark:bg-zinc-700"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("button",{onClick:()=>d("google"),disabled:s!==null,className:"w-full flex items-center justify-center rounded border border-zinc-300 dark:border-zinc-700 px-4 py-2 text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-800 disabled:opacity-50",children:[g.jsx("img",{src:"/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),s==="google"?"Continuing…":"Continue with Google"]}),g.jsxs("button",{onClick:()=>d("linkedin_oidc"),disabled:s!==null,className:"w-full flex items-center justify-center rounded border border-zinc-300 dark:border-zinc-700 px-4 py-2 text-sm font-medium hover:bg-zinc-50 dark:hover:bg-zinc-800 disabled:opacity-50",children:[g.jsx("img",{src:"/linkedin.svg",alt:"LinkedIn",className:"w-5 h-5 mr-2"}),s==="linkedin_oidc"?"Continuing…":"Continue with LinkedIn"]})]})]})})}/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:eH,setPrototypeOf:jI,isFrozen:WEe,getPrototypeOf:HEe,getOwnPropertyDescriptor:KEe}=Object;let{freeze:In,seal:Yr,create:jS}=Object,{apply:IS,construct:RS}=typeof Reflect<"u"&&Reflect;In||(In=function(t){return t});Yr||(Yr=function(t){return t});IS||(IS=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return t.apply(n,i)});RS||(RS=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const jp=Rn(Array.prototype.forEach),qEe=Rn(Array.prototype.lastIndexOf),II=Rn(Array.prototype.pop),Xu=Rn(Array.prototype.push),GEe=Rn(Array.prototype.splice),um=Rn(String.prototype.toLowerCase),Tb=Rn(String.prototype.toString),Ab=Rn(String.prototype.match),Qu=Rn(String.prototype.replace),YEe=Rn(String.prototype.indexOf),JEe=Rn(String.prototype.trim),ri=Rn(Object.prototype.hasOwnProperty),kn=Rn(RegExp.prototype.test),Zu=XEe(TypeError);function Rn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return IS(e,t,r)}}function XEe(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return RS(e,n)}}function ke(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:um;jI&&jI(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const o=n(i);o!==i&&(WEe(t)||(t[r]=o),i=o)}e[i]=!0}return e}function QEe(e){for(let t=0;t<e.length;t++)ri(e,t)||(e[t]=null);return e}function to(e){const t=jS(null);for(const[n,r]of eH(e))ri(e,n)&&(Array.isArray(r)?t[n]=QEe(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=to(r):t[n]=r);return t}function ed(e,t){for(;e!==null;){const r=KEe(e,t);if(r){if(r.get)return Rn(r.get);if(typeof r.value=="function")return Rn(r.value)}e=HEe(e)}function n(){return null}return n}const RI=In(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pb=In(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_b=In(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZEe=In(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ob=In(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),eCe=In(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DI=In(["#text"]),LI=In(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Mb=In(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$I=In(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ip=In(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tCe=Yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nCe=Yr(/<%[\w\W]*|[\w\W]*%>/gm),rCe=Yr(/\$\{[\w\W]*/gm),iCe=Yr(/^data-[\-\w.\u00B7-\uFFFF]+$/),oCe=Yr(/^aria-[\-\w]+$/),tH=Yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sCe=Yr(/^(?:\w+script|data):/i),aCe=Yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),nH=Yr(/^html$/i),lCe=Yr(/^[a-z][.\w]*(-[.\w]+)+$/i);var FI=Object.freeze({__proto__:null,ARIA_ATTR:oCe,ATTR_WHITESPACE:aCe,CUSTOM_ELEMENT:lCe,DATA_ATTR:iCe,DOCTYPE_NAME:nH,ERB_EXPR:nCe,IS_ALLOWED_URI:tH,IS_SCRIPT_OR_DATA:sCe,MUSTACHE_EXPR:tCe,TMPLIT_EXPR:rCe});const td={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},cCe=function(){return typeof window>"u"?null:window},uCe=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},BI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function rH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cCe();const t=re=>rH(re);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==td.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:h}=e,p=l.prototype,m=ed(p,"cloneNode"),y=ed(p,"remove"),v=ed(p,"nextSibling"),b=ed(p,"childNodes"),w=ed(p,"parentNode");if(typeof s=="function"){const re=n.createElement("template");re.content&&re.content.ownerDocument&&(n=re.content.ownerDocument)}let S,E="";const{implementation:T,createNodeIterator:k,createDocumentFragment:C,getElementsByTagName:A}=n,{importNode:O}=r;let M=BI();t.isSupported=typeof eH=="function"&&typeof w=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:L,TMPLIT_EXPR:I,DATA_ATTR:J,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:j}=FI;let{IS_ALLOWED_URI:q}=FI,z=null;const U=ke({},[...RI,...Pb,..._b,...Ob,...DI]);let ne=null;const Oe=ke({},[...LI,...Mb,...$I,...Ip]);let le=Object.seal(jS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ae=null,We=null;const Dt=Object.seal(jS(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Y=!0,oe=!0,de=!1,B=!0,Me=!1,R=!0,G=!1,se=!1,ee=!1,ye=!1,Le=!1,He=!1,Si=!0,Sr=!1;const El="user-content-";let Ke=!0,be=!1,Zr={},Wo=null;const un=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let iA=null;const oA=ke({},["audio","video","img","source","image","track"]);let f0=null;const sA=ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),kh="http://www.w3.org/1998/Math/MathML",Eh="http://www.w3.org/2000/svg",qi="http://www.w3.org/1999/xhtml";let Cl=qi,h0=!1,p0=null;const iH=ke({},[kh,Eh,qi],Tb);let Ch=ke({},["mi","mo","mn","ms","mtext"]),Th=ke({},["annotation-xml"]);const oH=ke({},["title","style","font","a","script"]);let Eu=null;const sH=["application/xhtml+xml","text/html"],aH="text/html";let Lt=null,Tl=null;const lH=n.createElement("form"),aA=function(_){return _ instanceof RegExp||_ instanceof Function},m0=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Tl&&Tl===_)){if((!_||typeof _!="object")&&(_={}),_=to(_),Eu=sH.indexOf(_.PARSER_MEDIA_TYPE)===-1?aH:_.PARSER_MEDIA_TYPE,Lt=Eu==="application/xhtml+xml"?Tb:um,z=ri(_,"ALLOWED_TAGS")?ke({},_.ALLOWED_TAGS,Lt):U,ne=ri(_,"ALLOWED_ATTR")?ke({},_.ALLOWED_ATTR,Lt):Oe,p0=ri(_,"ALLOWED_NAMESPACES")?ke({},_.ALLOWED_NAMESPACES,Tb):iH,f0=ri(_,"ADD_URI_SAFE_ATTR")?ke(to(sA),_.ADD_URI_SAFE_ATTR,Lt):sA,iA=ri(_,"ADD_DATA_URI_TAGS")?ke(to(oA),_.ADD_DATA_URI_TAGS,Lt):oA,Wo=ri(_,"FORBID_CONTENTS")?ke({},_.FORBID_CONTENTS,Lt):un,Ae=ri(_,"FORBID_TAGS")?ke({},_.FORBID_TAGS,Lt):to({}),We=ri(_,"FORBID_ATTR")?ke({},_.FORBID_ATTR,Lt):to({}),Zr=ri(_,"USE_PROFILES")?_.USE_PROFILES:!1,Y=_.ALLOW_ARIA_ATTR!==!1,oe=_.ALLOW_DATA_ATTR!==!1,de=_.ALLOW_UNKNOWN_PROTOCOLS||!1,B=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Me=_.SAFE_FOR_TEMPLATES||!1,R=_.SAFE_FOR_XML!==!1,G=_.WHOLE_DOCUMENT||!1,ye=_.RETURN_DOM||!1,Le=_.RETURN_DOM_FRAGMENT||!1,He=_.RETURN_TRUSTED_TYPE||!1,ee=_.FORCE_BODY||!1,Si=_.SANITIZE_DOM!==!1,Sr=_.SANITIZE_NAMED_PROPS||!1,Ke=_.KEEP_CONTENT!==!1,be=_.IN_PLACE||!1,q=_.ALLOWED_URI_REGEXP||tH,Cl=_.NAMESPACE||qi,Ch=_.MATHML_TEXT_INTEGRATION_POINTS||Ch,Th=_.HTML_INTEGRATION_POINTS||Th,le=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&aA(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(le.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&aA(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(le.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(le.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(oe=!1),Le&&(ye=!0),Zr&&(z=ke({},DI),ne=[],Zr.html===!0&&(ke(z,RI),ke(ne,LI)),Zr.svg===!0&&(ke(z,Pb),ke(ne,Mb),ke(ne,Ip)),Zr.svgFilters===!0&&(ke(z,_b),ke(ne,Mb),ke(ne,Ip)),Zr.mathMl===!0&&(ke(z,Ob),ke(ne,$I),ke(ne,Ip))),_.ADD_TAGS&&(typeof _.ADD_TAGS=="function"?Dt.tagCheck=_.ADD_TAGS:(z===U&&(z=to(z)),ke(z,_.ADD_TAGS,Lt))),_.ADD_ATTR&&(typeof _.ADD_ATTR=="function"?Dt.attributeCheck=_.ADD_ATTR:(ne===Oe&&(ne=to(ne)),ke(ne,_.ADD_ATTR,Lt))),_.ADD_URI_SAFE_ATTR&&ke(f0,_.ADD_URI_SAFE_ATTR,Lt),_.FORBID_CONTENTS&&(Wo===un&&(Wo=to(Wo)),ke(Wo,_.FORBID_CONTENTS,Lt)),Ke&&(z["#text"]=!0),G&&ke(z,["html","head","body"]),z.table&&(ke(z,["tbody"]),delete Ae.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=_.TRUSTED_TYPES_POLICY,E=S.createHTML("")}else S===void 0&&(S=uCe(h,i)),S!==null&&typeof E=="string"&&(E=S.createHTML(""));In&&In(_),Tl=_}},lA=ke({},[...Pb,..._b,...ZEe]),cA=ke({},[...Ob,...eCe]),cH=function(_){let H=w(_);(!H||!H.tagName)&&(H={namespaceURI:Cl,tagName:"template"});const te=um(_.tagName),Ze=um(H.tagName);return p0[_.namespaceURI]?_.namespaceURI===Eh?H.namespaceURI===qi?te==="svg":H.namespaceURI===kh?te==="svg"&&(Ze==="annotation-xml"||Ch[Ze]):!!lA[te]:_.namespaceURI===kh?H.namespaceURI===qi?te==="math":H.namespaceURI===Eh?te==="math"&&Th[Ze]:!!cA[te]:_.namespaceURI===qi?H.namespaceURI===Eh&&!Th[Ze]||H.namespaceURI===kh&&!Ch[Ze]?!1:!cA[te]&&(oH[te]||!lA[te]):!!(Eu==="application/xhtml+xml"&&p0[_.namespaceURI]):!1},ki=function(_){Xu(t.removed,{element:_});try{w(_).removeChild(_)}catch{y(_)}},ia=function(_,H){try{Xu(t.removed,{attribute:H.getAttributeNode(_),from:H})}catch{Xu(t.removed,{attribute:null,from:H})}if(H.removeAttribute(_),_==="is")if(ye||Le)try{ki(H)}catch{}else try{H.setAttribute(_,"")}catch{}},uA=function(_){let H=null,te=null;if(ee)_="<remove></remove>"+_;else{const wt=Ab(_,/^[\r\n\t ]+/);te=wt&&wt[0]}Eu==="application/xhtml+xml"&&Cl===qi&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");const Ze=S?S.createHTML(_):_;if(Cl===qi)try{H=new f().parseFromString(Ze,Eu)}catch{}if(!H||!H.documentElement){H=T.createDocument(Cl,"template",null);try{H.documentElement.innerHTML=h0?E:Ze}catch{}}const dn=H.body||H.documentElement;return _&&te&&dn.insertBefore(n.createTextNode(te),dn.childNodes[0]||null),Cl===qi?A.call(H,G?"html":"body")[0]:G?H.documentElement:dn},dA=function(_){return k.call(_.ownerDocument||_,_,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},g0=function(_){return _ instanceof d&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof u)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},fA=function(_){return typeof a=="function"&&_ instanceof a};function Gi(re,_,H){jp(re,te=>{te.call(t,_,H,Tl)})}const hA=function(_){let H=null;if(Gi(M.beforeSanitizeElements,_,null),g0(_))return ki(_),!0;const te=Lt(_.nodeName);if(Gi(M.uponSanitizeElement,_,{tagName:te,allowedTags:z}),R&&_.hasChildNodes()&&!fA(_.firstElementChild)&&kn(/<[/\w!]/g,_.innerHTML)&&kn(/<[/\w!]/g,_.textContent)||_.nodeType===td.progressingInstruction||R&&_.nodeType===td.comment&&kn(/<[/\w]/g,_.data))return ki(_),!0;if(!(Dt.tagCheck instanceof Function&&Dt.tagCheck(te))&&(!z[te]||Ae[te])){if(!Ae[te]&&mA(te)&&(le.tagNameCheck instanceof RegExp&&kn(le.tagNameCheck,te)||le.tagNameCheck instanceof Function&&le.tagNameCheck(te)))return!1;if(Ke&&!Wo[te]){const Ze=w(_)||_.parentNode,dn=b(_)||_.childNodes;if(dn&&Ze){const wt=dn.length;for(let Bn=wt-1;Bn>=0;--Bn){const Yi=m(dn[Bn],!0);Yi.__removalCount=(_.__removalCount||0)+1,Ze.insertBefore(Yi,v(_))}}}return ki(_),!0}return _ instanceof l&&!cH(_)||(te==="noscript"||te==="noembed"||te==="noframes")&&kn(/<\/no(script|embed|frames)/i,_.innerHTML)?(ki(_),!0):(Me&&_.nodeType===td.text&&(H=_.textContent,jp([N,L,I],Ze=>{H=Qu(H,Ze," ")}),_.textContent!==H&&(Xu(t.removed,{element:_.cloneNode()}),_.textContent=H)),Gi(M.afterSanitizeElements,_,null),!1)},pA=function(_,H,te){if(Si&&(H==="id"||H==="name")&&(te in n||te in lH))return!1;if(!(oe&&!We[H]&&kn(J,H))){if(!(Y&&kn($,H))){if(!(Dt.attributeCheck instanceof Function&&Dt.attributeCheck(H,_))){if(!ne[H]||We[H]){if(!(mA(_)&&(le.tagNameCheck instanceof RegExp&&kn(le.tagNameCheck,_)||le.tagNameCheck instanceof Function&&le.tagNameCheck(_))&&(le.attributeNameCheck instanceof RegExp&&kn(le.attributeNameCheck,H)||le.attributeNameCheck instanceof Function&&le.attributeNameCheck(H,_))||H==="is"&&le.allowCustomizedBuiltInElements&&(le.tagNameCheck instanceof RegExp&&kn(le.tagNameCheck,te)||le.tagNameCheck instanceof Function&&le.tagNameCheck(te))))return!1}else if(!f0[H]){if(!kn(q,Qu(te,P,""))){if(!((H==="src"||H==="xlink:href"||H==="href")&&_!=="script"&&YEe(te,"data:")===0&&iA[_])){if(!(de&&!kn(K,Qu(te,P,"")))){if(te)return!1}}}}}}}return!0},mA=function(_){return _!=="annotation-xml"&&Ab(_,j)},gA=function(_){Gi(M.beforeSanitizeAttributes,_,null);const{attributes:H}=_;if(!H||g0(_))return;const te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let Ze=H.length;for(;Ze--;){const dn=H[Ze],{name:wt,namespaceURI:Bn,value:Yi}=dn,Al=Lt(wt),y0=Yi;let Jt=wt==="value"?y0:JEe(y0);if(te.attrName=Al,te.attrValue=Jt,te.keepAttr=!0,te.forceKeepAttr=void 0,Gi(M.uponSanitizeAttribute,_,te),Jt=te.attrValue,Sr&&(Al==="id"||Al==="name")&&(ia(wt,_),Jt=El+Jt),R&&kn(/((--!?|])>)|<\/(style|title|textarea)/i,Jt)){ia(wt,_);continue}if(Al==="attributename"&&Ab(Jt,"href")){ia(wt,_);continue}if(te.forceKeepAttr)continue;if(!te.keepAttr){ia(wt,_);continue}if(!B&&kn(/\/>/i,Jt)){ia(wt,_);continue}Me&&jp([N,L,I],vA=>{Jt=Qu(Jt,vA," ")});const yA=Lt(_.nodeName);if(!pA(yA,Al,Jt)){ia(wt,_);continue}if(S&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!Bn)switch(h.getAttributeType(yA,Al)){case"TrustedHTML":{Jt=S.createHTML(Jt);break}case"TrustedScriptURL":{Jt=S.createScriptURL(Jt);break}}if(Jt!==y0)try{Bn?_.setAttributeNS(Bn,wt,Jt):_.setAttribute(wt,Jt),g0(_)?ki(_):II(t.removed)}catch{ia(wt,_)}}Gi(M.afterSanitizeAttributes,_,null)},uH=function re(_){let H=null;const te=dA(_);for(Gi(M.beforeSanitizeShadowDOM,_,null);H=te.nextNode();)Gi(M.uponSanitizeShadowNode,H,null),hA(H),gA(H),H.content instanceof o&&re(H.content);Gi(M.afterSanitizeShadowDOM,_,null)};return t.sanitize=function(re){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=null,te=null,Ze=null,dn=null;if(h0=!re,h0&&(re="<!-->"),typeof re!="string"&&!fA(re))if(typeof re.toString=="function"){if(re=re.toString(),typeof re!="string")throw Zu("dirty is not a string, aborting")}else throw Zu("toString is not a function");if(!t.isSupported)return re;if(se||m0(_),t.removed=[],typeof re=="string"&&(be=!1),be){if(re.nodeName){const Yi=Lt(re.nodeName);if(!z[Yi]||Ae[Yi])throw Zu("root node is forbidden and cannot be sanitized in-place")}}else if(re instanceof a)H=uA("<!---->"),te=H.ownerDocument.importNode(re,!0),te.nodeType===td.element&&te.nodeName==="BODY"||te.nodeName==="HTML"?H=te:H.appendChild(te);else{if(!ye&&!Me&&!G&&re.indexOf("<")===-1)return S&&He?S.createHTML(re):re;if(H=uA(re),!H)return ye?null:He?E:""}H&&ee&&ki(H.firstChild);const wt=dA(be?re:H);for(;Ze=wt.nextNode();)hA(Ze),gA(Ze),Ze.content instanceof o&&uH(Ze.content);if(be)return re;if(ye){if(Le)for(dn=C.call(H.ownerDocument);H.firstChild;)dn.appendChild(H.firstChild);else dn=H;return(ne.shadowroot||ne.shadowrootmode)&&(dn=O.call(r,dn,!0)),dn}let Bn=G?H.outerHTML:H.innerHTML;return G&&z["!doctype"]&&H.ownerDocument&&H.ownerDocument.doctype&&H.ownerDocument.doctype.name&&kn(nH,H.ownerDocument.doctype.name)&&(Bn="<!DOCTYPE "+H.ownerDocument.doctype.name+`>
`+Bn),Me&&jp([N,L,I],Yi=>{Bn=Qu(Bn,Yi," ")}),S&&He?S.createHTML(Bn):Bn},t.setConfig=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m0(re),se=!0},t.clearConfig=function(){Tl=null,se=!1},t.isValidAttribute=function(re,_,H){Tl||m0({});const te=Lt(re),Ze=Lt(_);return pA(te,Ze,H)},t.addHook=function(re,_){typeof _=="function"&&Xu(M[re],_)},t.removeHook=function(re,_){if(_!==void 0){const H=qEe(M[re],_);return H===-1?void 0:GEe(M[re],H,1)[0]}return II(M[re])},t.removeHooks=function(re){M[re]=[]},t.removeAllHooks=function(){M=BI()},t}var dCe=rH();function fCe(e=""){const n=String(e).replace(/<[^>]*>/g," ").split(/\s+/).filter(Boolean).length;return Math.max(3,Math.round(n/200))}function hCe(){const{slug:e}=m2(),t=decodeURIComponent((e||"").trim()),{user:n}=Qy(),r=Gs(),[i,o]=x.useState(null),[s,a]=x.useState(!0);x.useEffect(()=>{let T=!1;return(async()=>{a(!0);const k="id, title, slug, section, excerpt, cover_url, content, content_md, tags, status, published_at, author_id, created_at";let{data:C,error:A}=await Se.from("articles").select(k).eq("slug",t).eq("status","published").maybeSingle();if((!C||A)&&(n!=null&&n.id)){const{data:O}=await Se.from("articles").select(k).eq("slug",t).eq("author_id",n.id).maybeSingle();O&&(C=O)}T||(o(C||null),a(!1))})(),()=>{T=!0}},[t,n==null?void 0:n.id]);const l=i?i.content??i.content_md??"":"",c=x.useMemo(()=>fCe(l),[l]);async function u(){if(!i||!window.confirm("Delete this article? This cannot be undone."))return;const{error:T}=await Se.from("articles").delete().eq("id",i.id).eq("author_id",n==null?void 0:n.id);T?alert("Delete failed: "+T.message):r("/")}if(s)return g.jsx("div",{className:"max-w-3xl mx-auto px-4 py-16",children:g.jsx("p",{className:"text-muted-foreground",children:"Loading…"})});if(!i)return g.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-16",children:[g.jsx("p",{className:"mb-4 font-semibold",children:"Article not found"}),g.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Tried slug: ",g.jsx("code",{children:t})]}),g.jsx(tt,{onClick:()=>r("/"),children:"Go Home"})]});const d=i.published_at??i.created_at,f=d?new Date(d).toISOString():null,h=d?new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",p=typeof window<"u"?window.location.href:`https://agarwalglobalinvestments.com/article/${i.slug}`,m=i.title||"Article",y=i.excerpt||(l?String(l).replace(/<[^>]*>/g," ").slice(0,160):"AGI article"),v=i.cover_url||"https://agarwalglobalinvestments.com/assets/og-image.png",b="Agarwal Global Investments",w=`https://agarwalglobalinvestments.com/article/${i.slug}`,S=dCe.sanitize(l),E={"@context":"https://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":w},headline:m,image:[v],datePublished:f,author:{"@type":"Person",name:"Shivam Agarwal"},publisher:{"@type":"Organization",name:b,logo:{"@type":"ImageObject",url:"https://agarwalglobalinvestments.com/assets/logo.png"}},description:y};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs(a2,{children:[g.jsxs("title",{children:[m," • AGI"]}),g.jsx("meta",{name:"description",content:y}),g.jsx("link",{rel:"canonical",href:w}),g.jsx("meta",{property:"og:site_name",content:b}),g.jsx("meta",{property:"og:type",content:"article"}),g.jsx("meta",{property:"og:url",content:p}),g.jsx("meta",{property:"og:title",content:`${m} | ${b}`}),g.jsx("meta",{property:"og:description",content:y}),g.jsx("meta",{property:"og:image",content:v}),f&&g.jsx("meta",{property:"article:published_time",content:f}),Array.isArray(i.tags)&&i.tags.map((T,k)=>g.jsx("meta",{property:"article:tag",content:T},k)),g.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),g.jsx("meta",{name:"twitter:title",content:`${m} | ${b}`}),g.jsx("meta",{name:"twitter:description",content:y}),g.jsx("meta",{name:"twitter:image",content:v}),v&&g.jsx("meta",{property:"og:image:alt",content:m}),g.jsx("script",{type:"application/ld+json",children:JSON.stringify(E)})]}),g.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[g.jsx(Bk,{to:"/",className:"text-sm text-muted-foreground hover:text-foreground",children:"← Back"}),g.jsx("h1",{className:"mt-3 text-3xl md:text-4xl font-extrabold tracking-tight leading-tight",children:i.title}),g.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-x-4 gap-y-2 text-sm text-muted-foreground",children:[g.jsx("span",{children:h}),g.jsx("span",{children:"•"}),g.jsxs("span",{children:[c," min read"]}),Array.isArray(i.tags)&&i.tags.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"•"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((T,k)=>g.jsxs("span",{className:"rounded-full bg-accent px-2 py-0.5 text-xs text-foreground",children:["#",T]},k))})]}),i.status==="draft"&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"•"}),g.jsx("span",{className:"text-orange-500",children:"Draft"})]})]}),v&&g.jsx("div",{className:"mt-6",children:g.jsx("img",{src:v,alt:"",className:"w-full rounded-xl border object-cover"})}),g.jsx("article",{className:`prose prose-neutral dark:prose-invert max-w-none mt-8
                     prose-img:rounded-lg prose-img:border
                     prose-h1:font-extrabold prose-h2:font-bold prose-p:leading-7`,dangerouslySetInnerHTML:{__html:S}}),g.jsxs("div",{className:"mt-10 flex flex-wrap gap-3",children:[g.jsx(tt,{variant:"outline",onClick:()=>window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(p)}`,"_blank"),children:"Share on LinkedIn"}),g.jsx(tt,{variant:"outline",onClick:()=>window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(p)}&text=${encodeURIComponent(m)}`,"_blank"),children:"Share on X"}),g.jsx(tt,{variant:"outline",onClick:()=>navigator.clipboard.writeText(p),children:"Copy link"}),(n==null?void 0:n.id)===i.author_id&&g.jsxs(g.Fragment,{children:[g.jsx(tt,{variant:"outline",onClick:()=>r(`/write?edit=${encodeURIComponent(i.slug)}`),children:"Edit"}),g.jsx(tt,{variant:"destructive",onClick:u,children:"Delete"})]})]})]})]})}function pCe(){const e=Gs();return g.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-background px-4",children:g.jsxs("div",{className:"max-w-2xl text-center",children:[g.jsx("h1",{className:"text-4xl font-extrabold mb-4",children:"404 — Page not found"}),g.jsx("p",{className:"text-lg text-foreground/80 mb-6",children:"Sorry — the page you are looking for does not exist or has been moved."}),g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 rounded-md border bg-white text-sm",children:"Go back"}),g.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 rounded-md bg-primary text-white text-sm",children:"Go to home"})]})]})})}const mCe=6e4;function gCe(e){if(!e)return 1;const t=e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),n=t?t.split(" ").length:0;return Math.max(1,Math.round(n/200))}function yCe(){const e=Gs(),{toast:t}=Xs(),[n,r]=x.useState([]),[i,o]=x.useState(!0),[s,a]=x.useState(null),l=x.useCallback(async()=>{o(!0),a(null);try{const c=Se.from("articles").select("id, title, slug, content, excerpt, cover_url, author, created_at, status, section, sections").eq("status","published").eq("section","opinions-editorials").order("created_at",{ascending:!1}),u=Se.from("articles").select("id, title, slug, content, excerpt, cover_url, author, created_at, status, section, sections").eq("status","published").contains("sections",["opinions-editorials"]).order("created_at",{ascending:!1}),[{data:d,error:f},{data:h,error:p}]=await Promise.all([c,u]);if(f&&f.code!=="PGRST116")throw f;if(p&&p.code!=="PGRST116")throw p;const m=Array.isArray(d)?d:[],y=Array.isArray(h)?h:[],v=new Map;[...m,...y].forEach(w=>{v.has(w.id)||v.set(w.id,w)});const b=Array.from(v.values()).sort((w,S)=>new Date(S.created_at)-new Date(w.created_at));r(b)}catch(c){console.error("Failed to fetch opinions",c),a((c==null?void 0:c.message)||String(c)),t({title:"Failed to load opinions",description:(c==null?void 0:c.message)||"See console for details",variant:"destructive"})}finally{o(!1)}},[t]);return x.useEffect(()=>{l();const c=setInterval(l,mCe);return()=>clearInterval(c)},[l]),g.jsx("section",{className:"py-20 bg-background",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-foreground mb-3",children:"Opinions & Editorials"}),g.jsx("p",{className:"text-lg text-foreground/70 max-w-3xl mx-auto",children:"Founder’s takes, guest columns and perspectives from our contributors."})]}),g.jsx("div",{className:"mb-6 flex items-center justify-end gap-3",children:g.jsxs("button",{onClick:()=>{l(),t({title:"Refreshing",description:"Fetching latest opinions..."})},className:"inline-flex items-center gap-2 px-3 py-1.5 border rounded shadow-sm hover:bg-gray-50","aria-label":"Refresh opinions",children:[g.jsx(uE,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"Refresh"})]})}),i&&g.jsx("div",{className:"space-y-6",children:[1,2].map(c=>g.jsxs("div",{className:"animate-pulse bg-card border border-border rounded-lg p-6 flex gap-6",children:[g.jsx("div",{className:"w-36 h-24 bg-gray-200 rounded"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"h-5 w-1/3 bg-gray-200 rounded mb-3"}),g.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded mb-2"}),g.jsx("div",{className:"h-3 w-2/3 bg-gray-200 rounded"})]})]},c))}),!i&&s&&g.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-sm text-red-700 mb-6",children:["Error: ",s]}),!i&&!s&&n.length===0&&g.jsxs("div",{className:"bg-card border border-border rounded-lg p-12 text-center text-muted-foreground",children:[g.jsx("div",{className:"mb-3 text-xl font-semibold",children:"No opinions yet"}),g.jsx("div",{className:"max-w-xl mx-auto",children:"This section is under construction — add opinion pieces via the editor to populate this page."})]}),g.jsx("div",{className:"space-y-8",children:n.map((c,u)=>{const d=gCe(c.content||c.excerpt||""),f=c.cover_url||"",h=c.author||"—",p=c.created_at?new Date(c.created_at).toLocaleDateString():"—";return g.jsx(rt.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.05},className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-md cursor-pointer",onClick:()=>e(`/article/${c.slug||c.id}`),children:g.jsxs("div",{className:"md:flex",children:[g.jsx("div",{className:"md:w-2/5 h-48 md:h-40 relative",children:f?g.jsx("img",{src:f,alt:c.title,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-muted-foreground",children:"No cover"})}),g.jsxs("div",{className:"p-6 md:flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"text-sm text-muted-foreground",children:[p," • ",d," min"]}),g.jsx("div",{className:"text-xs text-muted-foreground",children:c.section||c.sections&&c.sections.join(", ")})]}),g.jsx("h3",{className:"text-2xl font-semibold text-card-foreground mb-2",children:c.title||"Untitled"}),g.jsx("p",{className:"text-muted-foreground line-clamp-3 mb-4",children:c.excerpt||(c.content?c.content.replace(/<[^>]+>/g,"").slice(0,220)+"…":"")}),g.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[g.jsx("div",{className:"text-sm font-medium",children:h}),g.jsx("div",{className:"text-sm text-muted-foreground",children:"• View full piece"})]})]})]})},c.id)})})]})})}function vCe(){return g.jsxs(g.Fragment,{children:[g.jsx(Xre,{}),g.jsx(dB,{}),g.jsx(rie,{})]})}function xCe(){return g.jsx(Nk,{children:g.jsx(_q,{children:g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs(a2,{children:[g.jsx("title",{children:"Agarwal Global Investments - Insights that Power Investment Decisions"}),g.jsx("meta",{name:"description",content:"Independent research and live insights on finance, economics, private equity & M&A. Stay informed with Agarwal Global Investments."}),g.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),g.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"true"}),g.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap",rel:"stylesheet"})]}),g.jsx(Gre,{}),g.jsx("main",{children:g.jsxs(oq,{children:[g.jsx(et,{path:"/",element:g.jsx(vCe,{})}),g.jsx(et,{path:"/sections/live-articles",element:g.jsx(dB,{})}),g.jsx(et,{path:"/live-articles",element:g.jsx(oa,{replace:!0,to:"/sections/live-articles"})}),g.jsx(et,{path:"/sections/research-notes",element:g.jsx(sie,{})}),g.jsx(et,{path:"/research-notes",element:g.jsx(oa,{replace:!0,to:"/sections/research-notes"})}),g.jsx(et,{path:"/sections/deal-tracker",element:g.jsx(lie,{})}),g.jsx(et,{path:"/deal-tracker",element:g.jsx(oa,{replace:!0,to:"/sections/deal-tracker"})}),g.jsx(et,{path:"/sections/markets",element:g.jsx(OEe,{})}),g.jsx(et,{path:"/markets",element:g.jsx(oa,{replace:!0,to:"/sections/markets"})}),g.jsx(et,{path:"/sections/opinions-editorials",element:g.jsx(yCe,{})}),g.jsx(et,{path:"/opinions-editorials",element:g.jsx(oa,{replace:!0,to:"/sections/opinions-editorials"})}),g.jsx(et,{path:"/events",element:g.jsx(cie,{title:"Events & Webinars",subtitle:"Our calendar of upcoming events will be available shortly."})}),g.jsx(et,{path:"/events-webinars",element:g.jsx(oa,{replace:!0,to:"/events"})}),g.jsx(et,{path:"/login",element:g.jsx(VEe,{})}),g.jsx(et,{path:"/article/:slug",element:g.jsx(hCe,{})}),g.jsx(et,{path:"/articles/new",element:g.jsx(aN,{})}),g.jsx(et,{path:"/write",element:g.jsx(aN,{})})," ",g.jsx(et,{path:"/about",element:g.jsx(tie,{})}),g.jsx(et,{path:"/contact",element:g.jsx(nie,{})}),g.jsx(et,{path:"/profile/edit",element:g.jsx(zEe,{})}),g.jsx(et,{path:"/u/:handle",element:g.jsx(UEe,{})}),g.jsx(et,{path:"/404",element:g.jsx(pCe,{})}),g.jsx(et,{path:"*",element:g.jsx(oa,{replace:!0,to:"/404"})})]})}),g.jsx(iie,{}),g.jsx(Zde,{})]})})})}class bCe extends Te.Component{constructor(t){super(t),this.state={hasError:!1,message:""}}static getDerivedStateFromError(t){return{hasError:!0,message:(t==null?void 0:t.message)||String(t)}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-background",children:g.jsxs("div",{className:"max-w-lg bg-white p-6 rounded shadow text-center",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Something went wrong"}),g.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"An unexpected error occurred. Try refreshing the page. If it persists, contact support."}),g.jsxs("details",{className:"text-xs text-left text-gray-500",children:[g.jsx("summary",{children:"Show technical details"}),g.jsx("pre",{className:"whitespace-pre-wrap",children:this.state.message})]})]})}):this.props.children}}globalThis.net||(globalThis.net={});globalThis.net.http_post||(globalThis.net.http_post=async(e,t={},n={})=>{try{const r=typeof n=="string"?n:JSON.stringify(n),i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...t},body:r,credentials:"include"});if((i.headers.get("content-type")||"").includes("application/json")){const a=await i.json();return i.ok?a:{status:i.status,ok:!1,body:a}}const s=await i.text();return i.ok?s:{status:i.status,ok:!1,body:s}}catch(r){return console.error("net.http_post polyfill failed:",r),{error:(r==null?void 0:r.message)||String(r)}}});const wCe={},zI=typeof document<"u"?document.getElementById("root"):null;zI?jb.createRoot(zI).render(g.jsx(Te.StrictMode,{children:g.jsx(bCe,{children:g.jsx(Nk,{context:wCe,children:g.jsx(MZ,{children:g.jsx(_Z,{children:g.jsx(xCe,{})})})})})})):console.error('Root element not found: make sure an element with id="root" exists in index.html');
